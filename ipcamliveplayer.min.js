/* 											 	   
*  											 	   
* IPCamLive.com Player JavaScript Library v8.1.3 
* http://ipcamlive.com/ 					           
* 											     	   
* Copyright (c) 2022 IPCamLive Inc.    	  	 	   
* 	 											   	   
/* 										       	   
 												  	   
/*
* 
* Example:
*	$(window).load(function() { 
*		ipcamliveplayer.embed('mediadiv', '5464ada2be598');				
*	});
*
*	Params:
*		- HTML element ID
*		- Camera alias
*
*	OR
*
* 	$(window).load(function() { 
*		ipcamliveplayer.embed('mediadiv', '5464ada2be598', {autoplay: false, mute: false, disablefullscreen: false, disablevideofit: false, disableframecapture: false, timelapseplayerenabled: true, disabledownloadbutton: false});
*	}); 
*  
* <div id="mediadiv" style="width: 640px; height: 480px;"></div>
* 
* NOTE: Do not forger to adjust the height based on the ASPECT RATIO of the video stream!
* NOTE: When your DIV has been resized, you have to update IPCamLive player using ipcamliveplayer.resize() method! 
* 
* Required libraries:
* 	jquery 1.9.0+
* 
*/var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(b,d,a){if(null==b)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return b+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,d,a){b!=Array.prototype&&b!=Object.prototype&&(b[d]=a.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,d,a,e){if(d){a=$jscomp.global;b=b.split(".");for(e=0;e<b.length-1;e++){var c=b[e];c in a||(a[c]={});a=a[c]}b=b[b.length-1];e=a[b];d=d(e);d!=e&&null!=d&&$jscomp.defineProperty(a,b,{configurable:!0,writable:!0,value:d})}};
$jscomp.polyfill("String.prototype.startsWith",function(b){return b?b:function(b,a){var d=$jscomp.checkStringArgs(this,b,"startsWith");b+="";var c=d.length,h=b.length;a=Math.max(0,Math.min(a|0,d.length));for(var k=0;k<h&&a<c;)if(d[a++]!=b[k++])return!1;return k>=h}},"es6","es3");
var IPC_PLAYER_VERSION="8.1.3",IPC_PLAYER_CCS_VERSION="8",IPC_MAIN_CCS_VERSION="5",IPC_HLS_JS_VERSION="2",IPC_IMAGES_VERSION="4",VIDEO_LOGOPOS_TL="lefttop",VIDEO_LOGOPOS_TR="righttop",VIDEO_LOGOPOS_BL="leftbottom",VIDEO_LOGOPOS_BR="rightbottom",VIDEO_MAX_LOGO_SIZE=6,WAIT_TYPE_BUFFERING=1,WAIT_TYPE_CONNECTING=2,SCM_SHOW=1,SCM_SHOW_IF_NO_STREAM=2,ElementPositions={CENTER:0,BOTTOM:1},DO_NOT_USE_MSE_HLS_PLAYER=!1,DO_NOT_USE_MSE_WS_PLAYER=!1,DO_NOT_USE_NATIVE_HLS_PLAYER=!1,NATIVE_TEST_WITH_MP4=!1,EMULATE_MOBILE_MODE=
!1,TSE_OFF=0,TSE_TIMELAPSE=1,TSE_STORAGE=2,TSE_TIMELAPSESTORAGE=3,EMULATE_TIMELAPSE_STORAGE=TSE_OFF;1==DO_NOT_USE_NATIVE_HLS_PLAYER&&console.log("Native player not enabled! DO NOT RELEASE THIS!");1==EMULATE_MOBILE_MODE&&console.log("Emulate mobile device enabled! DO NOT RELEASE THIS!");
var defaultServerHost="http://player.ipcamlive.com/",ipcamliveHostManager=new function(){var b,d,a=void 0;this.checkHTTPS=function(){null!=d&&(null!=location&&"https:"===location.protocol&&(d=d.replace("http://","https://")),b=d+"player/html5player/images-"+IPC_IMAGES_VERSION+"/");null!=a&&null!=location&&"https:"===location.protocol&&(a=a.replace("http://","https://"))};this.setHostURL=function(a){d=a;this.checkHTTPS()};this.getHostURL=function(a){return null!=a?d+a:d};this.setTimelapseURL=function(b){a=
b;this.checkHTTPS()};this.getTimelapseURL=function(b){return null!=a?null!=b?a+b:a:this.getHostURL(b)};this.getImagePathURL=function(){return b};this.setHostURL(defaultServerHost)},ipcamlivehelper=new function(){this.addErrorTextTable=function(b,d,a,e,c){void 0==e&&(e=ipcStyleManager.getStyleByName("default",!0,!1));var h="";1==a&&""!=e.errorPage.icon&&(h='<img src="'+e.errorPage.icon+'" style="width: 48px; height: 48px; vertical-align:middle; padding-bottom:4px">');a="";1==c&&(a="display: none;");
var k=ipcStyleManager.buildCSSFilterString(e.filters);$("#"+b).html('<div style="width: 100%; height: 100%; background-color: '+e.errorPage.backgroundColor+';"><table id="'+b+'_errorTableText" style="width: 100%; height: 100%; '+a+k+'"><td style="text-align:center">'+h+'<span style="color: '+e.errorPage.textColor+"; font-family:"+e.text.fontFamily+'; font-weight: bold; padding-right: 12px; text-shadow: 1px 1px #000;">'+d+"</span></td></table></div>");1==c&&$("#"+b+"_errorTableText").fadeIn(500)};
this.addErrorText=function(b,d,a,e){var c=$("#"+b+"_connectingimg");0<c.length?c.fadeOut(500,function(){ipcamlivehelper.addErrorTextTable(b,d,a,e,!0)}):this.addErrorTextTable(b,d,a,e,!1)};this.showStreamStartTimer=function(b,d,a){if(0<a){var e=Math.floor(a/3600);a-=3600*e;var c=Math.floor(a/60);a-=60*c;var h=" ";0<e&&(h=h+e+"h ");if(0<e||0<c)h=h+c+"m ";if(0<e||0<c||0<a)h=h+a+"s ";this.addErrorText(b,ipcLocale.cameraStartInSec+h,1,d)}else this.addErrorText(b,ipcLocale.cameraStartSoon,1,d)};this.showDesignedError=
function(b,d){var a=dependencyhelper.createVersionedCSSFileName("player/html5player/pin",1);dependencyhelper.load_css(ipcamliveHostManager.getHostURL(a),function(){var a=new htmlEditHelperClass;a.setContainerName(b);var c=$("#"+b);c.empty();c=a.appendDiv(c,"pinPanelBack","pinLogin-back");c.css("position","relative");var h=a.appendDiv(c,"pinPanelCont","pinLogin-container");a=a.appendDiv(h,"pinPanelText","pinLogin-text");h=ipcamliveHostManager.getHostURL("player/logo.png");c.append('<img id="'+b+'_logo" src="'+
h+'" style="z-index: 2147483647; position: absolute; bottom: 16px; left: 16px;">');a[0].innerHTML=d})};this.getPosByID=function(b){switch(b){case "TL":return VIDEO_LOGOPOS_TL;case "TR":return VIDEO_LOGOPOS_TR;case "BL":return VIDEO_LOGOPOS_BL;case "BR":return VIDEO_LOGOPOS_BR;default:return VIDEO_LOGOPOS_BL}};this.createTimeout=function(b,d){var a=setTimeout(b,d);return{cancel:function(){clearTimeout(a)},trigger:function(){clearTimeout(a);return b()}}};this.resizeElement=function(b,d,a,e,c,h){var k=
Math.min(e.isMinWidthPercent||e.isMaxWidthPercent?.9*b.clientWidth:.25*b.clientWidth,e.isMaxWidthPercent?e.maxWidth*b.clientWidth:e.maxWidth);k=Math.max(k,e.isMinWidthPercent?e.minWidth*b.clientWidth:e.minWidth);a=a.height/a.width*k;void 0==h&&(h=ElementPositions.CENTER);switch(h){case ElementPositions.CENTER:var p=b.clientWidth/2-k/2;var l=b.clientHeight/2-a/2;break;case ElementPositions.BOTTOM:p=b.clientWidth/2-k/2,l=b.clientHeight-a-25}d.css({left:p+"px",top:l+"px",width:k+"px",height:a+"px"});
void 0!=c&&1==c&&void 0!=e.stateCount&&d.css("background-size",k*e.stateCount+"px "+a+"px")};this.printf=function(b){return Array.prototype.slice.call(arguments,1).reduce(function(b,a){return b.replace(/%s/,a)},b)};this.isURL=function(b){return!!/^(https?:\/\/)?((([a-z\d]([a-z\d-]*[a-z\d])*)\.)+[a-z]{2,}|((\d{1,3}\.){3}\d{1,3}))(\:\d+)?(\/[-a-z\d%_.~+]*)*(\?[;&a-z\d%_.~+=-]*)?(\#[-a-z\d_]*)?$/i.test(b)};this.getBoundingCSSRect=function(b){var d={};d.left=parseInt(b.css("left"));d.top=parseInt(b.css("top"));
d.right=d.left+b.width();d.bottom=d.top+b.height();return d};this.generateString=function(b){for(var d="",a=0;a<b;a++)d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return d}},AABB={intersectArea:function(b,d){var a=Math.min(b.right,d.right)-Math.max(b.left,d.left);b=Math.min(b.bottom,d.bottom)-Math.max(b.top,d.top);d=0;0<a&&0<b&&(d=a*b);return d},collide:function(b,d,a,e){!0===a?(b=ipcamlivehelper.getBoundingCSSRect(b),d=ipcamlivehelper.getBoundingCSSRect(d)):
(b=b.getBoundingClientRect(),d=d.getBoundingClientRect());if(0!=!(b.top>d.bottom||b.right<d.left||b.bottom<d.top||b.left>d.right)&&void 0!=e){a=(b.right-b.left)*(b.bottom-b.top);var c=(d.right-d.left)*(d.bottom-d.top);return AABB.intersectArea(b,d)/(a<c?a:c)>e}return!1},inside:function(b,d){b=b.getBoundingClientRect();d=d.getBoundingClientRect();return d.top<=b.top&&b.top<=d.bottom&&d.top<=b.bottom&&b.bottom<=d.bottom&&d.left<=b.left&&b.left<=d.right&&d.left<=b.right&&b.right<=d.right}},dependencyhelper=
new function(){var b=window,d=document,a=navigator,e=[];this.toInt=function(c){return parseInt(c,10)};this.detectFlashParams=function(){var c="undefined"!==typeof d.getElementById&&"undefined"!==typeof d.getElementsByTagName&&"undefined"!==typeof d.createElement,e=a.userAgent.toLowerCase(),k=a.platform.toLowerCase(),p=k?/win/.test(k):/win/.test(e);k=k?/mac/.test(k):/mac/.test(e);e=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1;var l="Microsoft Internet Explorer"===a.appName,
q=[0,0,0],g=null;if("undefined"!==typeof a.plugins&&"object"===typeof a.plugins["Shockwave Flash"])(g=a.plugins["Shockwave Flash"].description)&&"undefined"!==typeof a.mimeTypes&&a.mimeTypes["application/x-shockwave-flash"]&&a.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(plugin=!0,l=!1,g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),q[0]=this.toInt(g.replace(/^(.*)\..*$/,"$1")),q[1]=this.toInt(g.replace(/^.*\.(.*)\s.*$/,"$1")),q[2]=/[a-zA-Z]/.test(g)?this.toInt(g.replace(/^.*[a-zA-Z]+(.*)$/,
"$1")):0);else if("undefined"!==typeof b.ActiveXObject)try{if(g=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version"))l=!0,g=g.split(" ")[1].split(","),q=[this.toInt(g[0]),this.toInt(g[1]),this.toInt(g[2])]}catch(F){}return{w3:c,pv:q,wk:e,ie:l,win:p,mac:k}};this.hasFlashPlayerVersionLocal=function(c){c+="";var a=this.detectFlashParams().pv;c=c.split(".");c[0]=this.toInt(c[0]);c[1]=this.toInt(c[1])||0;c[2]=this.toInt(c[2])||0;return a[0]>c[0]||a[0]==c[0]&&a[1]>c[1]||a[0]==c[0]&&
a[1]==c[1]&&a[2]>=c[2]?!0:!1};this.isAllCSSLoaded=function(){return 0===e.length?!1:1===e[0].state};this.load_item=function(c,a,b){for(var d=0;d<e.length;d++)if(e[d].js===c){0===e[d].state?e[d].cbs.push(a):a();return}e.push({js:c,state:0,cbs:[a]});c=document.getElementsByTagName("head")[0];b.onload=function(){var c=b.href?b.href:b.src;for(var a=0;a<e.length;a++)if(e[a].js===c){e[a].state=1;c=e[a].cbs;for(a=0;a<c.length;a++)c[a]();break}};b.onreadystatechange=function(){if("complete"==this.readyState)b.onload()};
c.appendChild(b)};this.createVersionedFileName=function(c,a,b){return c+"-"+a+b};this.createVersionedJSFileName=function(c,a){return this.createVersionedFileName(c,a,".js")};this.createVersionedCSSFileName=function(c,a){return this.createVersionedFileName(c,a,".css")};this.load_js=function(c,a){var b=document.createElement("script");b.src=c;b.type="text/javascript";this.load_item(b.src,a,b)};this.load_css=function(a,b){var c=document.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=
a;this.load_item(c.href,b,c)};this.remove_item_cb=function(c,a){for(var b=0;b<e.length;b++)if(e[b].js===c){c=e[b].cbs.indexOf(a);-1!==c&&e[b].cbs.splice(c,1);break}};this.preload_image=function(a){(new Image).src=a}},browserhelper=new function(){var b=!1,d=void 0,a={},e=void 0;this.getParam=function(a,b,d){return void 0!=a&&a.hasOwnProperty(b)?a[b]:d};this.enableDebugLog=function(a){b=this.getParam(a,"enabledebuglog",!1);1==b&&this.log("Debug log enabled")};this.log=function(a){console&&1==b&&(console.log(a),
browserhelper.ui_log(a))};this.forceLog=function(a){console&&(console.log(a),browserhelper.ui_log(a))};this.isEdge=function(){if(void 0!=a.isEdge)return a.isEdge;a.isEdge=/Edge/i.test(navigator.userAgent);return a.isEdge};this.isHigherPlatform=function(a){return platform.version>=a||parseInt(platform.version)>=a};this.isMobileBrowser=function(){if(1==EMULATE_MOBILE_MODE)return!0;if(void 0!=a.isMobileBrowser)return a.isMobileBrowser;if(is.mobile()||is.touchDevice()&&is.safari())return a.isMobileBrowser=
!0,a.isMobileBrowser;if(is.windowsTablet()){if(void 0!=d)return d;this.log("Windows touch device detected (NoteBook/Tablet)");var c=document.createElement("video");if(c.canPlayType)return d=""!=c.canPlayType("application/x-mpegurl")||""!=c.canPlayType("application/vnd.apple.mpegurl"),this.log("\tCheck with video.canPlayType: "+d),d;d=!1;this.log("\tVideo.canPlayType not available...");return 10<=platform.os.version}return is.tablet()};this.isBrowserSupportNativeHLS=function(){if(void 0!=d)return d;
var a=document.createElement("video");return d=a.canPlayType?""!=a.canPlayType("application/x-mpegurl")||""!=a.canPlayType("application/vnd.apple.mpegurl"):!1};this.isNativeHLSSupported=function(){if(1==DO_NOT_USE_NATIVE_HLS_PLAYER)return!1;if(1==NATIVE_TEST_WITH_MP4)return!0;if(void 0!=a.isNativeHLSSupported)return a.isNativeHLSSupported;if(is.safari()&&is.windows())return a.isNativeHLSSupported=!1,a.isNativeHLSSupported;if(/Edge/i.test(navigator.userAgent)||0==EMULATE_MOBILE_MODE&&(this.isMobileBrowser()||
is.safari()))return this.log("Enable native HLS"),a.isNativeHLSSupported=!0,a.isNativeHLSSupported;var c=this.isHTML5HLSSupported(),b=this.isBrowserSupportNativeHLS(),d=dependencyhelper.hasFlashPlayerVersionLocal("10.1.0");(b=0==c&&1==b&&0==d)?this.log("Enable native HLS"):c?this.log("Native HLS not supported, using MSE"):d?this.log("Native HLS not supported, using FLASH"):this.log("Nothing supported (HLS, FLASH, Native HLS)");a.isNativeHLSSupported=b;return a.isNativeHLSSupported};this.isStableBrowserForHTML5_HLS=
function(){if(DO_NOT_USE_MSE_HLS_PLAYER)return!1;if(void 0!=a.isStableBrowserForHTML5_HLS)return a.isStableBrowserForHTML5_HLS;var c=platform.name+" / "+platform.version+" / "+platform.os.version;if(is.chrome())return this.log(c+" (detect: Chrome)"),a.isStableBrowserForHTML5_HLS=!0,a.isStableBrowserForHTML5_HLS;if(is.opera())return 1==browserhelper.isHigherPlatform(27)?(this.log(c+" (detect: Opera > 27)"),a.isStableBrowserForHTML5_HLS=!0):(this.log(c+" (detect: Opera <= 27)"),a.isStableBrowserForHTML5_HLS=
!1),a.isStableBrowserForHTML5_HLS;if(is.firefox())return 1==browserhelper.isHigherPlatform(45)?(this.log(c+" (detect: Firefox > 45)"),a.isStableBrowserForHTML5_HLS=!0):(this.log(c+" (detect: Firefox <= 45)"),a.isStableBrowserForHTML5_HLS=!1),a.isStableBrowserForHTML5_HLS;if(/Edge/i.test(navigator.userAgent))return this.log(c+" (detect: Edge)"),a.isStableBrowserForHTML5_HLS=!0,a.isStableBrowserForHTML5_HLS;if(is.ie())return this.log(c+" (detect: IE)"),a.isStableBrowserForHTML5_HLS=!1,a.isStableBrowserForHTML5_HLS;
this.log(c+" (detect: unknown)");a.isStableBrowserForHTML5_HLS=dependencyhelper.hasFlashPlayerVersionLocal("10.1.0");return dependencyhelper.hasFlashPlayerVersionLocal("10.1.0")};this.isHLSSupported=function(){if(void 0!=a.isHLSSupported)return a.isHLSSupported;a.isHLSSupported=window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');return a.isHLSSupported};this.isHTML5HLSSupported=function(){if(void 0!=a.isHTML5HLSSupported)return a.isHTML5HLSSupported;
a.isHTML5HLSSupported=this.isStableBrowserForHTML5_HLS()&&this.isHLSSupported();return a.isHTML5HLSSupported};this.isHTML5Supported=function(){if(void 0!=a.isHTML5Supported)return a.isHTML5Supported;if(this.isNativeHLSSupported())a.isHTML5Supported=!0;else{var c=this.isHTML5HLSSupported();a.isHTML5Supported=c}return a.isHTML5Supported};this.isWebSocketSupported=function(){if(DO_NOT_USE_MSE_WS_PLAYER)return!1;if(void 0!=a.isWebSocketSupported)return a.isWebSocketSupported;a.isWebSocketSupported=window.WebSocket&&
window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');return a.isWebSocketSupported};this.isInlineSupportedOnIPhone=function(){if(void 0!=a.isInlineSupportedOnIPhone)return a.isInlineSupportedOnIPhone;if(is.iphone()||is.ipod()){var c=document.createElement("video");a.isInlineSupportedOnIPhone=("playsInline"in c||"webkit-playsinline"in c)&&1==browserhelper.isHigherPlatform(10)}else a.isInlineSupportedOnIPhone=!1;return a.isInlineSupportedOnIPhone};this.isSafariMobile=
function(){if(void 0!=a.isSafariMobile)return a.isSafariMobile;if(0==is.safari())return a.isSafariMobile=!1,a.isSafariMobile;if(is.iphone()||is.ipod())return a.isSafariMobile=0==this.isInlineSupportedOnIPhone(),a.isSafariMobile;var c=document.createElement("div");c="webkitRequestFullScreen"in c||"requestFullScreen"in c?!1:0=="webkitEnterFullScreen"in document.createElement("video");a.isSafariMobile=c;return a.isSafariMobile};this.hexToRgb=function(a){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,
function(a,c,b,d){return c+c+b+b+d+d});return(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null};this.deepTest=function(a,b){b=b.split(".");for(a=a[b.shift()];a&&b.length;)a=a[b.shift()];return a};this.checkNested=function(a){for(var b=Array.prototype.slice.call(arguments,1),c=0;c<b.length;c++){if(!a||!a.hasOwnProperty(b[c]))return!1;a=a[b[c]]}return!0};this.getTextWidth=function(a,b){var c=document.createElement("canvas").getContext("2d");
c.font=b;return c.measureText(a).width};this.createLoggerWindow=function(a){$("#"+a).append("<div id="+a+'_console_div style="position: absolute; background-color: #fff; width: 400px; height: 400px"> <textarea \tid='+a+'_console_memo   style="resize:none; width:400px; height:400px"></textarea></div>');e=document.getElementById(a+"_console_memo")};this.ui_log=function(a){void 0!=e&&(e.value+=a,e.value+="\n")};this.isIOS13OrLater=function(){if(void 0!=a.isIOS13OrLater)return a.isIOS13OrLater;"MacIntel"==
navigator.platform?a.isIOS13OrLater=!0:is.ipad()||is.iphone()||is.ipod()?a.isIOS13OrLater=1==browserhelper.isHigherPlatform(13):a.isIOS13OrLater=!1;browserhelper.log("Is iOS 13 or later: "+a.isIOS13OrLater);return a.isIOS13OrLater};this.getOverflowValue=function(a){return 1==browserhelper.isIOS13OrLater()&&1==this.getParam(a,"iframemode",!1)?"":"overflow:hidden;"};this.inIframe=function(){try{return window.self!==window.top}catch(c){return!0}}},multilevelhelper=new function(){this.calcWeightX=function(b,
d,a){return b>=a[d-1].width&&b<=a[d].width?(b-a[d-1].width)/(a[d].width-a[d-1].width):0};this.calcWeightY=function(b,d,a){return b>=a[d-1].height&&b<=a[d].height?(b-a[d-1].height)/(a[d].height-a[d-1].height):0};this.selectLevelForPlayerSize=function(b,d,a){targetLevel=-1;for(var e=0;e<a.length;e++)if(b<=a[e].width&&d<=a[e].height){targetLevel=e;break}0<targetLevel?(wX=this.calcWeightX(b,targetLevel,a),wY=this.calcWeightY(d,targetLevel,a),.2>wX&&.2>wY&&--targetLevel):-1==targetLevel&&(targetLevel=
a.length-1);browserhelper.log("\tDetect Level for size: "+b+"x"+d+"; Result: "+targetLevel);return targetLevel};this.selectLevelForScreenSize=function(b){return 0<screen.width&&0<screen.height?(sW=screen.width*window.devicePixelRatio,sH=screen.height*window.devicePixelRatio,targetLevelLandscape=this.selectLevelForPlayerSize(sW,sH,b),targetLevelPortrai=this.selectLevelForPlayerSize(sH,sW,b),Math.max(targetLevelLandscape,targetLevelPortrai)):b.length-1};this.selectLevelBySize=function(b,d,a){if(0<b&&
0<d)for(var e=0;e<a.length;e++)if(a[e].width>=b||a[e].height>=d)return e;return a.length-1}},captureFrameHelper=new function(){this.isSupported=function(){return/Edge/i.test(navigator.userAgent)||is.safari()?!1:browserhelper.isMobileBrowser()?!1:!0};this.fillDateStr=function(b){return 1<b.length?b:"0"+b};this.createDateString=function(){var b=new Date,d=b.getFullYear(),a=b.getMonth()+1,e=b.getDate(),c=b.getHours(),h=b.getMinutes();b=b.getSeconds();return d.toString()+""+this.fillDateStr(a.toString())+
""+this.fillDateStr(e.toString())+"_"+this.fillDateStr(c.toString())+""+this.fillDateStr(h.toString())+""+this.fillDateStr(b.toString())};this.downloadCanvasAsImage_IE=function(b,d){return navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(b.msToBlob(),d)};this.downloadCanvasAsImage_Other=function(b,d){var a=b.toDataURL("image/jpeg");b=document.createElement("a");b.setAttribute("href",a);b.setAttribute("target","_blank");b.setAttribute("download",d);document.createEvent?(d=document.createEvent("MouseEvents"),
d.initEvent("click",!0,!0),b.dispatchEvent(d)):b.click&&b.click()};this.downloadCanvasAsImage=function(b,d){this.downloadCanvasAsImage_IE(b,d)||this.downloadCanvasAsImage_Other(b,d)};this.captureFrame=function(b,d){var a=document.createElement("canvas");a.width=b.videoWidth;a.height=b.videoHeight;a.getContext("2d").drawImage(b,0,0,a.width,a.height);b=(d?d:"Snapshot")+"-"+this.createDateString()+".jpg";this.downloadCanvasAsImage(a,b)}},blhd=new function(){this.B=0;this.M=1;this.P=2;var b=["aXBsaXZlY2Ftcy5jb20="];
this.isHBL=function(d){var a=1==browserhelper.inIframe()?document.referrer:window.location;if(void 0==a||""==a)return this.P;a=new URL(a);if(void 0==a||void 0==a.hostname||""==a.hostname)return this.P;var e=a.hostname;e.startsWith("www.")&&(e=e.replace("www.",""));a=!1;e=btoa(e);for(var c=0;c<b.length;c++)if(e==b[c]){a=!0;break}if(1==a&&void 0!=d&&d.hasOwnProperty("pm"))switch(d.pm){case "0":return this.P;case "1":return this.M;case "2":return this.B}else return this.P};this.showBMessage=function(b){ipcamlivehelper.showDesignedError(b,
atob("VGhpcyBjYW1lcmEgc3RyZWFtZWQgYnkgPGEgaHJlZj0naHR0cHM6Ly9pcGNhbWxpdmUuY29tJyBzdHlsZT0nY29sb3I6ICNGRjlGMkUnPklQQ2FtTGl2ZS5jb208L2E+IGFuZDxicj5ub3QgYWxsb3dlZCB0byBkaXNwbGF5IG9uIHRoaXMgd2Vic2l0ZS4="))};this.getMSnippet=function(){var b={overlaypanelenabled:1};b.overlaypanelcode=atob("W3sic25pcHBldCI6IjxzdHlsZT5cbiAgLkdlbmVyYXRlZE1hcnF1ZWUge1xuICAgIGZvbnQtZmFtaWx5OkFyaWFsLCBzYW5zLXNlcmlmO1xuICAgIGZvbnQtc2l6ZToyMHB4O1xuICAgIGxpbmUtaGVpZ2h0OjMwcHg7XG4gICAgY29sb3I6Izk5NjYwMDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiNGRkZGQ0M7XG4gICAgcGFkZGluZzowcHg7XG4gIH1cbjwvc3R5bGU+XG48bWFycXVlZSBjbGFzcz1cIkdlbmVyYXRlZE1hcnF1ZWVcIiBkaXJlY3Rpb249XCJsZWZ0XCIgc2Nyb2xsYW1vdW50PVwiN1wiIGJlaGF2aW9yPVwic2Nyb2xsXCI+XG4gVGhpcyBjYW1lcmEgaXMgb3JpZ2luYWxseSBwdWJsaXNoZWQgb24gSVBDYW1MaXZlLmNvbSFcbjwvbWFycXVlZT4iLCJyZXNwb25zaXZlQ29udGVudCI6dHJ1ZSwic2l6ZSI6eyJ4Ijp7InZhbHVlIjoxMDAsInR5cGUiOjEsImFsaWduIjowfSwieSI6eyJ2YWx1ZSI6MzAsInR5cGUiOjAsImFsaWduIjoxfX0sImFsaWduIjp7InZlcnRpY2FsQWxpZ24iOjAsImhvcml6b250YWxBbGlnbiI6MX0sInBhZGRpbmciOnsibGVmdFRvcCI6eyJ4Ijp7InZhbHVlIjowLCJ0eXBlIjowLCJhbGlnbiI6MH0sInkiOnsidmFsdWUiOjAsInR5cGUiOjAsImFsaWduIjoxfX0sInJpZ2h0Qm90dG9tIjp7IngiOnsidmFsdWUiOjAsInR5cGUiOjAsImFsaWduIjowfSwieSI6eyJ2YWx1ZSI6MCwidHlwZSI6MCwiYWxpZ24iOjF9fX19XQ==");
return b}};function basicWatchDog(b,d,a,e){function c(){k=0;null!=h&&(browserhelper.log(b+" WatchDog stopped."),window.clearInterval(h),h=null)}var h=null,k=0;this.start=function(){null==h&&(browserhelper.log(b+" WatchDog started."),h=window.setInterval(function(){var b=Date.now();0<k&&k+a<b&&this.error()},d))};this.stop=function(){c()};this.signal=function(){k=Date.now()};this.error=function(){c();browserhelper.log(b+" Watchdog fail, no signal received in the last "+a+"ms.");e()}}
function liveVideoPlayer(){var b,d={},a=void 0,e=void 0;this.player=function(c,h){if(browserhelper.isHTML5Supported())b=new ihtml5video(d);else if(dependencyhelper.hasFlashPlayerVersionLocal("10.1.0"))b=new iflashvideo;else return"On this platform you need Adobe Flash player to play this video stream.";b.setCheckStreamState(e);b.setExtraParams(a);b.player(c,h,!1);return!0};this.setEvents=function(a,d){void 0!=b&&b.setEvents(a,d)};this.destroyObjects=function(){void 0!=b&&b.destroyObjects()};this.resize=
function(){void 0!=b&&b.resize()};this.setExtraParams=function(b){a=b};this.setCheckStreamState=function(a){e=a};this.setSnippets=function(a){void 0!=b&&b.setSnippets(a)}}
function iplayerEx(){var b=void 0,d=void 0,a,e,c,h=void 0,k,p,l,q,g,F,w="",n=-1,H=!1,J=!0,r=0,z,t,u,C,v=0,D=void 0,A=function(a){ipcLM.setLocaleFromParam(c.locale);c.customskinurl?$.getJSON(c.customskinurl).done(function(b){c.style=ipcStyleManager.inheritStyle(b,!0,!0);a()}).fail(function(b,f,d){c.style=ipcStyleManager.getStyleByName(c.skin,!0,!0);a()}):(c.style=ipcStyleManager.getStyleByName(c.skin,!0,!0),a())},Q=function(a,b){$.get(ipcamliveHostManager.getHostURL("player/validatepin.php"),{_:$.now(),
alias:e,pin:a},function(a){var c=!1;"ok"==a.result&&void 0!=a.data.token&&(w=a.data.token,c=!0);b(c)},"json").fail(function(a,c,f){b(!1)})},R=function(b){var f=dependencyhelper.createVersionedCSSFileName("player/html5player/pin",1);dependencyhelper.load_css(ipcamliveHostManager.getHostURL(f),function(){var f=new htmlEditHelperClass;f.setContainerName(a);var d=$("#"+a);d.empty();d=f.appendDiv(d,"pinPanelBack","pinLogin-back");var E=f.appendDiv(d,"pinPanelCont","pinLogin-container");f.appendDiv(E,"pinPanelText",
"pinLogin-text").text(ipcLocale.enterPin);var e=new Pinlogin(E[0],c.style.colors.main,{fields:4,complete:function(a){Q(a,function(a){1==a?E.fadeOut(500).queue(function(){b()}):(e.reset(),v++,3==v?(e.disable(),v=30,D=setInterval(function(){v--;0<v?g.text(ipcamlivehelper.printf(ipcLocale.waitBeforeNextPin,v)):(g.animate({opacity:"0.0"},500),clearInterval(D),e.enable())},1E3),g.text(ipcamlivehelper.printf(ipcLocale.waitBeforeNextPin,v)),g.animate({opacity:"1.0"},500)):(g.text(ipcLocale.invalidPin),g.animate({opacity:"1.0"},
500).delay(2500).animate({opacity:"0.0"},500)))})}}),g=f.appendDiv(E,"pinPanelTextInvalid","pinLogin-text-invalid");g.text(ipcLocale.invalidPin)})},M=function(b){var f=$("#"+a+"_connectingimg");if(f&&(f.is(":visible")||1==b)){var d=$("#"+a);ipcamlivehelper.resizeElement(d[0],f,c.style.loading.buffering,c.style.loading.limits);1==b&&f.show()}},K=function(a){void 0!=c.rtcsupport&&0!=c.rtcsupport&&ipcamliveHostManager.getHostURL()===defaultServerHost&&$.getJSON(defaultServerHost+"player/getgroupaddress.php?alias="+
a).done(function(a){void 0!=a.address&&(browserhelper.log("New endpoint received: "+a.address),ipcamliveHostManager.setHostURL(a.address))}).fail(function(a,b,c){browserhelper.log("Endpoint received failed! Status: "+b+"; Code: "+c)})};this.setOnCreateVideoPlayer=function(a){d=a};this.setToken=function(a){w=a};this.embed=function(b,d,g){browserhelper.forceLog("Player Version: "+IPC_PLAYER_VERSION);var f=blhd.isHBL(g);f==blhd.B?blhd.showBMessage(b):(a=b,e=d,c=g,void 0===c&&(c={}),c.blhd=f,c.alias=
e,browserhelper.enableDebugLog(c),A(function(){K(e);x(45E3,SCM_SHOW_IF_NO_STREAM);B()}))};this.embedOnline=function(b,d,g,U,h,m,q){browserhelper.forceLog("Player Version: "+IPC_PLAYER_VERSION);var f=blhd.isHBL(q);f==blhd.B?blhd.showBMessage(b):(a=b,e=d,p=g,k=U,l=h,c=q,c.blhd=f,c.alias=e,void 0!=m&&null!=m&&0<m&&(c.websocketport=m),N(q),browserhelper.enableDebugLog(c),A(function(){K(e);L();B()}))};this.resize=function(){b?b.resize():M(!1)};this.setExtraParams=function(a){h=a};this.getWebSocketDelay=
function(){return void 0!=b?b.getWebSocketDelay():0};this.setSnippets=function(a){void 0!=b&&b.setSnippets(a)};var N=function(a){var b=void 0!=a.timeshiftenabled&&1==a.timeshiftenabled;void 0!=a.storageenabled&&1==a.storageenabled?(q=l+"streams_storage/",g=l+"streams_storage/"):b?(q=l+"streams_timeshift/",g=l+"streams_timeshift/"):(q=l+"streams/",g=l+"streams/");q=q+p+"/stream.m3u8";g=g+p+"/snapshot.jpg"},B=function(){var a=browserhelper.isHTML5Supported()?"HTML5":"Flash";$.get(ipcamliveHostManager.getHostURL("player/registerviewer.php"),
{_:$.now(),alias:e,type:a},function(a){"ok"==a.result&&(n=a.data.viewerid)},"json").fail(function(a,b,c){registerViewerTimer=setTimeout(function(){B()},1E3)})},y=function(b){switch(b){case WAIT_TYPE_BUFFERING:b=c.style.loading.buffering.anim;break;case WAIT_TYPE_CONNECTING:b=c.style.loading.connecting.anim;break;default:return}var d=ipcStyleManager.buildCSSFilterString(c.style.filters);$("#"+a).html('<div style="width: 100%; height: 100%; background-color: '+c.style.colors.loadingBackground+'; color: #ffffff; text-align:initial;"><img id="'+
a+'_connectingimg" src="'+b+'" style="position: relative; display: none; '+d+'"/></div>');$("#"+a+"_connectingimg").on("load",function(){M(!0)})},m=function(){var a="";try{a=window.location.hostname}catch(E){}return a},x=function(b,d){var f=m();void 0!=d&&(F=0,d==SCM_SHOW&&y(WAIT_TYPE_CONNECTING));clearTimeout(t);t=setTimeout(function(){$.get(ipcamliveHostManager.getHostURL("player/getcamerastreamstate.php"),{_:$.now(),token:w,alias:e,targetdomain:f,getstreaminfo:1},function(f){J=!1;if(1==f.details.streamavailable){p=
f.details.streamid;l=f.details.address;k=f.details.servicetype;N(f.details);c.audioenabled=f.details.audioenabled;c.timelapseenabledoncamera=f.details.timelapseenabled;c.storageenabled=f.details.storageenabled;if(EMULATE_TIMELAPSE_STORAGE==TSE_TIMELAPSE||EMULATE_TIMELAPSE_STORAGE==TSE_TIMELAPSESTORAGE)c.timelapseenabledoncamera=1;if(EMULATE_TIMELAPSE_STORAGE==TSE_STORAGE||EMULATE_TIMELAPSE_STORAGE==TSE_TIMELAPSESTORAGE)c.storageenabled=1;1==f.details.logoenabled&&(c.logo=ipcamliveHostManager.getHostURL("resources/logos/"+
f.details.logofilename),c.logopos=ipcamlivehelper.getPosByID(f.details.logopos));1==f.details.forceautostop&&(c.autostopaftersec="300");1==f.details.blockautoplay&&(c.autoplay=0);void 0!=f.details.websocketport&&null!=f.details.websocketport&&0<f.details.websocketport&&(c.websocketport=f.details.websocketport);var e=browserhelper.isHTML5Supported()?1:3;"undefined"!=typeof f.streaminfo&&"undefined"!=typeof f.streaminfo.live&&f.streaminfo.live.segmentcount>=e?(c.levels=f.streaminfo.live.levels,L()):
(y(WAIT_TYPE_BUFFERING),G(b+45E3))}else void 0!=f.details.enabled&&0==f.details.enabled?ipcamlivehelper.addErrorText(a,ipcLocale.cameraNotAvailable,1,c.style):"undefined"!=typeof f.details.cameracannotbeembedded&&f.details.cameracannotbeembedded?"undefined"!=typeof f.details.tokenexpired&&f.details.tokenexpired?ipcamlivehelper.addErrorText(a,ipcLocale.tokenExpired,0,c.style):"undefined"!=typeof f.details.cameracannotbeembedded_nsp&&f.details.cameracannotbeembedded_nsp?ipcamlivehelper.addErrorText(a,
ipcLocale.cannotEmbeddPackege,0,c.style):"undefined"!=typeof f.details.cameracannotbeembedded_itd&&f.details.cameracannotbeembedded_itd?ipcamlivehelper.addErrorText(a,ipcLocale.cannotEmbeddDomain,0,c.style):"undefined"!=typeof f.details.cameracannotbeembedded_pin&&f.details.cameracannotbeembedded_pin?R(function(){x(45E3,SCM_SHOW_IF_NO_STREAM)}):ipcamlivehelper.addErrorText(a,ipcLocale.cannotEmbedd,0,c.style):1==f.details.operationtimewindowenabled&&1!=f.details.operationtimewindowactive?(r=f.details.operationtimewindow_starttimesec+
15,O(!0)):(F+=1E3,F<b?(void 0!=d&&d==SCM_SHOW_IF_NO_STREAM&&y(WAIT_TYPE_CONNECTING),x(b)):ipcamlivehelper.addErrorText(a,ipcLocale.cameraNotAvailable,1,c.style))},"json").fail(function(a,c,f){a=J;J=!1;x(b,1==a?SCM_SHOW:void 0)})},1E3)},G=function(b){var f=m();clearTimeout(u);u=setTimeout(function(){$.get(ipcamliveHostManager.getHostURL("player/getcamerastreamstate.php"),{_:$.now(),token:w,alias:e,targetdomain:f,getstreaminfo:1},function(f){var d=browserhelper.isHTML5Supported()?1:3;"undefined"!=typeof f.streaminfo&&
"undefined"!=typeof f.streaminfo.live&&f.streaminfo.live.segmentcount>=d?L():(F+=1E3,F<b?G(b):ipcamlivehelper.addErrorText(a,ipcLocale.cameraNotAvailable,1,c.style))},"json").fail(function(a,c,f){G(b)})},1E3)},S=function(a){var b=m();void 0==a&&(a=6E4);void 0!=z&&z.cancel();z=ipcamlivehelper.createTimeout(function(){var a={_:$.now(),token:w,alias:e,targetdomain:b};H&&(a.viewerid=n);$.get(ipcamliveHostManager.getHostURL("player/getcamerastreamstate.php"),a,function(a){1==a.details.streamavailable&&
p==a.details.streamid?S():x(9E4,SCM_SHOW)},"json").fail(function(a,b,c){S(5E3)})},a)},O=function(b){b&&ipcamlivehelper.showStreamStartTimer(a,c.style,r);clearTimeout(C);C=setTimeout(function(){r--;ipcamlivehelper.showStreamStartTimer(a,c.style,r);0<r?15<r&&0==r%10?x(45E3):O(!1):x(45E3)},1E3)},I=function(f){b=void 0==f?new liveVideoPlayer:f;b.setExtraParams(h);b.setCheckStreamState(function(){void 0!=z&&z.trigger()});!0!==(f=b.player(a,c))?ipcamlivehelper.addErrorText(a,f,0,c.style):(b.setEvents(T,
P),S())},L=function(){"https:"===location.protocol&&(l=l.replace("http://","https://"),q=q.replace("http://","https://"),g=g.replace("http://","https://"));void 0!=z&&z.cancel();clearTimeout(t);clearTimeout(u);clearTimeout(C);void 0!=b&&(b.destroyObjects(),b=null);void 0===c&&(c={});c.source=q;c.poster=g;c.address=l;c.streamid=p;c.servicetype=k;"B"==k&&(c.logo=ipcamliveHostManager.getHostURL("player/logo.png"),c.logopos=VIDEO_LOGOPOS_BL,c.autostopaftersec="300");var a=void 0;void 0!=d&&(a=d(c));void 0!=
a?I(a):I(new liveVideoPlayer)},T=function(){H=!0;z.trigger()},P=function(){H=!1}}
function ihtml5video(b){function d(a,b){clearTimeout(G);G=setTimeout(function(){k(b)},a)}function a(a,b){var c=$("#"+n+"_logo");void 0!=c&&void 0!=c[0]&&(1==AABB.collide(c[0],a[0])&&1==b?c.animate({opacity:"0.0"},250):c.animate({opacity:"1.0"},250))}function e(a,b){a=$("#"+n+"_videoplayer");browserhelper.log("Stop native video, reembed player");clearTimeout(G);clearTimeout(K);clearTimeout(S);null!=I&&I();var c=void 0;void 0==y?(void 0!=a&&void 0!=a[0]&&(a[0].src="",a[0].load()),void 0!=m&&m.ipc_detachVideoControls()):
c=y.detachVideoPlayer(b);if(c&&0==c.reembedNeeded)return!1;$("#"+n).empty();D=v=0;C=!1;y=m=void 0;A=u=!1;window.removeEventListener("resize",k);window.removeEventListener("playing",q,!0);return!0}function c(a){if(0!=e(a))return w(n,H,J,a&&1==a),m}function h(a){void 0!=a&&1==a?void 0!=M&&M():($("#"+n+"_videoplayer"),T=!0,browserhelper.log("Cannot connect with WebSocket, fallback to HLS"),c(!0))}function k(a){if(void 0!=x){if(is.safari()){if(void 0!=a&&0==a){$("#"+n+"_logo").css("opacity",0);d(500,
1);return}if(void 0==a&&0==$("#"+n+"_logo").css("opacity"))return}var b=x.width();a=x.height();if(1!=u||0!=b&&0!=a&&0!=v&&0!=D){var c=25/B,f=$("#"+n+"_videoplayer");if(void 0==f||void 0==f[0])d(100);else{var e=f[0].videoWidth,g=f[0].videoHeight;0==e&&0==g?d(100):0==A&&(void 0!=m&&(1280<=e&&720<=g?m.set_HDState(!0):m.set_HDState(!1)),A=!0);if(0!=A){var h=v,k=D,q=!1;void 0!=m&&(m.updateFit(),q=m.get_isVideoFit());var l=b/e<=a/g;var p=e/g;g=b;var r=a;0==q&&(1==l?(r=b/p,g=b):(g=a*p,r=a));if(0<h&&0<k){p=
h*VIDEO_MAX_LOGO_SIZE-g;var y=k*VIDEO_MAX_LOGO_SIZE-r;0<p&&p>y?(p=h/k,h=Math.max(32,g/VIDEO_MAX_LOGO_SIZE),k=h/p):0<y&&y>p&&(p=k/h,k=Math.max(32,r/VIDEO_MAX_LOGO_SIZE),h=k/p)}0==e||0==h||q?(e=t==VIDEO_LOGOPOS_TL?b-h-c:c,q=c,l=t==VIDEO_LOGOPOS_TL||t==VIDEO_LOGOPOS_TR?c:a-k-c,b=t==VIDEO_LOGOPOS_TL||t==VIDEO_LOGOPOS_BL?c:b-h-c):1==l?(l=(a-r)/2,e=t==VIDEO_LOGOPOS_TL?b-h-c:c,q=l+c,l=t==VIDEO_LOGOPOS_TL||t==VIDEO_LOGOPOS_TR?l+c:a-l-k-c,b=t==VIDEO_LOGOPOS_TL||t==VIDEO_LOGOPOS_BL?c:b-h-c):(l=(b-g)/2,e=t==
VIDEO_LOGOPOS_TL?b-l-h-c:l+c,q=c,b=t==VIDEO_LOGOPOS_TL||t==VIDEO_LOGOPOS_BL?l+c:b-l-h-c,l=t==VIDEO_LOGOPOS_TL||t==VIDEO_LOGOPOS_TR?c:a-k-c);b+=x.offset().left;l+=x.offset().top;void 0!=m&&(C=l+k>a-m.get_controlBarHeight()-c,1==C&&(l=m.get_controlBarTop()-k-c));$("#"+n+"_logo").offset({top:l,left:b});$("#"+n+"_logo").width(h).height(k);$("#"+n+"_logo").show();$("#"+n+"_logo").css("opacity",1);1==isAudioEnabled&&f[0].muted&&m.setUnmuteButton({left:e,top:q})}}}else browserhelper.log("Invalid logo params:"+
b+"x"+a+", "+v+"x"+D),d(1E3)}}function p(){Q&&Q()}function l(){if(void 0==z||1==u||void 0==x)k();else{u=!0;x.append('<img id="'+n+'_logo" src="'+z+'" style="position: absolute; z-index: 2147483647;">');var a=$("#"+n+"_logo");a.css("opacity",0);a.css("pointer-events","none");a.on("load",function(){v=$(this).width();D=$(this).height();browserhelper.isMobileBrowser()&&(v/=B,D/=B);k(1)}).attr("src",a.attr("src"))}}function q(a){var b=$("#"+n+"_videoplayer");a.target==b[0]&&(l(),window.removeEventListener("playing",
q,!0),ipcStyleManager.setBackgroundColor(b,H.style.colors.videoBackground))}function g(a,b,c){return void 0!=a&&a.hasOwnProperty(b)?a[b]:c}function F(){void 0!=N&&(clearTimeout(K),K=setTimeout(function(){void 0==m?c():(F(),m.showContinueWatchMessage())},1E3*N))}function w(d,e,l,v){H=e;r=e.source;n=d;J=l;if(e.hasOwnProperty("source")){void 0!=P&&(browserhelper.log("Extra Params: "),browserhelper.log(P));void 0==ipcLocale&&ipcLM.setDefaultLocale();var f=browserhelper.isMobileBrowser();e.hasOwnProperty("levels");
B=window.devicePixelRatio;1==f&&1<B&&(B/=2);var w=browserhelper.isNativeHLSSupported();storageEnabled=g(e,"storageenabled",!1);1==browserhelper.isMobileBrowser()&&(storageEnabled=!1);1==w&&1==g(P,"desktop_safari_force_mse",!1)&&0==f&&is.safari()&&1==browserhelper.isHigherPlatform(8)&&(w=!1,browserhelper.log("Force use MSE player instead of native HLS"));var u="";isAudioEnabled=g(e,"audioenabled",!0);if(e.hasOwnProperty("mute")&&e.mute||0==isAudioEnabled)u="muted ";if(L=0==isAudioEnabled&&1==g(e,"websocketenabled",
!1)&&0==T&&browserhelper.isWebSocketSupported()&&0==l&&void 0!=e.websocketport)r="https:"===location.protocol?r.replace("https://","wss://"):r.replace("http://","wss://"),r=(new URL(r)).origin+":"+e.websocketport,console.log("WebSocket URL: "+r);z=g(e,"logo");t=g(e,"logopos");N=g(e,"autostopaftersec",3600);var E="";e.hasOwnProperty("autoplay")&&1==v&&e.autoplay&&(E="autoplay ",1==f&&(u="muted "));v=!0;e.hasOwnProperty("disableplayonreappear")&&(v=!e.disableplayonreappear);var A="preload=";A=1==L||
1==l||1==w&&""!=E?A+'"metadata" ':A+'"none" ';void 0==e.style&&(e.style=ipcStyleManager.getStyleByName("default",!0,!1));d={};d.videoTag=n+"_videoplayer";d.videoContainerTag=n+"_ipc_ic";d.isLiveMode=0==l;d.isMobile=f;d.onHide=c;d.onUpdate=k;d.onFitChange=p;d.posterURL=g(e,"poster","");d.disableFullScreen=g(e,"disablefullscreen",!1);d.disableVideoFit=1==g(e,"disablevideofit",!1)||1==browserhelper.isEdge();d.hideLink=g(e,"hidelink",!1);d.audioEnabled=isAudioEnabled;d.snapshotEnabled=!g(e,"disableframecapture",
!1);d.enableReportButton=!g(e,"disablereportbutton",!1);d.hideSpeedButton=g(e,"disableplaybackspeedbutton",!1);d.cameraAlias=e.alias;d.title=g(e,"title",void 0);d.source=r;d.disableDownloadButton=g(e,"disabledownloadbutton",!1);d.setSpeedControlState=a;d.customMenuItem=g(e,"custommenu",void 0);d.style=e.style;d.autoplay=""!=E;d.disableUserPause=g(e,"disableuserpause",!1);d.webSocketVerboseLog=g(e,"websocketverboselog",!1);d.hideContextMenu=g(e,"hidecontextmenu",!1);d.hideControlBar=g(e,"hidecontrolbar",
!1);d.stopRightAfterInvisible=g(e,"stoprightafterinvisible",!1);d.streamID=e.streamid;d.disableBufferingAnim=1==g(e,"disablebufferinganim",!1)||0==e.style.loading.buffering.enabled;d.videoFitMode=g(e,"videofitmode",void 0);d.globalState=void 0==b?{}:b;d.forEnabled=0==g(e,"disableautofullscreen",!1)&&1==f;d.uniqID=g(e,"uniqid",ipcamlivehelper.generateString(8));d.zoomEnabled=!g(e,"disablezoombutton",!1);d.storageEnabled=storageEnabled;d.blhd=e.blhd;d.disableOverlayPanel=g(e,"disableoverlaypanel",!1);
E="";d.playonscroll={};d.playonscroll.playonscroll=g(e,"playonscroll",!1);d.playonscroll.playonscrolldelay=g(e,"playonscrolldelay",1E3);d.playonscroll.playonscrollstopdelay=g(e,"playonscrollstopdelay",3E3);d.snippets=e.snippets;1==NATIVE_TEST_WITH_MP4&&(r="http://ipcamlive.com/resources/teststream/VfE_html5.mp4");window.addEventListener("playing",q,!0);window.addEventListener("resize",k);$("#"+n).html("<div id="+n+'_ipc_ic style="width:100%; height:100%; position:relative; background:#000; z-index:1; '+
browserhelper.getOverflowValue(e)+'"></div>');f=g(e,"showdebuglog",!1);0==l&&1==f&&browserhelper.createLoggerWindow(n+"_ipc_ic");f="";1==J&&(f=" crossorigin=anonymous");x=$("#"+n+"_ipc_ic");x.append("<video id="+n+"_videoplayer "+u+E+A+f+' style="width: 100%; height: 100%; background-color: '+e.style.colors.loadingBackground+'; display: block;">Your browser does not capable to play this content.</video>');$("#"+n+"_videoplayer").bind("play",function(){0==l&&F();null!=O&&O()});$("#"+n+"_videoplayer").bind("pause",
function(){clearTimeout(K);null!=I&&I()});$("#"+n).width();var G=$("#"+n).height();1==L?(d.playerType=ipc_html5_controls.PlayerTypeWS,y=new ipc_websocket_html5_controls,d=y.attachVideoPlayer(r,d,h),null!=d&&(m=d)):1==w||1==l?(w=browserhelper.isSafariMobile(),u=$("#"+n+"_videoplayer"),0==w?(d.playerType=ipc_html5_controls.PlayerTypeNative,m=new ipc_html5_controls,m.ipc_attachVideoControls(d),browserhelper.isInlineSupportedOnIPhone()&&(u.attr("playsinline","true"),u.attr("webkit-playsinline","true"))):
(browserhelper.log("This is safari mobile, ui disabled"),u.attr("poster",d.posterURL),u.attr("controls","true")),u.attr("src",r)):(d.playerType=ipc_html5_controls.PlayerTypeMSE,y=new ipc_hls_html5_controls,m=y.attachVideoPlayer(r,d));void 0!=m&&(v&&m.set_autoStartAfterPlayerVisibleAgain(),m.set_onControlBarMove(function(a,b){R&&R(a,m.get_controlBarTop());a=$("#"+n+"_logo");if(0!=a.length){if(0==C)if(b=25/B,C=c+D>G-m.get_controlBarHeight()-b,1==C){var c=m.get_controlBarTop()-a.height()-b;a.offset({top:c})}else return;
t!=VIDEO_LOGOPOS_TL&&t!=VIDEO_LOGOPOS_TR&&void 0!=a[0]&&(c=m.get_controlBarTop()-a.height()-25/B,$("#"+n+"_logo").offset({top:c}))}}));if(e.onControlsCreated)e.onControlsCreated(m)}}var n,H,J,r,z,t,u=!1,C=!1,v=0,D=0,A=!1,Q,R,M,K,N,B,y,m,x,G,S,O=null,I=null,L=!1,T=!1,P=void 0;void 0==b&&(b={});this.destroyObjects=function(){e(!1,!0)};this.setCheckStreamState=function(a){M=a};this.player=function(a,b,c){w(a,b,c,!0)};this.resize=function(){k()};this.setEvents=function(a,b){O=a;I=b};this.setOnControlBarUpdateEvent=
function(a){R=a};this.setOnFitChangeEvent=function(a){Q=a};this.start=function(){m.doVisibilityChange(!0,0)};this.stop=function(){return m.doVisibilityChange(!1,0,!0)};this.setSource=function(a){1==u&&($("#"+n+"_logo").remove(),D=v=0,u=C=!1);m.setSource(a)};this.getVideoPlayer=function(){return $("#"+n+"_videoplayer")};this.getServerAddress=function(){return H.address};this.getInnerContainerId=function(){return n+"_ipc_ic"};this.getControls=function(){return m};this.setExtraParams=function(a){P=a};
this.getWebSocketDelay=function(){return void 0!=y?y.getDelay():0};this.setSnippets=function(a){void 0!=m&&m.setSnippets(a)}}
function iflashvideo(){function b(){l=!0;d()}function d(){if(0==l)dependencyhelper.load_js(ipcamliveHostManager.getHostURL("player/swfobject.js"),b);else{var d=c.source,g="https:"===location.protocol?"skin_https.xml":"skin.xml";$("#"+e).width();$("#"+e).height();var p="MediaPlayer.swf";c.hasOwnProperty("hidelink")&&c.hidelink&&(p="MediaPlayer_DL.swf");var w="HLSPlugin.swf";c.hasOwnProperty("debug")&&c.debug&&(w="HLSPlugin_Debug.swf");d={src:d,autoPlay:"false",plugin_hls:ipcamliveHostManager.getHostURL("player/"+
w),hls_fragmentloadmaxretry:"2",hls_live_flushurlcache:"true",skin:ipcamliveHostManager.getHostURL("player/"+g),javascriptCallbackFunction:"onJavaScriptBridgeCreated"};c.hasOwnProperty("poster")&&(d.poster=c.poster);c.hasOwnProperty("autoplay")&&(d.autoPlay=c.autoplay?"true":"false");c.hasOwnProperty("logo")&&(d.logo=c.logo);c.hasOwnProperty("logopos")&&(d.logoPosition=c.logopos);c.hasOwnProperty("autostopaftersec")&&(d.autoStopAfterSec=c.autostopaftersec);c.hasOwnProperty("mute")&&c.mute&&(d.muted=
"true");c.hasOwnProperty("hidelink")&&(d.hideLinksInContextMenu=c.hidelink);c.hasOwnProperty("debug")&&c.debug&&(d.hls_debug="true",d.hls_debug2="true");g="direct";is.firefox()&&c.hasOwnProperty("ffrendermode")&&c.ffrendermode&&(browserhelper.log("Firefox render mode set to: "+c.ffrendermode),"window"===c.ffrendermode||"transparent"===c.ffrendermode||"opaque"===c.ffrendermode||"gpu"===c.ffrendermode)&&(g=c.ffrendermode);$("#"+e).html('<div id="flashVideoPlayer" style="display: block; width: 100%; height: 100%"></div>');
swfobject.embedSWF(ipcamliveHostManager.getHostURL("player/"+p),"flashVideoPlayer","100%","100%","10.1.0","",d,{allowFullScreen:"true",wmode:g,allowScriptAccess:"always"},{id:"flashVideoPlayer",name:"flashVideoPlayer"});null==k&&("undefined"!==typeof document.hidden?(h="hidden",k="visibilitychange"):"undefined"!==typeof document.mozHidden?(h="mozHidden",k="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(h="msHidden",k="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&
(h="webkitHidden",k="webkitvisibilitychange"),"undefined"!==typeof document.addEventListener&&"undefined"!==typeof document[h]&&document.addEventListener(k,a,!1))}}function a(){null!=p&&(window.clearInterval(p),p=null);document[h]&&(p=window.setInterval(function(){browserhelper.log("STOP FLASH");window.clearInterval(p);p=null;swfobject.removeSWF("flashVideoPlayer");d()},1E4))}var e,c,h=null,k=null,p=null,l=!1;this.player=function(a,b){e=a;c=b;b.hasOwnProperty("source")&&d()};this.resize=function(){var a=
$("#"+e).width(),b=$("#"+e).height();$("#"+e+"_videoplayer").width(a).height(b)};this.setEvents=function(a,b){};this.destroyObjects=function(){};this.start=function(){};this.stop=function(){swfobject.removeSWF("flashVideoPlayer");d()};this.setExtraParams=function(a){};this.setCheckStreamState=function(){}};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(c,b,d){c instanceof String&&(c=String(c));for(var a=c.length,e=0;e<a;e++){var f=c[e];if(b.call(d,f,e,c))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,b,d){c!=Array.prototype&&c!=Object.prototype&&(c[b]=d.value)};
$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(c,b,d,a){if(b){d=$jscomp.global;c=c.split(".");for(a=0;a<c.length-1;a++){var e=c[a];e in d||(d[e]={});d=d[e]}c=c[c.length-1];a=d[c];b=b(a);b!=a&&null!=b&&$jscomp.defineProperty(d,c,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");var ipc_contextMenuShown=!1;
(function(c){c.contextMenu={shadow:!0,shadowOffset:0,shadowOffsetX:5,shadowOffsetY:5,shadowWidthAdjust:-3,shadowHeightAdjust:-3,shadowOpacity:.2,shadowClass:"context-menu-shadow",shadowColor:"black",offsetX:0,offsetY:0,appendTo:"body",direction:"down",constrainToScreen:!0,showTransition:"show",hideTransition:"hide",showSpeed:null,hideSpeed:null,showCallback:null,hideCallback:null,className:"context-menu",itemClassName:"context-menu-item",itemHoverClassName:"context-menu-item-hover",disabledItemClassName:"context-menu-item-disabled",
disabledItemHoverClassName:"context-menu-item-disabled-hover",separatorClassName:"context-menu-separator",innerDivClassName:"context-menu-item-inner",themePrefix:"context-menu-theme-",theme:"default",separator:"context-menu-separator",target:null,menu:null,shadowObj:null,bgiframe:null,shown:!1,useIframe:!1,create:function(b,d){var a=c.extend({},this,d);"string"==typeof b?a.menu=c(b):"function"==typeof b?a.menuFunction=b:a.menu=a.createMenu(b,a);a.menu&&(a.menu.css({display:"none"}),c(a.appendTo).append(a.menu));
a.shadow&&(a.createShadow(a),a.shadowOffset&&(a.shadowOffsetX=a.shadowOffsetY=a.shadowOffset));c("body").bind("contextmenu",function(){a.hide()});return a},createIframe:function(){return c('<iframe frameborder="0" tabindex="-1" src="javascript:false" style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=0);"/>')},createMenu:function(b,d){var a=d.className;c.each(d.theme.split(","),function(b,c){a+=" "+d.themePrefix+c});for(var e=c("<table cellspacing=0 cellpadding=0></table>").click(function(){d.hide();
return!1}),f=c("<tr></tr>"),h=c("<td></td>"),g=c('<div class="'+a+'"></div>'),k=0;k<b.length;k++){var l=b[k];l==c.contextMenu.separator?g.append(d.createSeparator()):g.append(d.createMenuItem(l.title,l.data))}d.useIframe&&h.append(d.createIframe());e.append(f.append(h.append(g)));return e},createMenuItem:function(b,d){var a=this;"function"==typeof d&&(d={onclick:d});var e=c.extend({onclick:function(){},className:"",hoverClassName:a.itemHoverClassName,icon:"",disabled:!1,title:"",hoverItem:a.hoverItem,
hoverItemOut:a.hoverItemOut},d),f=e.icon?"background-image:url("+e.icon+");":"";d=c('<div class="'+a.itemClassName+" "+e.className+(e.disabled?" "+a.disabledItemClassName:"")+'" title="'+e.title+'"></div>').click(function(b){return a.isItemDisabled(this)?!1:e.onclick.call(a.target,this,a,b)}).hover(function(){e.hoverItem.call(this,a.isItemDisabled(this)?a.disabledItemHoverClassName:e.hoverClassName)},function(){e.hoverItemOut.call(this,a.isItemDisabled(this)?a.disabledItemHoverClassName:e.hoverClassName)});
b=c('<div class="'+a.innerDivClassName+'" style="'+f+'">'+b+"</div>");d.append(b);return d},createSeparator:function(){return c('<div class="'+this.separatorClassName+'"></div>')},isItemDisabled:function(b){return c(b).is("."+this.disabledItemClassName)},hoverItem:function(b){c(this).addClass(b)},hoverItemOut:function(b){c(this).removeClass(b)},createShadow:function(b){b.shadowObj=c('<div class="'+b.shadowClass+'"></div>').css({display:"none",position:"absolute",zIndex:9998,opacity:b.shadowOpacity,
backgroundColor:b.shadowColor});c(b.appendTo).append(b.shadowObj)},showShadow:function(b,c,a){if(this.shadow)this.shadowObj.css({width:this.menu.width()+this.shadowWidthAdjust+"px",height:this.menu.height()+this.shadowHeightAdjust+"px",top:c+this.shadowOffsetY+"px",left:b+this.shadowOffsetX+"px"}).addClass(this.shadowClass)[this.showTransition](this.showSpeed)},beforeShow:function(){return!0},show:function(b,d){var a=this,e=d.pageX,f=d.pageY;a.target=b;!1!==a.beforeShow()&&(a.menuFunction&&(a.menu&&
c(a.menu).remove(),a.menu=a.createMenu(a.menuFunction(a,b),a),a.menu.css({display:"none"}),c(a.appendTo).append(a.menu)),b=a.menu,e+=a.offsetX,f+=a.offsetY,e=a.getPosition(e,f,a,d),a.showShadow(e.x,e.y,d),a.useIframe&&b.find("iframe").css({width:b.width()+a.shadowOffsetX+a.shadowWidthAdjust,height:b.height()+a.shadowOffsetY+a.shadowHeightAdjust}),b.css({top:e.y+"px",left:e.x+"px",position:"absolute",zIndex:9999})[a.showTransition](a.showSpeed,a.showCallback?function(){a.showCallback.call(a)}:null),
ipc_contextMenuShown=a.shown=!0,c(document).one("click",null,function(){a.hide()}))},getPosition:function(b,d,a,e){b+=a.offsetX;d+=a.offsetY;e=c(a.menu).height();var f=c(a.menu).width(),h=a.direction;if(a.constrainToScreen){var g=c(window),k=g.height();a=g.width();"down"==h&&d+e-g.scrollTop()>k&&(h="up");f=b+f-g.scrollLeft();f>a&&(b-=f-a)}"up"==h&&(d-=e);return{x:b,y:d}},hide:function(){var b=this;if(b.shown){b.iframe&&c(b.iframe).hide();if(b.menu)b.menu[b.hideTransition](b.hideSpeed,b.hideCallback?
function(){b.hideCallback.call(b)}:null);if(b.shadow)b.shadowObj[b.hideTransition](b.hideSpeed)}ipc_contextMenuShown=b.shown=!1},destroy:function(){this.hide();this.shadow&&this.shadowObj.remove();this.menu&&this.menu.remove()}};c.fn.contextMenu=function(b,d){var a=c.contextMenu.create(b,d);this.each(function(){c(this).bind("contextmenu",function(b){a.show(this,b);return!1})});return a}})(jQuery);
function ipc_for_mgr(){function k(){var a=l&&0==d.length;if(a!=m)try{try{n(a,e)}catch(b){}}finally{m=a}}function f(a){a={type:1,data:{id:e,forEnabled:a}};try{var b=[];1==browserhelper.inIframe()?(window.parent.postMessage(a,"*"),b=window.parent.frames):(window.postMessage(a,"*"),b=window.frames);for(var c=0;c<b.length;c++)b[c].postMessage(a,"*")}catch(t){}}function r(){f(!0);g=ipcamlivehelper.createTimeout(function(){f(!0)},1500)}function p(a){a=a.data;try{if(a.data.id!==e){var b=d.indexOf(a.data.id);
if(1==a.data.forEnabled){if(-1<b)return;d.push(a.data.id)}else{if(-1>=b)return;d.splice(b,1)}k()}}catch(c){}}var e,h,l=!1,n,q,d=[],m=void 0,g=void 0;this.init=function(a,b,c){e=a;q=b;n=c;h=new IntersectionObserver(function(a){l=1==a[0].isIntersecting;k()},{threshold:.3});h.observe(q);r();window.addEventListener("message",p,!1)};this.done=function(){document.removeEventListener("message",p);g&&g.cancel();f(!1);h.disconnect()}};
function ipc_hls_html5_controls(){function l(){if(0==dependencyhelper.isAllCSSLoaded())setTimeout(l,100);else if(Hls.isSupported()){var f={debug:!1,autoStartLoad:!1,liveSyncDurationCount:2};0==b.storageEnabled&&(f.liveMaxLatencyDurationCount=3);a=new Hls(f);a.attachMedia(e[0]);a.on(Hls.Events.ERROR,function(f,m){if(m.fatal)switch(m.type){case Hls.ErrorTypes.NETWORK_ERROR:a.startLoad();break;case Hls.ErrorTypes.MEDIA_ERROR:a.recoverMediaError();break;default:if(null!=b.onHide)b.onHide()}});a.on(Hls.Events.MANIFEST_PARSED,
function(f,b){try{1<b.levels.length&&(n=!0,h(!0),c.set_showLiveResolution(!0),window.addEventListener("resize",h))}finally{a.startLoad()}});b.autoplay?p():c.showPlay()}}function q(){null!=a&&(a.loadLevel=-1,a.nextLevel=d,browserhelper.log("Start Level Change to "+d))}function h(f){if(null!=a&&void 0!=a.levels){var b=a.levels;if(!(2>b.length)){log="Player Size: ["+e.width()+" x "+e.height()+"]; Levels =";for(var c=0;c<b.length;c++)log=log+" ["+b[c].width+" x "+b[c].height+"]";d=multilevelhelper.selectLevelForPlayerSize(e.width(),
e.height(),b);log=log+"; Selected = "+d;browserhelper.log(log);1==f?(browserhelper.log("Set StartLevel to "+d),a.startLevel=d,a.loadLevel=d):(null!=k&&clearTimeout(k),a.nextLevel!=d&&(k=setTimeout(q,1E3)))}}}function p(){a.loadSource(g)}var b=null,g=null,a=null,e=null,c=null,d=-1,n=!1,k=null;this.attachVideoPlayer=function(a,d){null!=g&&this.detachVideoPlayer();b={};$.extend(b,d);g=a;e=$("#"+b.videoTag);b.onFirstPlay=p;c=new ipc_html5_controls;c.ipc_attachVideoControls(b);c.hidePlay();a=dependencyhelper.createVersionedJSFileName("player/html5player/hls.min",
IPC_HLS_JS_VERSION);dependencyhelper.load_js(ipcamliveHostManager.getHostURL(a),l);return c};this.detachVideoPlayer=function(d){1==n&&window.removeEventListener("resize",h);e[0].pause();void 0!=d&&0!=d||e[0].setAttribute("poster",b.posterURL);null!=a&&(a.destroy(),a=null);c.ipc_detachVideoControls();g=c=null}};
var SourceTypeLive=0,SourceTypeTimelapse=1,SourceTypeStorage=2;
function ipc_html5_controls(){function O(){G=0==b.disableVideoFit&&!0==="objectFit"in document.documentElement.style;1==G&&void 0!==b.videoFitMode&&(c.css("object-fit",b.videoFitMode),y=!0,G=!1);m();0!=b.isLiveMode&&1!=b.storageEnabled||Fb();Gb(1);c.on("play",r);c.on("pause",z);if(b.isMobile)c.on("touchend",ta),screen&&screen.orientation&&screen.orientation.addEventListener("change",eb);else c.on("click",ta);c.on("ended",fb);c.on("canplay",gb);c.on("loadedmetadata",l);c.on("playing",hb);c.on("waiting",
ib);c.on("progress",jb);window.addEventListener("resize",P);Hb();Ib();Jb();Kb();Lb();Mb();Nb();Ob();b.isMobile||(1==b.hideContextMenu?H():I());0==b.hideControlBar&&(d("control").show().css({bottom:-28}),Z());void 0!=b.title&&(d("titleBar").show().css({top:0}),d("titleBar").css("height","40px"),d("titleBar").show());J=new ipc_snippet_mgr;J.init(b);"undefined"!==typeof document.hidden?(aa="hidden",Q="visibilitychange"):"undefined"!==typeof document.mozHidden?(aa="mozHidden",Q="mozvisibilitychange"):
"undefined"!==typeof document.msHidden?(aa="msHidden",Q="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(aa="webkitHidden",Q="webkitvisibilitychange");"undefined"!==typeof document.addEventListener&&"undefined"!==typeof document[aa]&&document.addEventListener(Q,kb,!1);1==b.autoplay&&""!=b.source?Ha():1==b.playonscroll.playonscroll&&0==b.isMobile&&K();1==lb&&0==mb&&l();b.forEnabled&&(k.mgr=new ipc_for_mgr,k.mgr.init(b.uniqID,p[0],C))}function R(){k.mgr&&(k.mgr.done(),k.mgr=void 0);
dependencyhelper.remove_item_cb(Ia,nb);clearInterval(ba);ca();null!=A&&(window.clearInterval(A),A=null);da();ua();d("control").remove();d("bigPlay").remove();b.forEnabled&&d("rofAnim").remove();d("playbackSpeedsDiv").remove();0==b.disableBufferingAnim&&d("loadingSpinnerContainer").remove();void 0!=b.title&&d("titleBar").remove();p.off("mousemove",S);c.off("play",r);c.off("pause",z);b.isMobile?(c.off("touchend",ta),screen&&screen.orientation&&screen.orientation.removeEventListener("change",eb)):c.off("click",
ta);c.off("ended",fb);c.off("canplay",gb);c.off("loadedmetadata",l);c.off("loadstart",Pb);c.off("playing",hb);c.off("waiting",ib);c.off("progress",jb);c.off("loadedmetadata",D);window.removeEventListener("resize",P);document.removeEventListener(Q,kb);null!=Ja&&Ja.destroy();ea=!1;1==y&&(y=!1,ob());T=fa=!1;null!=E&&E(0,0)}function C(a,b){Ka()||(k.canShow=a,0==k.canShow&&va())}function K(){L=!1;$(window).scroll(function(){c.is(":in-viewport")?(ua(),1!=wa&&(wa=!0,null==ha&&c[0].paused&&U(!0,b.playonscroll.playonscrollstopdelay,
b.playonscroll.playonscrolldelay,!1))):(da(),0!=wa&&(wa=!1,null==ia&&0==c[0].paused&&U(!1,b.playonscroll.playonscrollstopdelay,b.playonscroll.playonscrolldelay,!1)))})}function H(){c.on("contextmenu",function(a){a.preventDefault()})}function I(){var a=2;switch(b.playerType){case ipc_html5_controls.PlayerTypeNative:var e=1==b.hideLink?{title:ipcLocale.html5PlayerNative,data:{disabled:!0}}:{title:"IPCamLive "+ipcLocale.html5PlayerNative,data:{disabled:!0}};var c=[{title:"ipcamlive.com",data:function(a,
b){window.open("https://ipcamlive.com")}},$.contextMenu.separator,e,{title:ipcLocale.liveStreaming,data:{disabled:!0}},$.contextMenu.separator,{title:ipcLocale.reportContent,data:function(a,b){xa()}}];break;case ipc_html5_controls.PlayerTypeMSE:e=1==b.hideLink?{title:ipcLocale.html5PlayerMSE,data:{disabled:!0}}:{title:"IPCamLive "+ipcLocale.html5PlayerMSE,data:{disabled:!0}};c=[{title:"ipcamlive.com",data:function(a,b){window.open("https://ipcamlive.com")}},$.contextMenu.separator,e,{title:ipcLocale.liveStreaming,
data:{disabled:!0}},$.contextMenu.separator,{title:ipcLocale.reportContent,data:function(a,b){xa()}}];break;case ipc_html5_controls.PlayerTypeWS:e=1==b.hideLink?{title:ipcLocale.html5PlayerWebSocket,data:{disabled:!0}}:{title:"IPCamLive "+ipcLocale.html5PlayerWebSocket,data:{disabled:!0}},c=[{title:"ipcamlive.com",data:function(a,b){window.open("https://ipcamlive.com")}},$.contextMenu.separator,e,{title:ipcLocale.liveStreaming,data:{disabled:!0}},$.contextMenu.separator,{title:ipcLocale.reportContent,
data:function(a,b){xa()}}]}1==b.hideLink&&(a=0,c.shift(),c.shift());0==b.enableReportButton&&(c.pop(),c.pop());void 0!=b.customMenuItem&&c.splice(a,0,{title:b.customMenuItem.text,data:function(a,e){window.open(b.customMenuItem.link)}});$(function(){Ja=p.contextMenu(c,{theme:"vista"});$(".context-menu-item").hover(function(){0==$(this).hasClass("context-menu-item-disabled")&&$(this).css("background-color",b.style.colors.main)},function(){$(this).css("background-color","#FAFAFA")})})}function m(){var a=
n(p,"bigPlay",["bigPlayBase"]);1==b.autoplay&&a.hide();ipcStyleManager.setBackgroundImage(a,b.style.playButton.bitmap,b.style);b.forEnabled&&(a=n(p,"rofAnim",["bigPlayBase"]),a.hide(),ipcStyleManager.setBackgroundImage(a,b.style.fullscreenOnRotate.bitmap,b.style));if(0==b.hideControlBar){var e=t(p,"control");ipcStyleManager.setPanelStyle(e,b.style);if(b.isLiveMode&&0==b.storageEnabled){var h=b.isMobile?n(e,"progressDiv",["meterMobile","stripes"]):n(e,"progressDiv",["meter","stripes"]);h.append('<span style="width: 100%"></span>');
ipcStyleManager.applyProgressBarStyle(e,b.style.colors.main,b.style.colors.mainDark,.5);ipcStyleManager.applyProgressBarStyle(h,b.style.colors.main,b.style.colors.mainDark,.5)}else h=t(e,"progressDiv","progress"),Qb(h,"bufferBar","bufferBar"),h=La(h,"timeBar"),ipcStyleManager.setBackgroundColor(h,b.style.colors.main);h=t(e,"btmControl");(a=b.stepControl)&&a.isPrevClipAvailable()&&(pb=n(h,"btnPrev",["btnPrev","controlBtn-2"],ipcLocale.prevButtonHint+" ("+a.getPrevClipName()+")"),pb.on("click",a.onPrevClip));
0==b.disableUserPause&&(x=n(h,"btnPlay",["btnPlay","controlBtn"],ipcLocale.playButtonHint));a&&a.isNextClipAvailable()&&(qb=n(h,"btnNext",["btnNext","controlBtn-2"],ipcLocale.nextButtonHint+" ("+a.getNextClipName()+")"),qb.on("click",a.onNextClip));0==b.disableFullScreen&&(a="",a=Ma()?ipcLocale.fullScreenButtonHint:ipcLocale.fullScreenUnavailable,n(h,"btnFS",["btnFS","controlBtn"],a));1==G&&n(h,"btnFit",["btnFit","controlBtn"],ipcLocale.fitButtonHint);0==b.disableDownloadButton&&n(h,"btnDownload",
["btnDownload","controlBtn-2"],ipcLocale.downloadTimelapseHint);1==b.zoomEnabled&&n(h,"btnZoom",["btnEnableZoom","controlBtn-2"],ipcLocale.zoomButtonHint);1==b.snapShotEnabled&&n(h,"snapShot",["snapShot","controlBtn"],ipcLocale.downloadSnapshotHint);1==b.enableReportButton&&n(h,"btnReport",["btnReport","controlBtn"],ipcLocale.reportContent);1==b.audioEnabled&&(a=t(h,"volume",void 0,ipcLocale.volumeButtonHint),La(a,"volumeBar"),n(h,"btnSound",["btnSound","controlBtn"],ipcLocale.muteButtonHint));if(1==
b.isLiveMode){1==b.storageEnabled&&n(e,"timeText",["timeText","defaultFont","timeTextPad"],"");var V=n(e,"liveText",["liveText","defaultFont"],ipcLocale.live);1==b.disableUserPause&&V.css("padding-left","5px");n(e,"wsText",["liveText","defaultFont"],ipcLocale.webSocketHint,ipcLocale.webSocketPostFix).hide();if(1==b.storageEnabled){var f=d("timeText");V.on("click",function(){""!=f[0].textContent&&(c[0].currentTime=c[0].duration,V.css("color","#FFF"))});V.hover(function(){void 0!=f&&""!=f[0].textContent&&
V.css("color",b.style.colors.main)},function(){V.css("color","#FFF")})}}else n(e,"timeText",["timeText","defaultFont"],"0.0/0.0"),0==b.hideSpeedButton&&(n(e,"playbackBtn",["playbackBtn","defaultFont"],ipcLocale.playbackSpeedButtonHint,"1x"),ya());n(e,"hdIcon",["hdIcon","controlBtn"],ipcLocale.hdStream);e.on("click",function(a){void 0!=a&&a.target!=e[0]||1==W||0!=b.isLiveMode&&1!=b.storageEnabled||(Na(),v())})}if(0==b.disableBufferingAnim){a=t(p,"loadingSpinnerContainer");var rb=t(a,"loadingSpinnerDefault");
0==b.style.loading.buffering.showBackgroundPanel&&(a[0].style.background="rgba(0, 0, 0, 0.0)",a[0].style.borderColor="rgba(0, 0, 0, 0.0)");rb[0].style.backgroundImage=ipcStyleManager.getBitmapURL(b.style.loading.buffering.anim);rb[0].style.filter=ipcStyleManager.buildFilters(b.style.filters)}void 0!=b.title&&(a=t(p,"titleBar","control"),t(a,"titleText",void 0,void 0,b.title));0==b.hideControlBar&&(ipcStyleManager.applyBaseImage(h,g("controlBtn"),b.style.icons.bitmap1,b.style),ipcStyleManager.applyBaseImage(h,
g("controlBtn-2"),b.style.icons.bitmap2,b.style),ipcStyleManager.applyFontStyle(e,g("defaultFont"),b.style))}function ya(){var a=t(p,"playbackSpeedsDiv");if(void 0!=a){for(var e=d("playbackBtn"),h=ja.length-1;0<=h;h--){var f=M("pbBtn"+h);a.append('<div class="'+g("playbacSpeedBtn")+" "+g("defaultFont")+'" data-index="'+h+'" id="'+f+'">'+ja[h]+"x</div>");d("pbBtn"+h).on("click",function(){var a=this.getAttribute("data-index");e.text(ja[a]+"x");c[0].playbackRate=ja[a];Oa()})}e.hover(function(){a.css("width",
$("."+g("playbacSpeedBtn")).width()+"px");a.css("height",ja.length*$("."+g("playbacSpeedBtn")).height()+"px");var b=d("playbackBtn").position().left,e=d("control").position().top,c=d("playbackBtn").width(),h=a.width(),f=a.height();a.css("left",b+c/2-h/2+"px");a.css("top",e-f+"px");sb()},function(){ka=setTimeout(Oa,50)});a.hover(function(){sb()},function(){ka=setTimeout(Oa,50)});ipcStyleManager.applyFontStyle(a,g("defaultFont"),b.style)}}function S(a){c[0].paused||F(3E3);if(a.originalEvent){var b=
p.height()-56,d=p.height()-28+4;a.originalEvent.clientY>b&&a.originalEvent.clientY<d?Na():tb()}}function D(){lb=!0}function l(){mb=!0;P();if(!b.isMobile){p.hover(function(){c[0].paused||F(3E3)},function(){la||za(!1)});p.on("mousemove",S);var a=d("control");void 0!=a&&a.hover(function(){T=!0},function(){T=!1})}1==b.autoplay&&N(!1)}function r(){Aa=Ba=!0;void 0!=x&&x.addClass(g("paused"));d("bigPlay")[0].style.opacity=1;d("bigPlay").hide();L=!1;u(!0)}function z(){if(0==L){if(void 0!=document.visibilityState&&
"hidden"==document.visibilityState)return;ma(ipc_html5_controls.ButtonStateNormal);d("bigPlay").show();Ca();ca()}u(!0)}function gb(){}function fb(){void 0!=x&&x.removeClass(g("paused"));c[0].pause();var a=b.stepControl;if(a&&a.isNextClipAvailable())a.onNextClip()}function Rb(a){1!=u(!0)&&(a&&"select"!=a.target.localName&&a.preventDefault(),void 0!=Pa&&1==Pa(this)||1==ipc_contextMenuShown||na()||(d("bigPlay").is(":visible")?d("bigPlay").click():(Da(),b.isMobile?(c[0].paused&&void 0==f.mgr&&c[0].play(),
fa?za(!1):F(3E3)):(L=!0,void 0==f.mgr&&N(),F(3E3)))))}function ta(a){var b=(new Date).getTime(),c=b-(0==Qa?b+1:Qa);clearTimeout(Ra);0<c&&250>c?Sb(a):Ra=setTimeout(function(){clearTimeout(Ra);Rb(a)},250);Qa=b}function Sb(a){if(void 0!=b.sourceType&&b.sourceType!=SourceTypeLive){var e={};e.event=a;e.timeout=1500;e.isMobile=b.isMobile;e.elements={};e.elements.video=c[0];e.elements.container=p;e.html={};e.html.newDiv=t;e.html.newSpan=La;Tb.show(e)}}function Pb(){N();F(3E3)}function hb(){Aa=Ba=!0;P()}
function ib(){Ba=!1}function ma(a){var b=d("bigPlay");switch(a){case ipc_html5_controls.ButtonStateNormal:b.css("background-position","0px 0px");break;case ipc_html5_controls.ButtonStateSelected:b.css("background-position",-b.width()+"px 0px")}}function Jb(){d("bigPlay").on("click",function(a,e){na()&&void 0==e||(da(),1!=ipc_contextMenuShown&&(void 0!=b.onFirstPlay&&null!=b.onFirstPlay&&(b.onFirstPlay(),b.onFirstPlay=null),ma(ipc_html5_controls.ButtonStateSelected),N(ub),F(3E3)))});d("bigPlay").hover(function(){na()||
ma(ipc_html5_controls.ButtonStateSelected)},function(){na()||ma(ipc_html5_controls.ButtonStateNormal)});if(void 0!=x)x.on("click",function(){na()||(L=!0,N())});1==Sa?vb():Ta();P()}function P(){if(0!=c[0].clientWidth){0==b.disableBufferingAnim&&ipcamlivehelper.resizeElement(c[0],d("loadingSpinnerContainer"),b.style.loading.buffering,b.style.loading.limits);ipcamlivehelper.resizeElement(c[0],d("bigPlay"),b.style.playButton,b.style.playButton,!0);b.forEnabled&&ipcamlivehelper.resizeElement(c[0],d("rofAnim"),
b.style.fullscreenOnRotate,b.style.fullscreenOnRotate,!0,ElementPositions.BOTTOM);var a=d("volume");300>c[0].clientWidth?a.hide():a.show();Z();null!=E&&E();wb(!0);void 0!=q&&xb();J&&J.resize()}}function Ka(){if(void 0!=screen&&void 0!=screen.orientation){var a=(screen.orientation||{}).type||screen.mozOrientation||screen.msOrientation;return"landscape-primary"==a||"landscape-secondary"==a?!0:!1}}function eb(a){void 0!=k.canShow&&0!=k.canShow&&0!=Aa&&(a=Ka(),void 0!=a&&(a?null==Ua()&&(va(!0),d("btnFS").click()):
Ua()&&d("btnFS").click()))}function Ua(){return document.webkitFullscreenElement||document.mozFullscreenElement||document.msFullscreenElement||document.fullscreenElement}function Ma(){return void 0!=document.webkitFullscreenEnabled?document.webkitFullscreenEnabled:void 0!=document.mozFullscreenEnabled?document.mozFullscreenEnabled:void 0!=document.msFullscreenEnabled?document.msFullscreenEnabled:void 0!=document.fullscreenEnabled?document.fullscreenEnabled:!0}function yb(){Ma()&&(Ua()?d("btnFS").addClass(g("exitFS")):
d("btnFS").removeClass(g("exitFS")))}function Hb(){Ma()?(yb(),d("btnFS").click(function(){void 0!=f.mgr&&zb();u(!0);if($.isFunction(B[0].webkitRequestFullScreen))null==document.webkitFullscreenElement?B[0].webkitRequestFullScreen():document.webkitCancelFullScreen();else if($.isFunction(B[0].mozRequestFullScreen))null==document.mozFullscreenElement?B[0].mozRequestFullScreen():document.mozCancelFullScreen();else if($.isFunction(B[0].msRequestFullscreen))null==document.msFullscreenElement?B[0].msRequestFullscreen():
document.msExitFullscreen();else if($.isFunction(B[0].requestFullScreen))null==document.fullscreenElement?B[0].requestFullScreen():document.cancelFullScreen();else if($.isFunction(c[0].webkitEnterFullScreen))0==c[0].webkitDisplayingFullscreen?c[0].webkitEnterFullScreen():c[0].webkitCancelFullScreen();else{alert("Your browsers doesn't support fullscreen");return}v();if(is.safari()&&b.onUpdate)b.onUpdate(0)}),document.addEventListener("fullscreenchange",Ea),document.addEventListener("webkitfullscreenchange",
Ea),document.addEventListener("mozfullscreenchange",Ea),document.addEventListener("MSFullscreenChange",Ea)):(d("btnFS").removeClass(g("controlBtn")),d("btnFS").removeClass(g("btnFS")),d("btnFS").addClass(g("disabledFS")))}function Ea(){yb()}function Ob(){if(""==b.posterURL)1==c[0].paused&&c[0].setAttribute("poster",b.posterURL);else{var a=new Image;a.onload=function(){Va=a.width;Wa=a.height;browserhelper.log("PosterSize: "+Va+"x"+Wa);P();1==c[0].paused&&c[0].setAttribute("poster",b.posterURL)};a.src=
b.posterURL}}function wb(a){if(1==G&&0==b.disableVideoFit){var e=c[0].videoWidth,h=c[0].videoHeight;0==e&&(e=Va);0==h&&(h=Wa);if(0!=e||0!=e)e/=h,1==a&&(.01<Math.abs(e-c[0].clientWidth/c[0].clientHeight)?d("btnFit").show():d("btnFit").hide()),.8>Math.abs(e-c[0].clientWidth/c[0].clientHeight)?(0==ea&&0==y&&Xa(),ea=!0):(1==ea&&1==y&&Xa(),ea=!1)}}function ob(){0!=G&&(y?(d("btnFit").addClass(g("exitFit")),c.css("object-fit","fill")):(d("btnFit").removeClass(g("exitFit")),c.css("object-fit","contain")))}
function Xa(){0!=G&&(y=!y,ob())}function Ib(){0==G&&0==b.disableVideoFit?browserhelper.log("Video Fit not supported!"):(d("btnFit").hide(),d("btnFit").hide(),d("btnFit").click(function(){u(!0);Xa();v();if(b.onUpdate)b.onUpdate();if(b.onFitChange)b.onFitChange(y)}))}function Kb(){if(0!=b.snapShotEnabled){var a=d("snapShot");a.show();a.click(function(){u(!0);v();captureFrameHelper.captureFrame(c[0],"SnapShot")})}}function Lb(){if(0!=b.enableReportButton){var a=d("btnReport");a.show();a.click(function(){u(!0);
v();xa()})}}function xa(){void 0!=b.cameraAlias&&(browserhelper.forceLog("Report inappropriate content: https://ipcamlive.com/reportabuse?alias="+b.cameraAlias),window.open("https://ipcamlive.com/reportabuse?alias="+b.cameraAlias))}function Mb(){if(1!=b.disableDownloadButton){var a=d("btnDownload");a.show();a.click(function(a){u(!0);v();var e=c[0].src;a=document.createElement("a");var d="";void 0!=b.cameraAlias&&(d=b.cameraAlias);void 0!=oa&&""!=oa&&(""!=d&&(d+="_"),d+=oa.toLowerCase());""==d&&(d=
"video");d+=".mp4";a.setAttribute("href",e);a.setAttribute("download",d);document.createEvent?(e=document.createEvent("MouseEvents"),e.initEvent("click",!0,!0),a.dispatchEvent(e)):a.click&&a.click()})}}function Nb(){0!=b.zoomEnabled&&d("btnZoom").click(function(a){u(!0);v();zb()})}function zb(){function a(){f.fadeTimer&&clearTimeout(f.fadeTimer);f.fadeTimer=setTimeout(function(){f.labelDiv.fadeOut(500);f.labelVisible=!1;f.fadeTimer=void 0},1500)}void 0==f.mgr?(f.mgr=Panzoom(c[0],{step:.25,maxZoom:4,
minZoom:1,contain:"outside"}),p[0].addEventListener("wheel",f.mgr.zoomWithWheel),d("btnZoom").addClass(g("btnDisableZoom")),f.labelDiv=t(p,"zoomTextDiv"),f.label=n(f.labelDiv,"zoomText",["zoomText","noselect"]),f.labelDiv.hide(),f.labelVisible=!1,f.lastScale=0,c[0].addEventListener("panzoomchange",function(b){if(!(1E-4>Math.abs(f.lastScale-b.detail.scale))){f.lastScale=b.detail.scale;f.label.text(b.detail.scale.toFixed(2)+" x");b=p.width()/2-30;var e=p.height()/2-15;f.labelDiv.css({left:b,top:e});
0==f.labelVisible&&(f.labelVisible=!0,f.labelDiv.fadeIn(500));a()}}),setTimeout(function(){f.mgr.zoom(1.5,{animate:!0})},1)):(f.labelDiv.remove(),d("btnZoom").removeClass(g("btnDisableZoom")),p[0].removeEventListener("wheel",f.mgr.zoomWithWheel),f.mgr.zoom(1,{animate:!0}),f.mgr.reset(),f.mgr.destroy(),f.mgr=null,c[0].style.cursor="")}function N(a){if(c[0].paused||c[0].ended){if(0==b.disableUserPause&&void 0!=x&&x.addClass(g("paused")),void 0==a||0==a){var e=c[0].play();Ha();void 0!==e&&e.then(function(){pa=
!0}).catch(function(e){browserhelper.forceLog("The browser is prevent to play video automatically. Error: "+e);1==b.audioEnabled&&0==c[0].muted?(browserhelper.forceLog("Try with muted audio."),c[0].muted=!0,N(a)):(browserhelper.forceLog("Also failed with muted audio."),b.onFirstPlay=null,pa=!1,$(window).scroll(void 0),window.setTimeout(function(){ca();Ca();U(!1,0,0,!0);Ta();d("bigPlay").show()},150))})}}else 0==b.disableUserPause&&(void 0!=x&&x.removeClass(g("paused")),c[0].pause(),ca());b.isLiveMode&&
(c[0].paused?d("liveText").text(ipcLocale.paused):d("liveText").text(ipcLocale.live))}function Z(){var a=d("control");void 0!=a&&a.offset()&&(Ab=a.offset().top)}function F(a){fa||(fa=!0,d("control").stop().animate({bottom:0},{duration:500,step:function(a,b){Z();null!=E&&E(a,b)}}),void 0!=b.title&&d("titleBar").stop().animate({top:0},{duration:500}));null!=A&&(window.clearInterval(A),A=null);0<a&&(A=window.setInterval(function(){za(!1)},a))}function za(a){if(0!=a||!c[0].paused&&!T)a=1==a?0:500,d("control").stop().animate({bottom:-28},
{duration:a,step:function(a,b){Z();null!=E&&E(a,b)}}),void 0!=b.title&&d("titleBar").stop().animate({top:-40},{duration:a}),fa=!1,Bb(),tb()}function v(){b.isMobile&&F(3E3)}function Bb(){null!=A&&(window.clearInterval(A),A=null)}function Cb(a){b.setSpeedControlState&&b.setSpeedControlState(d("playbackSpeedsDiv"),a)}function Oa(){ka=null;d("playbackSpeedsDiv").hide();T=!1;b.isMobile&&F(3E3);Cb(!1)}function sb(){T=!0;null!=ka&&clearTimeout(ka);d("playbackSpeedsDiv").show();Bb();Cb(!0)}function Db(){if(1!=
k.final&&1!=b.globalState.forEnded&&void 0!=k.canShow&&0!=k.canShow){var a=Ka();void 0!=a&&1!=a&&(a=d("rofAnim"),0!=a.length&&(void 0==k.firstShow?k.waitTimer||(k.waitTimer=setTimeout(function(){k.firstShow=!1;1!=k.suspended&&Db()},1500)):(void 0==k.hideTimer&&(k.hideTimer=setTimeout(function(){va(!0)},5E3)),k.suspended=!1,b.globalState.forEnded=!0,J.hideSnippetsByElement(a,0,500),k.visible=!0,a.delay(500).fadeIn(500))))}}function va(a){if(1==k.visible&&1!=k.final){var b=d("rofAnim");0!=b.length&&
(void 0!=a?k.final=a:void 0!=k.firstShow&&(k.suspended=!0),k.visible=!1,b.fadeOut(500),J.showHidedSnippets(1E3,500))}}function Ya(){0==b.disableBufferingAnim&&0==Fa&&(va(),d("loadingSpinnerContainer").fadeIn(100),Fa=!0)}function Ca(){0==b.disableBufferingAnim&&1==Fa&&(d("loadingSpinnerContainer").fadeOut(100),Fa=!1);Db()}function Ha(){ca();Ga=window.setInterval(function(){1==Za?1==Ba?Ca():Ya():0==qa?(ra=c[0].currentTime,qa=Date.now(),0==ra&&Ya()):ra!=c[0].currentTime?(ra=c[0].currentTime,qa=Date.now(),
Ca()):3E3<=Date.now()-qa&&Ya()},500)}function ca(){null!=Ga&&(window.clearTimeout(Ga),Ga=null,qa=ra=0)}function g(a){return"ipc-"+a}function M(a){return b.videoContainerTag+"_"+a}function d(a){return $("#"+M(a))}function t(a,b,c,f,k){var e="<div id="+M(b);e=void 0==c?e+' class="'+g(b)+'"':e+' class="'+g(c)+'"';void 0!=f&&(e=e+' title="'+f+'"');e+=">";void 0!=k&&(e+=k);a.append(e+"</div>");return d(b)}function n(a,b,c,f,k){for(var e=' class="',h=0;h<c.length;h++)e+=g(c[h]),e=h==c.length-1?e+'"':e+
" ";c="<div id="+M(b)+e;void 0!=f&&(c=c+' title="'+f+'"');c+=">";void 0!=k&&(c+=k);a.append(c+"</div>");return d(b)}function La(a,b,c){void 0==c?a.append("<span id="+M(b)+' class="'+g(b)+'"></span>'):a.append("<span id="+M(b)+' class="'+g(c)+'"></span>');return d(b)}function Qb(a,b,c){void 0==c?a.append("<canvas id="+M(b)+' class="'+g(b)+'"></canvas>'):a.append("<canvas id="+M(b)+' class="'+g(c)+'"></canvas>');return d(b)}function da(){null!=ha&&(window.clearInterval(ha),ha=null)}function ua(){null!=
ia&&(window.clearInterval(ia),ia=null)}function U(a,e,h,f,g){da();ua();if(!b.isReembedAvailable||0!=b.isReembedAvailable())if(a)if(X=g,pa&&c[0].paused&&0==L)browserhelper.log("Start playing due player is visible again."),ipcamlivehelper.createTimeout(function(){1==c[0].paused&&(d("bigPlay").show(),d("bigPlay").fadeOut(h-150))},100),ha=window.setInterval(function(){da();if(0!=c[0].paused&&(d("bigPlay").trigger("click",["force"]),b.onShow))b.onShow(!0)},h);else{if(pa&&c[0].paused&&b.onShow)b.onShow(!1)}else ia=
window.setInterval(function(){ua();c[0].paused||(browserhelper.log("Stop playing due player is invisible."),N());if(0!=b.isLiveMode&&(b.autoplay=!1,za(!0),z(),(1==Aa||1==f)&&b.onHide)){var a=b.onHide();void 0!=a&&(a.setPauseComeFromUser(L),a.setIgnoreVisibilityChanges(g))}},e)}function kb(a){void 0!=X&&1==X||U("hidden"!==document.visibilityState,1==b.stopRightAfterInvisible?250:1E4,2E3,!1)}function nb(){O()}function $a(){d("btnSound").removeClass(g("sound")).removeClass(g("sound2")).addClass(g("muted"));
c[0].muted?d("volumeBar").css("width",0):sa(0,c[0].volume)}function Gb(a){d("volume").on("mousedown",function(a){la=!0;c[0].muted=!1;sa(a.pageX);v()});$(document).on("mouseup",function(a){la&&(la=!1,sa(a.pageX),v())});$(document).on("mousemove",function(a){la&&(sa(a.pageX),v())});d("btnSound").click(function(){c[0].muted=!c[0].muted;u(!0);Da();$a();v()});sa(0,a)}function sa(a,b){var e=d("volume");a=b?100*b:100*(a-e.offset().left)/e.width();100<a?a=100:0>a&&(a=0);d("volumeBar").css("width",a+"%");
c[0].volume=a/100;0==c[0].volume?d("btnSound").removeClass(g("sound")).removeClass(g("sound2")).addClass(g("muted")):.5<c[0].volume?d("btnSound").removeClass(g("muted")).removeClass(g("sound")).addClass(g("sound2")):d("btnSound").removeClass(g("muted")).removeClass(g("sound2")).addClass(g("sound"))}function Na(){1!=W&&(W=!0,d("progressDiv").stop(),d("progressDiv").animate({height:15},{duration:150,step:function(a,b){d("control").css("height",28+a-3+"px")}}))}function tb(){0!=W&&(W=!1,d("progressDiv").stop(),
d("progressDiv").animate({height:3},{duration:150,step:function(a,b){d("control").css("height",28+a-3+"px")}}))}function Fb(){var a=!1;d("progressDiv").on("mousedown",function(c){1==b.isMobile&&0==W&&Na();a=0==b.isMobile;ab(c.pageX);v()});$(document).on("mouseup",function(b){a&&(a=!1,ab(b.pageX))});$(document).on("mousemove",function(b){a&&ab(b.pageX)});c.on("timeupdate",function(){var a=c[0].currentTime,b=c[0].duration,f=100*a/b;d("timeBar").css("width",f+"%");Eb(a,b)});Eb(0,c[0].duration)}function ab(a){var b=
d("progressDiv"),h=c[0].duration;a=100*(a-b.offset().left)/b.width();100<a&&(a=100);0>a&&(a=0);d("#timeBar").css("width",a+"%");c[0].currentTime=h*a/100}function jb(){var a=d("bufferBar");if(a&&0<a.length&&a[0].parentElement){canvas=a[0];var b=canvas.parentElement.clientWidth,h=canvas.parentElement.clientHeight;if(b!=canvas.width||h!=canvas.height)canvas.width=b,canvas.height=h;b=canvas.width;h=canvas.height;if(b&&h){var f=canvas.getContext("2d",{antialias:!1});f.fillStyle=a.parent().css("background-color");
f.fillRect(0,0,b,h);f.fillStyle="#777";a=c[0].buffered;for(var g=c[0].duration,k=0;k<a.length;k++){var l=a.start(k)/g*b,n=a.end(k)/g*b;f.fillRect(l,0,n-l,h)}}}}function Eb(a,c){var e=bb(a),f=bb(c),g="";""!=e&&""!=f&&(1==b.isLiveMode&&1==b.storageEnabled?(a=Math.round(c-a),g=15<a?"-"+bb(a)+" \u2022":""):g+=e+" / "+f);d("timeText").text(g)}function bb(a){var b=10>Math.floor(a/60)?"0"+Math.floor(a/60):Math.floor(a/60);a=10>Math.floor(a-60*b)?"0"+Math.floor(a-60*b):Math.floor(a-60*b);return isNaN(b)||
isNaN(a)?"":b+":"+a}function na(){return d("bigPlay").length?1>d("bigPlay")[0].style.opacity?!0:!1:!0}function vb(){d("bigPlay")[0].style.opacity=.5}function Ta(){d("bigPlay").length&&(ma(ipc_html5_controls.ButtonStateNormal),d("bigPlay")[0].style.opacity=1);u(!0)}function Da(){void 0!=w&&w.stop().animate({opacity:0},{duration:250,complete:function(){w.remove()}})}function u(a){1==a&&clearInterval(ba);if(void 0==q)return!1;q.stop().animate({opacity:0},{duration:250,complete:function(){q.remove();
q=void 0}});return!0}function xb(){if(1!=c[0].paused){void 0==q&&(Y=15,q=n(p,"alreadyWatchDiv",["unmuteButton"]),q.css("opacity",0),n(q,"alreadyViewText",["alreadyViewText","noselect"]).text(ipcLocale.alreadyViewing),n(q,"countDownText",["alreadyViewText","noselect"]).text(ipcLocale.playingWillStop+" "+Y),q.stop().animate({opacity:1},{duration:250}),q.on("click",function(){u(!0)}),clearInterval(ba),ba=setInterval(function(){d("countDownText").text(ipcLocale.playingWillStop+" "+Y);Y--;0==Y?u(!1):0>
Y&&(clearInterval(ba),b.onHide())},1E3));var a=.6*c[0].clientWidth;320<a&&(a=320);q.width(a);textFit(q[0],{minFontSize:1,maxFontSize:20,multiLine:!1,alignHoriz:!0,alignVert:!0,widthOnly:!0});q.height(q[0].children[0].style.height);a=c[0].clientWidth/2-q.width()/2;var e=c[0].clientHeight/2-q.height()/2;q.offset({left:a,top:e})}}var b=null,c=null,p=null,B=null,y=!1,L=!0,Ab=0,G=!0,Ja=null,Sa=!1,ea=!1,W=!1,Ba=!1,Aa=!1,oa=void 0,ub=!1,Pa=void 0,Ia=void 0,lb=!1,mb=!1,Ra=void 0,Qa=0,Va=0,Wa=0,cb=0,db=0,
A=null,fa=!1,T=!1,x=void 0,pb=void 0,qb=void 0,ja=[.5,1,2,4],ka=null,aa=null,Q=null,ia=null,ha=null,E=null,wa=void 0,X=!1,pa=!1,Ga=null,Fa=!1,ra=0,qa=0,Za=!1,la=!1,w=void 0,q=void 0,ba=void 0,Y=0,J=void 0,k={},f={},Tb=new ipc_fastSeekMgr;this.ipc_attachVideoControls=function(a){b={};$.extend(b,a);a=browserhelper.isMobileBrowser();b.snapShotEnabled=b.snapshotEnabled&&captureFrameHelper.isSupported();b.audioEnabled=1==b.audioEnabled&&1==b.isLiveMode;b.disableDownloadButton=b.disableDownloadButton||
a||1==b.isLiveMode;c=$("#"+b.videoTag);B=p=$("#"+b.videoContainerTag);c.on("loadedmetadata",D);Za=is.chrome()&&a&&57==parseInt(platform.version);1==Za&&browserhelper.log("Chrome 57 on mobile detected. Video.currentTime property is broken, use workaround.");Ia=ipcamliveHostManager.getHostURL(dependencyhelper.createVersionedCSSFileName("player/html5player/ipcamliveplayer",IPC_PLAYER_CCS_VERSION));dependencyhelper.load_css(Ia,nb)};this.ipc_detachVideoControls=function(){R()};this.doPlay=function(){N(!1)};
this.getClass=function(a){return g(a)};this.hidePlay=function(){d("bigPlay").length?vb():Sa=!0};this.showPlay=function(){Sa=!1;Ta()};this.showLoadingSpinner=function(){Ha()};this.get_video=function(){return c};this.get_isVideoFit=function(){return y};this.get_controlBarTop=function(){Z();return Ab};this.get_controlBarHeight=function(){return 28};this.set_onControlBarMove=function(a){E=a};this.set_HDState=function(a){var b=d("hdIcon");1==a?b.show():b.hide()};this.set_WSState=function(a){var b=d("wsText");
1==a?b.show():b.hide()};this.set_showLiveResolution=function(a){if(0!=b.isLiveMode)if(1==a)c.on("timeupdate",function(){if(0==db||1E3<=Date.now()-db)db=Date.now(),cb!=c[0].videoHeight&&(cb=c[0].videoHeight,d("liveText").text(ipcLocale.live+" ("+cb+"p)"))});else c.off("timeupdate")};this.set_doNotStartOnBigPlay=function(){ub=!0};this.set_autoStartAfterPlayerVisibleAgain=function(){pa=!0};this.set_onFirstPlay=function(a){b.onFirstPlay=a};this.doVisibilityChange=function(a,b,d){if(a)return U(a,b,2E3,
!1,d),!0;if(c[0].paused)return!1;U(a,b,2E3,!1,d);return!0};this.setSource=function(a){R();EMULATE_TIMELAPSE_STORAGE!=TSE_OFF&&(console.log("NE MARADJON BENT"),a.source="https://dev.ipcamlive.com/storages/normaltimelapse/S20220501201501_E20220501203000.mp4",a.poster="https://dev.ipcamlive.com/storages/normaltimelapse/snapshot.jpg");b.source=a.source;b.posterURL="";b.sourceType=a.type;b.stepControl=a.stepControl;b.autoplay=a.autoPlay;O();var d=a.source;if(1==is.ios()||1==is.mac())d+="#t=0.01";c[0].src=
d;oa=a.name;1==a.autoPlay&&F(3E3)};this.setSourceName=function(a){oa=a};this.overrideFullscreenElement=function(a){B=a};this.setDiscardClickEvent=function(a){Pa=a};this.setPauseComeFromUser=function(a){L=a};this.updateFit=function(){wb(!1)};this.setUnmuteButton=function(a){void 0==w&&(w=t(p,"unmuteButton"),w.css("opacity",0),t(w,"unmuteImage"),ipcStyleManager.applyBaseImage(w,g("unmuteImage"),b.style.icons.bitmap1,b.style),n(w,"unmuteText",["unmuteText","noselect"]).text(ipcLocale.unmute),w.stop().animate({opacity:1},
{duration:250}),w.on("click",function(){Da();c&&c[0]&&(c[0].muted=!1,$a())}),setTimeout(function(){Da()},3E4),$a());w.offset(a)};this.setSnippets=function(a){J&&J.setSnippets(a)};this.showContinueWatchMessage=function(){xb()};this.isIgnoreVisibilityChanges=function(){return void 0!=X&&1==X};this.setIgnoreVisibilityChanges=function(a){X=a}}
function ipc_fastSeekMgr(){var O=[{s:15,t:"15 "+ipcLocale.seconds},{s:30,t:"30 "+ipcLocale.seconds},{s:60,t:"1 "+ipcLocale.minute},{s:120,t:"2 "+ipcLocale.minutes},{s:300,t:"5 "+ipcLocale.minutes}],R,C=[],K=0,H=void 0,I=0,m,ya,S=void 0,D=this;this.show=function(l){if(void 0!=l.event){var r=this.getSeekDirection(l.elements.container,l.event,l.isMobile);if(0!=r)if(H=l,0!=I)I==r&&K!=O.length-1&&(K++,R.text(O[K].t),this.scheduleFinish());else{I=r;m=l.html.newDiv(l.elements.container,"fastSeekContainer");
ya=l.html.newDiv(m);R=l.html.newSpan(m,"fastSeekText");R.text(O[K].t);C=[];for(r=0;4>r;r++){var z=l.html.newSpan(ya,"fastSeekText"+r,"fastSeekAnim");0>I?(z.text("\u00ab"),C.splice(0,0,z)):(z.text("\u00bb"),C.push(z))}this.hideAnim();m.animate({opacity:1},{duration:500});0>I?(m.css("left","0px"),m.addClass("ipc-fastSeekForward")):(m.css("left",l.elements.container.width()-m.width()+"px"),m.addClass("ipc-fastSeekBackward"));this.scheduleFinish()}}};this.scheduleFinish=function(){var l=this;m.stop();
m.animate({opacity:1},{duration:500});clearTimeout(S);S=setTimeout(function(){H.elements.video.currentTime+=O[K].s;l.done()},H.timeout)};this.done=function(){clearTimeout(S);m.animate({opacity:0},{duration:500,complete:function(){I=0;void 0!=m&&(m.remove(),m=void 0);H=void 0;K=0}})};this.isVisible=function(){return void 0!=H};this.getSeekDirection=function(l,r,m){r=m?r.changedTouches[0].pageX:r.originalEvent.clientX;m=l.width()/3;return r<m?-1:r>l.width()-m?1:0};this.doAnim=function(l,m,z){C[0].animate({opacity:l},
{duration:m,complete:function(){C[1].animate({opacity:l},{duration:m,complete:function(){C[2].animate({opacity:l},{duration:m,complete:function(){C[3].animate({opacity:l},{duration:m,complete:function(){z()}})}})}})}})};this.showAnim=function(){0!=D.isVisible()&&D.doAnim(1,75,D.hideAnim)};this.hideAnim=function(){0!=D.isVisible()&&D.doAnim(.1,75,D.showAnim)}}ipc_html5_controls.PlayerTypeNative=1;ipc_html5_controls.PlayerTypeMSE=2;ipc_html5_controls.PlayerTypeWS=3;
ipc_html5_controls.ButtonStateNormal=1;ipc_html5_controls.ButtonStateSelected=2;
var language_en=function(){return{textData:JSON.parse('\n        {\n            "header":\n            {\n                "locale": "en-en",\n                "version": 1,\n                "minTimelapsePanelWidth": 135\n            },\n            "texts":\n            {\n                "live": "LIVE",\n                "paused": "PAUSED",\n                "webSocketPostFix": "-WS",\n                "webSocketHint": "Using WebSocket",\n                "longLapse": "Long-lapse",\n                "html5PlayerNative": "HTML5 Player (Native)",\n                "html5PlayerMSE": "HTML5 Player (MSE)",\n                "html5PlayerWebSocket": "HTML5 Player (WebSocket)",\n                "liveStreaming": "Live Streaming for IP Cameras",\n                "reportContent": "Report inappropriate content",\n                "playButtonHint": "Play/Pause video",\n                "prevButtonHint": "Go to the previous one",\n                "nextButtonHint": "Go to the next",\n                "fitButtonHint": "Toggle video fit mode",\n                "fullScreenButtonHint": "Toggle full screen",\n                "fullScreenUnavailable": "Full screen is unavailable",\n                "downloadTimelapseHint": "Download timelapse video",\n                "downloadSnapshotHint": "Download snapshot image",\n                "volumeButtonHint": "Change volume",\n                "muteButtonHint": "Mute/Unmute sound",\n                "playbackSpeedButtonHint": "Change playback speed",\n                "zoomButtonHint": "Enable/Disable live zoom",\n                "hdStream": "HD Stream",\n                "cameraStartInSec": "Camera starts in",\n                "cameraStartSoon": "Camera starts soon.",\n                "tokenExpired": "Token expired. Please reload the page.",\n                "cannotEmbedd": "This camera cannot be embedded.",\n                "cannotEmbeddDomain": "This camera cannot be embedded on this domain.",\n                "cannotEmbeddPackege": "This camera cannot be embedded. Switch to Standard or Professional package for embedding.",\n                "cameraNotAvailable": "Camera is not available",\n                "unmute": "Unmute",\n                "alreadyViewing": "Click to continue watching!",\n                "playingWillStop": "Playing will stop in",\n                "enterPin": "Enter PIN Code",\n                "invalidPin": "Invalid PIN Code",\n                "waitBeforeNextPin": "You have to wait %s seconds",\n                "seconds": "seconds",\n                "minute": "minute",\n                "minutes": "minutes"\n            }\n        }\n    '),
timeData:{dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}}},language_hu=function(){return{textData:JSON.parse('\n        {\n            "header":\n            {\n                "locale": "hu-hu",\n                "version": 1,\n                "minTimelapsePanelWidth": 135\n            },\n            "texts":\n            {\n                "live": "\u00c9L\u0150",\n                "paused": "MEG\u00c1LLITVA",\n                "webSocketPostFix": "-WS",\n                "webSocketHint": "WebSocket haszn\u00e1latban",\n                "longLapse": "Long-lapse",\n                "html5PlayerNative": "HTML5 Lej\u00e1tsz\u00f3 (Nativ)",\n                "html5PlayerMSE": "HTML5 Lej\u00e1tsz\u00f3 (MSE)",\n                "html5PlayerWebSocket": "HTML5 Lej\u00e1tsz\u00f3 (WebSocket)",\n                "liveStreaming": "\u00c9l\u0151 k\u00f6zvet\u00edt\u00e9s IP kamer\u00e1khoz",\n                "reportContent": "Jelent\u00e9s a nem megfelel\u0151 tartalomr\u00f3l",\n                "playButtonHint": "Vide\u00f3 lej\u00e1tsz\u00e1s/meg\u00e1llit\u00e1s",\n                "prevButtonHint": "Ugr\u00e1s az el\u0151z\u0151re",\n                "nextButtonHint": "Ugr\u00e1s a k\u00f6vetkez\u0151re",\n                "fitButtonHint": "Illeszt\u00e9si m\u00f3d v\u00e1ltoztat\u00e1sa",\n                "fullScreenButtonHint": "Teljes k\u00e9perny\u0151s m\u00f3d v\u00e1ltoztat\u00e1sa",\n                "fullScreenUnavailable": "Teljes k\u00e9perny\u0151s m\u00f3d nem el\u00e9rhet\u0151",\n                "downloadTimelapseHint": "Timelapse vide\u00f3 let\u00f6lt\u00e9se",\n                "downloadSnapshotHint": "Pillanatk\u00e9p let\u00f6lt\u00e9se",\n                "volumeButtonHint": "Hanger\u0151 \u00e1llit\u00e1s",\n                "muteButtonHint": "Hang N\u00e9mit\u00e1s/Bekapcsol\u00e1s",\n                "playbackSpeedButtonHint": "Lej\u00e1tsz\u00e1si sebess\u00e9g v\u00e1ltoztat\u00e1sa",\n                "zoomButtonHint": "\u00c9l\u0151 nagyit\u00e1s Kikapcsol\u00e1s/Bekapcsol\u00e1s",\n                "hdStream": "Nagyfelbont\u00e1s\u00fa vide\u00f3",\n                "cameraStartInSec": "Kamera indul: ",\n                "cameraStartSoon": "Kamera hamarosan indul.",\n                "tokenExpired": "Lej\u00e1rt t\u00f3ken. Kerj\u00fck frissitse az oldalt.",\n                "cannotEmbedd": "Ez a kamera nem \u00e1gyazhat\u00f3 be.",\n                "cannotEmbeddDomain": "Ezen a domain-en ez a kamera nem \u00e1gyazhat\u00f3 be.",\n                "cannotEmbeddPackege": "Ez a kamera nem \u00e1gyazhat\u00f3 be. V\u00e1ltson Standard vagy Professional csomagra.",\n                "cameraNotAvailable": "Kamera nem el\u00e9rhet\u0151",\n                "unmute": "Hang",\n                "alreadyViewing": "Kattints a lej\u00e1tsz\u00e1s folytat\u00e1s\u00e1hoz!",\n                "playingWillStop": "A lej\u00e1tsz\u00e1s meg\u00e1ll:",\n                "enterPin": "Adja meg a PIN k\u00f3dot",\n                "invalidPin": "\u00c9rv\u00e9nytelen PIN k\u00f3d",\n                "waitBeforeNextPin": "V\u00e1rnia kell %s m\u00e1sodpercet",\n                "seconds": "m\u00e1sodperc",\n                "minute": "perc",\n                "minutes": "perc"\n            }\n        }\n    '),
timeData:{dateTime:"%Y. %B %-e., %A %X",date:"%Y. %m. %d.",time:"%H:%M:%S",periods:["de.","du."],days:"vas\u00e1rnap h\u00e9tf\u0151 kedd szerda cs\u00fct\u00f6rt\u00f6k p\u00e9ntek szombat".split(" "),shortDays:"V H K Sze Cs P Szo".split(" "),months:"janu\u00e1r febru\u00e1r m\u00e1rcius \u00e1prilis m\u00e1jus j\u00fanius j\u00falius augusztus szeptember okt\u00f3ber november december".split(" "),shortMonths:"jan. feb. m\u00e1r. \u00e1pr. m\u00e1j. j\u00fan. j\u00fal. aug. szept. okt. nov. dec.".split(" ")}}},
language_cz=function(){return{textData:JSON.parse('\n        {\n            "header":\n            {\n                "locale": "cs-cz",\n                "version": 1,\n                "minTimelapsePanelWidth": 145\n            },\n            "texts":\n            {\n                "live": "\u017dIV\u00c9 VYS\u00cdL\u00c1N\u00cd",\n                "paused": "POZASTAVENO",\n                "webSocketPostFix": "-WS",\n                "webSocketHint": "Using WebSocket",\n                "longLapse": "Z\u00e1znam budky",\n                "html5PlayerNative": "HTML5 Player (Native)",\n                "html5PlayerMSE": "HTML5 Player (MSE)",\n                "html5PlayerWebSocket": "HTML5 Player (WebSocket)",\n                "liveStreaming": "\u017div\u00e9 vys\u00edl\u00e1n\u00ed pro IP kamery",\n                "reportContent": "Nahl\u00e1sit nevhodn\u00fd obsah",\n                "playButtonHint": "P\u0159ehr\u00e1t / Pozastavit video",\n                "prevButtonHint": "P\u0159ejd\u011bte na p\u0159edchoz\u00ed",\n                "nextButtonHint": "P\u0159ejd\u011bte na dal\u0161\u00ed",\n                "fitButtonHint": "P\u0159epnout re\u017eim videa",\n                "fullScreenButtonHint": "P\u0159epnout na celou obrazovku",\n                "fullScreenUnavailable": "Cel\u00e1 obrazovka nen\u00ed k dispozici",\n                "downloadTimelapseHint": "St\u00e1hout \u010dasosb\u011brn\u00e9 video",\n                "downloadSnapshotHint": "St\u00e1hnout sn\u00edmek",\n                "volumeButtonHint": "Zm\u011bna hlasitosti",\n                "muteButtonHint": "Ztlumit / Spustit zvuk",\n                "playbackSpeedButtonHint": "Zm\u011bna rychlosti p\u0159ehr\u00e1v\u00e1n\u00ed",\n                "zoomButtonHint": "Povolit/Zak\u00e1zat \u017eiv\u00e9 p\u0159ibl\u00ed\u017een\u00ed",\n                "hdStream": "HD kvalita",\n                "cameraStartInSec": "Kamera spu\u0161tena: ",\n                "cameraStartSoon": "Kamera se spust\u00ed brzy.",\n                "tokenExpired": "Platnost tokenu vypr\u0161ela. Znovu na\u010dt\u011bte str\u00e1nku.",\n                "cannotEmbedd": "Tuto kameru nelze vlo\u017eit.",\n                "cannotEmbeddDomain": "Tuto kameru nelze do t\u00e9to dom\u00e9ny vlo\u017eit.",\n                "cannotEmbeddPackege": "Tuto kameru nelze vlo\u017eit. P\u0159i vkl\u00e1d\u00e1n\u00ed p\u0159epn\u011bte na bal\u00ed\u010dek Standard nebo Professional.",\n                "cameraNotAvailable": "Kamera nen\u00ed k dispozici",\n                "unmute": "Ignorovat",\n                "alreadyViewing": "Kliknut\u00edm pokra\u010dujte v sledov\u00e1n\u00ed!",\n                "playingWillStop": "Hran\u00ed se zastav\u00ed",\n                "enterPin": "Zadejte PIN k\u00f3d",\n                "invalidPin": "Neplatn\u00fd PIN k\u00f3d",\n                "waitBeforeNextPin": "Mus\u00edte po\u010dkat %s sekund",\n                "seconds": "sekundy",\n                "minute": "minuta",\n                "minutes": "minuty"\n            }\n        }\n    '),
timeData:{dateTime:"%A,%e.%B %Y, %X",date:"%-d.%-m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"ned\u011ble pond\u011bl\u00ed \u00fater\u00fd st\u0159eda \u010dvrtek p\u00e1tek sobota".split(" "),shortDays:"ne. po. \u00fat. st. \u010dt. p\u00e1. so.".split(" "),months:"leden \u00fanor b\u0159ezen duben kv\u011bten \u010derven \u010dervenec srpen z\u00e1\u0159\u00ed \u0159\u00edjen listopad prosinec".split(" "),shortMonths:"led \u00fano b\u0159ez dub kv\u011b \u010der \u010derv srp z\u00e1\u0159 \u0159\u00edj list pros".split(" ")}}},
language_ru=function(){return{textData:JSON.parse('\n        {\n            "header":\n            {\n                "locale": "ru-ru",\n                "version": 1,\n                "minTimelapsePanelWidth": 145\n            },\n            "texts":\n            {\n                "live": "\u041f\u0440\u044f\u043c\u043e\u0439 \u044d\u0444\u0438\u0440",\n                "paused": "\u041f\u0430\u0443\u0437\u0430",\n                "webSocketPostFix": "-WS",\n                "webSocketHint": "\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 WebSocket",\n                "longLapse": "\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0441\u044a\u0435\u043c\u043a\u0430",\n                "html5PlayerNative": "HTML5 Player (Native)",\n                "html5PlayerMSE": "HTML5 Player (MSE)",\n                "html5PlayerWebSocket": "HTML5 Player (WebSocket)",\n                "liveStreaming": "\u041f\u0440\u044f\u043c\u0430\u044f \u0442\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0438\u044f \u0434\u043b\u044f IP-\u043a\u0430\u043c\u0435\u0440",\n                "reportContent": "\u0421\u043e\u043e\u0431\u0449\u0438\u0442\u044c \u043e \u043d\u0435\u043f\u0440\u0438\u0435\u043c\u043b\u0435\u043c\u043e\u043c \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0438",\n                "playButtonHint": "\u0412\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438 / \u043f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0432\u0438\u0434\u0435\u043e",\n                "prevButtonHint": "\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u043c\u0443",\n                "nextButtonHint": "\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443",\n                "fitButtonHint": "\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0440\u0435\u0436\u0438\u043c \u043f\u043e\u0434\u0433\u043e\u043d\u043a\u0438 \u0432\u0438\u0434\u0435\u043e",\n                "fullScreenButtonHint": "\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c",\n                "fullScreenUnavailable": "\u041f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f",\n                "downloadTimelapseHint": "\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0442\u0430\u0439\u043c\u043b\u0430\u043f\u0441 \u0432\u0438\u0434\u0435\u043e",\n                "downloadSnapshotHint": "\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0441\u043d\u0438\u043c\u043e\u043a \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",\n                "volumeButtonHint": "\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0433\u0440\u043e\u043c\u043a\u043e\u0441\u0442\u044c",\n                "muteButtonHint": "\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c / \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a",\n                "playbackSpeedButtonHint": "\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f",\n                "zoomButtonHint": "\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c / \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c \u0432\u0440\u0435\u043c\u0435\u043d\u0438",\n                "hdStream": "HD \u043f\u043e\u0442\u043e\u043a",\n                "cameraStartInSec": "\u0422\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0438\u044f \u043d\u0430\u0447\u043d\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437: ",\n                "cameraStartSoon": "\u0422\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0438\u044f \u0441\u043a\u043e\u0440\u043e \u043d\u0430\u0447\u043d\u0435\u0442\u0441\u044f",\n                "tokenExpired": "\u0422\u043e\u043a\u0435\u043d \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443.",\n                "cannotEmbedd": "\u042d\u0442\u0443 \u043a\u0430\u043c\u0435\u0440\u0443 \u043d\u0435\u043b\u044c\u0437\u044f \u0432\u0441\u0442\u0440\u043e\u0438\u0442\u044c.",\n                "cannotEmbeddDomain": "\u042d\u0442\u0443 \u043a\u0430\u043c\u0435\u0440\u0443 \u043d\u0435\u043b\u044c\u0437\u044f \u0432\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0432 \u044d\u0442\u043e\u0442 \u0434\u043e\u043c\u0435\u043d.",\n                "cannotEmbeddPackege": "\u042d\u0442\u0443 \u043a\u0430\u043c\u0435\u0440\u0443 \u043d\u0435\u043b\u044c\u0437\u044f \u0432\u0441\u0442\u0440\u043e\u0438\u0442\u044c.",\n                "cameraNotAvailable": "\u041a\u0430\u043c\u0435\u0440\u0430 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430",\n                "unmute": "\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a",\n                "alreadyViewing": "\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",\n                "playingWillStop": "\u0412\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437",\n                "enterPin": "\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u041f\u0418\u041d-\u043a\u043e\u0434",\n                "invalidPin": "\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0438\u043d-\u043a\u043e\u0434",\n                "waitBeforeNextPin": "\u0412\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043f\u043e\u0434\u043e\u0436\u0434\u0430\u0442\u044c %s \u0441\u0435\u043a\u0443\u043d\u0434",\n                "seconds": "\u0441\u0435\u043a\u0443\u043d\u0434\u044b",\n                "minute": "\u043c\u0438\u043d\u0443\u0442\u0430",\n                "minutes": "\u043c\u0438\u043d\u0443\u0442\u044b"\n            }\n        }\n    '),
timeData:{dateTime:"%A, %e %B %Y \u0433. %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435 \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a \u0432\u0442\u043e\u0440\u043d\u0438\u043a \u0441\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0435\u0440\u0433 \u043f\u044f\u0442\u043d\u0438\u0446\u0430 \u0441\u0443\u0431\u0431\u043e\u0442\u0430".split(" "),shortDays:"\u0432\u0441 \u043f\u043d \u0432\u0442 \u0441\u0440 \u0447\u0442 \u043f\u0442 \u0441\u0431".split(" "),
months:"\u044f\u043d\u0432\u0430\u0440\u044f \u0444\u0435\u0432\u0440\u0430\u043b\u044f \u043c\u0430\u0440\u0442\u0430 \u0430\u043f\u0440\u0435\u043b\u044f \u043c\u0430\u044f \u0438\u044e\u043d\u044f \u0438\u044e\u043b\u044f \u0430\u0432\u0433\u0443\u0441\u0442\u0430 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f \u043e\u043a\u0442\u044f\u0431\u0440\u044f \u043d\u043e\u044f\u0431\u0440\u044f \u0434\u0435\u043a\u0430\u0431\u0440\u044f".split(" "),shortMonths:"\u044f\u043d\u0432 \u0444\u0435\u0432 \u043c\u0430\u0440 \u0430\u043f\u0440 \u043c\u0430\u0439 \u0438\u044e\u043d \u0438\u044e\u043b \u0430\u0432\u0433 \u0441\u0435\u043d \u043e\u043a\u0442 \u043d\u043e\u044f \u0434\u0435\u043a".split(" ")}}},
builtInLanguages=[language_en(),language_hu(),language_cz(),language_ru()];
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,c,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,b){var c=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=c.length,g=a.length;b=Math.max(0,Math.min(b|0,c.length));for(var f=0;f<g&&b<e;)if(c[b++]!=a[f++])return!1;return f>=g}},"es6","es3");
var ipcLocalizationManager=new function(){this.getCurrentLocale=function(){return navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en"};this.setLocale=function(a,c){a:{if(void 0!=a&&"string"===typeof a){for(b in builtInLanguages)if(builtInLanguages[b].textData.header.locale==a.toLowerCase()){var b=builtInLanguages[b];break a}for(b in builtInLanguages)if(builtInLanguages[b].textData.header.locale.startsWith(a.toLowerCase())){b=
builtInLanguages[b];break a}}b=void 0}void 0==b?(browserhelper.log("Unsupported localization: "+a),void 0!==c&&1==c&&this.setLocale("en-en")):(browserhelper.log("Localization: "+a),ipcLocale=b.textData.texts,ipcLocaleHead=b.textData.header,ipcTimeLocal=b.timeData,d3.timeFormatDefaultLocale(ipcTimeLocal))};this.setDefaultLocale=function(){this.setLocale("en-en",!0)};this.autoSetLocale=function(){this.setLocale(this.getCurrentLocale(),!0)};this.setLocaleFromParam=function(a){void 0==a||"string"!==typeof a?
this.setDefaultLocale():(a=a.toLowerCase(),"auto"==a?this.autoSetLocale():this.setLocale(a,!0))}},ipcLM=ipcLocalizationManager,ipcLocale=void 0,ipcLocaleHead=void 0,ipcTimeLocal=void 0;
var snippetVerticalAlign={top:0,center:1,bottom:2},snippetHorizontalAlign={left:0,center:1,right:2},snippetAlignType={horizontal:0,vertical:1},snippetPositionType={pixel:0,percent:1};
function ipc_snippet_mgr(){function m(a,b){if(b.type==snippetPositionType.pixel)return b.value;if(b.type==snippetPositionType.percent)return b.align==snippetAlignType.horizontal?b.value/100*a.clientWidth:b.value/100*a.clientHeight}function p(a,b){var c=0,d=0,g=m(b,a.size.x),e=m(b,a.size.y);switch(a.align.horizontalAlign){case snippetHorizontalAlign.left:c=0;break;case snippetHorizontalAlign.center:c=b.clientWidth/2-g/2;break;case snippetHorizontalAlign.right:c=b.clientWidth-g}switch(a.align.verticalAlign){case snippetVerticalAlign.top:d=
0;break;case snippetVerticalAlign.center:d=b.clientHeight/2-e/2;break;case snippetVerticalAlign.bottom:d=b.clientHeight-e}var f=m(b,a.padding.leftTop.x);var h=m(b,a.padding.leftTop.y);var k=m(b,a.padding.rightBottom.x);a=m(b,a.padding.rightBottom.y);c<f&&(c+=f-c);d<h&&(d+=h-d);c+g>b.clientWidth-k&&(k=c+g-(b.clientWidth-k),c>f&&(f=Math.min(c-f,k),c-=f,k-=f),0<k&&(g-=k));d+e>b.clientHeight-a&&(k=d+e-(b.clientHeight-a),d>h&&(b=Math.min(d-h,k),d-=b,k-=b),0<k&&(e-=k));return{left:c,top:d,width:g,height:e}}
function q(a,b){if(0!=a.responsiveContent||void 0!=a.divSize){var c=0,d=0;var g=b.width;var e=b.height;if(0==a.responsiveContent){g=b.width/a.divSize.width;e=b.height/a.divSize.height;var f=Math.min(g,e);g=a.divSize.width*f;e=a.divSize.height*f;a.contentDiv[0].style.transformOrigin="top left";a.contentDiv[0].style.transform="scale("+f+", "+f+")";f=b.width-g;var h=b.height-e;switch(a.align.horizontalAlign){case snippetHorizontalAlign.left:c=0;break;case snippetHorizontalAlign.center:c=f/2;break;case snippetHorizontalAlign.right:c=
f}switch(a.align.verticalAlign){case snippetVerticalAlign.top:d=0;break;case snippetVerticalAlign.center:d=h/2;break;case snippetVerticalAlign.bottom:d=h}}a.div.css({left:b.left+c,top:b.top+d,width:g,height:e})}}function r(a){if(void 0!=a){n=[];e=[];for(var b=0;b<a.length;b++){var c={};$.extend(!0,c,a[b]);void 0!=c.snippet&&""!=c.snippet&&(ipcamlivehelper.isURL(c.snippet)&&(c.snippet='<iframe src="'+c.snippet+'" style="border:none; width: 100%; height: 100%"></iframe>'),e.push(c))}}}function t(){var a=
new htmlEditHelperClass;a.setContainerName(l.videoContainerTag);for(var b=$("#"+l.videoContainerTag),c=0;c<e.length;c++){var d=e[c];d.responsiveContent=void 0!=d.responsiveContent?d.responsiveContent:!0;d.div=a.appendDiv(b,"snippet-"+c,"snippetDiv");0==d.responsiveContent?(d.contentDiv=a.appendDiv(d.div,"snippet-content-"+c,"snippet-content"),d.contentDiv.html(d.snippet),d.loadAttempt=0,d.loadTimer=setInterval(function(){a:{var a=d,c=b[0],e=a.contentDiv[0].clientWidth,h=a.contentDiv[0].clientHeight;
if(0==e||0==h)if(a.loadAttempt++,4<a.loadAttempt)e=a.size.x.value,h=a.size.y.value,a.contentDiv.css({left:0,top:0,width:e,height:h});else break a;clearInterval(a.loadTimer);a.loadTimer=void 0;a.divSize={width:e,height:h};q(a,p(a,c));a.div.animate({opacity:1},{duration:500})}},1E3)):(q(d,p(d,b)),d.div.html(d.snippet),d.div.animate({opacity:1},{duration:500}))}}var l=null,e=[],n=[];this.init=function(a){l={};$.extend(!0,l,a);a.blhd==blhd.M?this.doLoadSnippets(blhd.getMSnippet()):this.loadSnippets()};
this.doLoadSnippets=function(a){if(void 0!=a&&void 0!=a.overlaypanelenabled&&0!=a.overlaypanelenabled&&void 0!=a.overlaypanelcode)try{r(JSON.parse(a.overlaypanelcode)),t()}catch(b){browserhelper.log("Failed to parse overlay data.")}};this.loadSnippets=function(){if(1!=l.disableOverlayPanel){var a=this;$.get(ipcamliveHostManager.getHostURL("player/getoverlaypaneldata.php"),{_:$.now(),alias:l.cameraAlias},function(b){a.doLoadSnippets(b)},"json").fail(function(a,c,d){})}};this.getPosition=p;this.resize=
function(){for(var a=$("#"+l.videoContainerTag),b=0;b<e.length;b++)q(e[b],p(e[b],a[0]))};this.setSnippets=function(a){for(var b=0;b<e.length;b++){var c=e[b];c.div.remove();void 0!=c.loadTimer&&clearInterval(c.loadTimer)}n=[];e=[];r(a);t()};this.hideSnippetsByElement=function(a,b,c){for(var d=0;d<e.length;d++)AABB.collide(e[d].div,a,!0,.15)&&(e[d].div.delay(b).animate({opacity:.25},{duration:c}),n.push(d))};this.showHidedSnippets=function(a,b){for(var c=0;c<n.length;c++)e[n[c]].div.delay(a).animate({opacity:1},
{duration:b});n=[]}};
var ipcStyleManager=new function(){var f=function(a){dependencyhelper.preload_image(a.playButton.bitmap);var b=a.icons,c;for(c in b)dependencyhelper.preload_image(b[c]);dependencyhelper.preload_image(a.loading.connecting.anim);dependencyhelper.preload_image(a.loading.buffering.anim)},e=function(a){var b=function(a){return"string"===$.type(a)&&"%"==a.charAt(a.length-1)};a.isMinWidthPercent=b(a.minWidth);1==a.isMinWidthPercent&&(a.minWidth=a.minWidth.slice(0,-1)/100);a.isMaxWidthPercent=b(a.maxWidth);
1==a.isMaxWidthPercent&&(a.maxWidth=a.maxWidth.slice(0,-1)/100)};this.inheritStyle=function(a,b,c){try{void 0!=browserhelper.deepTest(a,"playButton.width")&&void 0==browserhelper.deepTest(a,"playButton.maxWidth")&&(a.playButton.maxWidth=a.playButton.width),void 0!=browserhelper.deepTest(a,"loading.connecting.width")&&void 0==browserhelper.deepTest(a,"loading.connecting.maxWidth")&&(a.loading.connecting.maxWidth=a.loading.connecting.width),void 0!=browserhelper.deepTest(a,"loading.buffering.width")&&
void 0==browserhelper.deepTest(a,"loading.buffering.maxWidth")&&(a.loading.buffering.maxWidth=a.loading.buffering.width)}catch(d){}b=this.getStyleByName(a.originalSkin,b,!1);a=$.extend(!0,{},b,a);!0===c&&f(a);return a};this.getStyleByName=function(a,b,c){var d=void 0;void 0!=a&&("string"===typeof a||a instanceof String)&&(a=a.toLowerCase(),"fullwhite"==a?d=JSON.parse('\n\t\t\t{\n\t\t\t\t"originalSkin": "default",\n\t\t\t\t"colors":\n\t\t\t\t{\n\t\t\t\t\t"main": "#FFF",\n\t\t\t\t\t"mainDark": "#AAA"\n\t\t\t\t},\n\t\t\t\t"icons":\n\t\t\t\t{\n\t\t\t\t\t"bitmap1": "fullwhite/base_image_1.png"\n\t\t\t\t},\n\t\t\t\t"playButton":\n\t\t\t\t{\n\t\t\t\t\t"bitmap": "fullwhite/bigplay.png"\n\t\t\t\t},\n\t\t\t\t"fullscreenOnRotate":\n\t\t\t\t{\n\t\t\t\t\t"bitmap": "fullwhite/for_anim.gif"\n\t\t\t\t},\n\t\t\t\t"timelapse":\n\t\t\t\t{\n\t\t\t\t\t"openPanel": "fullwhite/open_panel.png"\n\t\t\t\t},\n\t\t\t\t"loading":\n\t\t\t\t{\n\t\t\t\t\t"connecting":\n\t\t\t\t\t{\n\t\t\t\t\t\t"anim": "fullwhite/connecting.gif"\n\t\t\t\t\t},\n\t\t\t\t\t"buffering":\n\t\t\t\t\t{\n\t\t\t\t\t\t"anim": "fullwhite/buffering.gif"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t"errorPage":\n\t\t\t\t{\n\t\t\t\t\t"icon": "fullwhite/logo.png"\n\t\t\t\t}\n\t\t\t}\n\t\t'):
"white"==a&&(d=JSON.parse('\n\t\t\t{\n\t\t\t\t"originalSkin": "default",\n\t\t\t\t"colors":\n\t\t\t\t{\n\t\t\t\t\t"main": "#CCC",\n\t\t\t\t\t"mainDark": "#888"\n\t\t\t\t},\n\t\t\t\t"text":\n\t\t\t\t{\n\t\t\t\t\t"color": "#CCC"\n\t\t\t\t},\n\t\t\t\t"icons":\n\t\t\t\t{\n\t\t\t\t\t"bitmap1": "white/base_image_1.png",\n\t\t\t\t\t"bitmap2": "white/base_image_2.png"\n\t\t\t\t},\n\t\t\t\t"playButton":\n\t\t\t\t{\n\t\t\t\t\t"bitmap": "white/bigplay.png"\n\t\t\t\t},\n\t\t\t\t"fullscreenOnRotate":\n\t\t\t\t{\n\t\t\t\t\t"bitmap": "white/for_anim.gif"\n\t\t\t\t},\n\t\t\t\t"timelapse":\n\t\t\t\t{\n\t\t\t\t\t"openPanel": "white/open_panel.png",\n\t\t\t\t\t"itemPointer": "white/item_pointer.png"\n\t\t\t\t},\n\t\t\t\t"loading":\n\t\t\t\t{\n\t\t\t\t\t"connecting":\n\t\t\t\t\t{\n\t\t\t\t\t\t"anim": "white/connecting.gif"\n\t\t\t\t\t},\n\t\t\t\t\t"buffering":\n\t\t\t\t\t{\n\t\t\t\t\t\t"anim": "white/buffering.gif"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t"errorPage":\n\t\t\t\t{\n\t\t\t\t\t"icon": "white/logo.png",\n\t\t\t\t\t"textColor": "#CCC"\n\t\t\t\t}\n\t\t\t}\n\t\t')),
void 0!=d&&(d=this.inheritStyle(d,!1,!1)));void 0==d&&(d=JSON.parse('\n\t\t\t{\n\t\t\t\t"colors":\n\t\t\t\t{\n\t\t\t\t\t"main": "#FF9F2E",\n\t\t\t\t\t"mainDark": "#F36D0A",\n\t\t\t\t\t"panelsBackground": "#1F1F1F",\n\t\t\t\t\t"panelsBackgroundDark": "#555",\n\t\t\t\t\t"panelsBackgroundOpacity": "0.85",\n\t\t\t\t\t"videoBackground": "#000",\n\t\t\t\t\t"loadingBackground": "#000"\n\t\t\t\t},\n\t\t\t\t"text":\n\t\t\t\t{\n\t\t\t\t\t"color": "#FFF",\n\t\t\t\t\t"fontFamily": "arial"\n\t\t\t\t},\n\t\t\t\t"icons":\n\t\t\t\t{\n\t\t\t\t\t"bitmap1": "orange/base_image_1.png",\n\t\t\t\t\t"bitmap2": "shared/base_image_2.png"\n\t\t\t\t},\n\t\t\t\t"playButton":\n\t\t\t\t{\n\t\t\t\t\t"bitmap": "orange/bigplay.png",\n\t\t\t\t\t"width": 128,\n\t\t\t\t\t"height": 128,\n\t\t\t\t\t"maxWidth": 100,\n\t\t\t\t\t"minWidth": 50\n\t\t\t\t},\n\t\t\t\t"fullscreenOnRotate":\n\t\t\t\t{\n\t\t\t\t\t"bitmap": "orange/for_anim.gif",\n\t\t\t\t\t"width": 500,\n\t\t\t\t\t"height": 500,\n\t\t\t\t\t"maxWidth": 150,\n\t\t\t\t\t"minWidth": 100\n\t\t\t\t},\n\t\t\t\t"timelapse":\n\t\t\t\t{\n\t\t\t\t\t"panelWidth": 125,\n\t\t\t\t\t"openPanel": "orange/open_panel.png",\n\t\t\t\t\t"itemPointer": "shared/item_pointer.png"\n\t\t\t\t},\n\t\t\t\t"loading":\n\t\t\t\t{\n\t\t\t\t\t"connecting":\n\t\t\t\t\t{\n\t\t\t\t\t\t"anim": "orange/connecting.gif",\n\t\t\t\t\t\t"width": 270,\n\t\t\t\t\t\t"height": 120\n\t\t\t\t\t},\n\t\t\t\t\t"buffering":\n\t\t\t\t\t{\n\t\t\t\t\t\t"enabled": true,\n\t\t\t\t\t\t"anim": "orange/buffering.gif",\n\t\t\t\t\t\t"width": 270,\n\t\t\t\t\t\t"height": 120,\n\t\t\t\t\t\t"showBackgroundPanel": true\n\t\t\t\t\t},\n\t\t\t\t\t"limits": {\n\t\t\t\t\t\t"maxWidth": 150,\n\t\t\t\t\t\t"minWidth": 50\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t"errorPage":\n\t\t\t\t{\n\t\t\t\t\t"icon": "orange/logo.png",\n\t\t\t\t\t"textColor": "#FFF",\n\t\t\t\t\t"backgroundColor": "#000"\n\t\t\t\t}\n\t\t\t}\n\t\t'));
if(void 0==b||!0===b)b=d,a=ipcamliveHostManager.getImagePathURL(),b.playButton.bitmap=a+b.playButton.bitmap,b.playButton.stateCount=2,b.icons.bitmap1=a+b.icons.bitmap1,b.icons.bitmap2=a+b.icons.bitmap2,b.timelapse.openPanel=a+b.timelapse.openPanel,b.timelapse.itemPointer=a+b.timelapse.itemPointer,b.loading.connecting.anim=a+b.loading.connecting.anim,b.loading.buffering.anim=a+b.loading.buffering.anim,b.errorPage.icon=a+b.errorPage.icon,b.fullscreenOnRotate.bitmap=a+b.fullscreenOnRotate.bitmap,b.fullscreenOnRotate.stateCount=
1,b.hub={},b.hub.liveIcon=a+"shared/hub/live.png",b.hub.timelapseIcon=a+"shared/hub/timelapse.png",b.hub.storageIcon=a+"shared/hub/storage.png",b.hub.liveIconSelected=a+"shared/hub/liveSelected.png",b.hub.timelapseIconSelected=a+"shared/hub/timelapseSelected.png",b.hub.storageIconSelected=a+"shared/hub/storageSelected.png";!0===c&&f(d);c=d;e(c.playButton);e(c.loading.limits);e(c.fullscreenOnRotate);return d};this.buildFilters=function(a){return""};this.buildCSSFilterString=function(a){a=this.buildFilters(a);
""!==a&&(a=" filter: "+a+"; -webkit-filter: "+a+";");return a};this.applyFilters=function(a,b){b=this.buildFilters(b);""!==b&&(a.css("filter",b),a.css("-webkit-filter",b))};this.applyBaseImage=function(a,b,c,d){a=a.children("."+b);a.css("background-image","url("+c+")");a.css("background-size","128px 128px");this.applyFilters(a,d.filters)};this.setButtonImage=function(a,b,c,d,e){a.css("background-position",-24*b+"px "+-24*c+"px");a.css("width",24);a.css("height",24);a.hover(function(){a.css("background-position",
-24*d+"px "+-24*e+"px")},function(){a.css("background-position",-24*b+"px "+-24*c+"px")})};this.getBitmapURL=function(a){return"url("+a+")"};this.setOpacity=function(a,b){a.css("opacity",b)};this.setBackgroundColor=function(a,b){a.css("background-color",b)};this.setPanelStyle=function(a,b){this.setOpacity(a,b.colors.panelsBackgroundOpacity);this.setBackgroundColor(a,b.colors.panelsBackground)};this.setBackgroundImage=function(a,b,c){a.css("background-image",this.getBitmapURL(b));this.applyFilters(a,
c.filters)};this.removeBackgroundImage=function(a,b){a.css("background-image","")};this.setColor=function(a,b){void 0!=b&&(a.data("original-color",a.css("color")),a.css("color",b))};this.restoreColor=function(a){a.css("color",a.data("original-color"))};this.removeColor=function(a,b){a.css("color","")};this.applyProgressBarStyle=function(a,b,c,d){a.children(".ipc-meter").css("background-color",b);a.children(".ipc-meterMobile").css("background-color",b);b=browserhelper.hexToRgb(c);d="rgba("+b.r+","+
b.g+","+b.b+","+d+")";a.children(".ipc-stripes > span").css("background-image","-webkit-gradient(linear, 0 0, 100% 100%,color-stop(.25,"+d+"),color-stop(.25, transparent), color-stop(.5, transparent),color-stop(.5,"+d+"),color-stop(.75,"+d+"),color-stop(.75, transparent), to(transparent))");a.children(".ipc-stripes > span").css("background-image","-moz-linear-gradient(-45deg,"+d+" 25%,transparent 25%,transparent 50%,"+d+" 50%,"+d+" 75%,transparent 75%,transparent)")};this.applyFontStyle=function(a,
b,c){b="."+b;a.children(b).css("color",c.text.color);a.children(b).css("font-family",c.text.fontFamily);this.applyFilters(a,c.filters)};this.setFontStyle=function(a,b){a.css("color",b.text.color);a.css("font-family",b.text.fontFamily);this.applyFilters(a,b.filters)};this.setMainColorAndFont=function(a,b){a.css("color",b.colors.main);a.css("font-family",b.text.fontFamily);this.applyFilters(a,b.filters)};this.updatePinField=function(a,b,c){b=0==b?"":"0px 0px "+b+"px 0px "+c;a.css("-webkit-box-shadow",
b);a.css("-moz-box-shadow",b);a.css("box-shadow",b);a.css("border-color",c)}};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,d){a instanceof String&&(a=String(a));for(var f=a.length,e=0;e<f;e++){var h=a[e];if(b.call(d,h,e,a))return{i:e,v:h}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,d,f){if(b){d=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var e=a[f];e in d||(d[e]={});d=d[e]}a=a[a.length-1];f=d[a];b=b(f);b!=f&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(b,a){return $jscomp.findInternal(this,b,a).v}},"es6","es3");$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};$jscomp.polyfill("Object.assign",function(a){return a?a:function(a,d){for(var b=1;b<arguments.length;b++){var e=arguments[b];if(e)for(var h in e)$jscomp.owns(e,h)&&(a[h]=e[h])}return a}},"es6","es3");
function ipc_treeBuilderUtils(a){this.sourceContainerName=a;this.isValue=function(a){return void 0!=a&&""!=a};this.getKeyValue=function(a,d,f){return this.isValue(d)?a+f+d:""};this.getClass=function(a){return this.getKeyValue("ipc-",a,"")};this.getID=function(a){return this.getKeyValue(this.sourceContainerName+"_",a,"")};this.getClassIdRow=function(a,d){d=this.getKeyValue("id",this.getID(d),"=");""!=d&&(d+=" ");return d+=this.getKeyValue("class",this.getClass(a),"=")};this.addElement=function(a,d,
f,e,h,l){var b="<"+a;void 0!=d&&(b+=' class="'+d+'"');void 0!=f&&(b+=' style="'+f+'"');void 0!=e&&(b+=' id="'+e+'"');b+=">";void 0!=l&&(b+=l);void 0!=h&&1==h&&(b+=this.closeElement(a));return b};this.closeElement=function(a){return"</"+a+">"}}
function ipc_GroupListBuilder(a,b,d,f,e,h){function l(a,q,m){m=void 0===m?{}:m;this.text=q;this.index=r++;this.inAnim=-50;this.isOpen=!1;this.parent=a;this.subItems=[];this.elements={};this.isSelected=this.isHovered=!1;this.properties=m;void 0==this.properties.textAlign&&(this.properties.textAlign="left");void 0==this.properties.offset&&(this.properties.offset="0px");void 0==this.properties.leafOffset&&(this.properties.leafOffset="3px");void 0==this.properties.header&&(this.properties.header=!1);
this.add=function(c,a){a=void 0===a?{}:a;c=new l(this,c,a);this.subItems.push(c);return c};this.addSeparator=function(a){a=void 0===a?{}:a;a.isSeparator=!0;return this.add("",a)};this.getId=function(a){return d+"_"+b+"_"+a+"_"+this.index};this.isGroup=function(){return 0<this.subItems.length};this.isLeaf=function(){return 0==this.isGroup()};this.buildItem=function(a){var c="",b=g.getKeyValue("padding",this.properties.padding,":");a=g.getKeyValue("display",a||this.properties.icon?"":"none",":");c+=
g.addElement("div","ipc-disable-select","text-align: "+this.properties.textAlign+"; "+b+"; position: relative;",this.getId("div"));1==m.header?c+=g.addElement("span","ipc-disable-select","white-space: nowrap; vertical-align: middle",this.getId("span"),!0,this.text):(c+=g.addElement("img","ipc-timelapse-item-image",a,this.getId("img"),!0),c+=g.addElement("span",void 0,"white-space: nowrap; vertical-align: middle",this.getId("span"),!0,this.text));return c+=g.closeElement("div")};this.build=function(){var a=
"";if(void 0!=this.properties.isSeparator&&1==this.properties.isSeparator)return a+=g.addElement("div","ipc-disable-select ipc-listSeparator",this.properties.separatorStyle,this.getId("div-sep"),!0);if(!g.isValue(this.text))return a;a+=g.addElement("li","ipc-li-item",void 0,this.getId("li"));a+=this.buildItem(this.isGroup());if(this.isGroup()){a+=g.addElement("ul","ipc-nested",void 0,this.getId("ul"));for(var n=0;n<this.subItems.length;n++)a+=this.subItems[n].build();a+=g.closeElement("ul")}return a+=
g.closeElement("li")};this.initElements=function(a){this.elements.li=$("#"+this.getId("li"));this.elements.ul=$("#"+this.getId("ul"));this.elements.div=$("#"+this.getId("div"));this.elements.img=$("#"+this.getId("img"));this.elements.span=$("#"+this.getId("span"));var c=void 0!=this.text?8*this.text.length:0;c>p&&(p=c);this.elements.div.on("click",void 0,this,function(a){a.data.open();h(a.data)});if(0==e){var b=this;this.elements.div.hover(function(){b.onHover(!0)},function(){b.onHover(!1)})}ipcStyleManager.setFontStyle(this.elements.li,
a);ipcStyleManager.setColor(this.elements.span,this.properties.textColor);void 0!=this.properties.fontSize&&this.elements.span.css("font-size",this.properties.fontSize);void 0!=this.properties.icon?this.elements.img.attr("src",this.properties.icon):this.elements.img.attr("src",f.timelapse.itemPointer);void 0!=this.properties.iconSize&&(this.elements.img.css("width",this.properties.iconSize),this.elements.img.css("height",this.properties.iconSize));for(c=0;c<this.subItems.length;c++)this.subItems[c].initElements(a)};
this.setPointerRotation=function(a){this.properties.icon||this.elements.img.animate({deg:a},{duration:250,step:function(a){$(this).css({transform:"rotate("+a+"deg)"})}})};this.open=function(a){void 0!=this.parent&&0==this.parent.isOpen&&this.parent.open();this.isLeaf()?void 0!=a&&1==a&&this.setSelected(!0):1==this.isOpen?this.close():(void 0!=this.parent&&this.parent.closeSubItems(),this.isOpen=!0,this.elements.ul.addClass("ipc-active"),this.setPointerRotation(90),this.animateOpen())};this.close=
function(){0==this.isOpen||this.contain(k)&&!0!==this.properties.isCategory||(this.setPointerRotation(0),this.elements.ul.removeClass("ipc-active"),this.isOpen=!1)};this.closeSubItems=function(){for(var a=0;a<this.subItems.length;a++)this.subItems[a].close()};this.onHover=function(a,b){1!=this.properties.header&&(void 0!=b&&0!=b||1!=this.isSelected)&&this.isHovered!=a&&((this.isHovered=a)?(this.isLeaf()&&!this.properties.icon?(this.elements.img.css("margin-left","-14px"),this.elements.img.finish().show().animate({marginLeft:"0px",
opacity:"1.0"},200)):(this.properties.iconSelected&&this.elements.img.attr("src",this.properties.iconSelected),this.elements.div.animate({left:"8px"},200)),this.parent.isRoot&&this.elements.div.addClass("ipc-itemTextHover"),ipcStyleManager.setColor(this.elements.span,f.colors.main)):(this.isLeaf()&&!this.properties.icon?this.elements.img.finish().animate({marginLeft:"-14px",opacity:"0"},200,"swing",$(this).hide):(this.properties.icon&&this.elements.img.attr("src",this.properties.icon),this.elements.div.animate({left:"0px"},
200)),this.parent.isRoot&&this.elements.div.removeClass("ipc-itemTextHover"),ipcStyleManager.restoreColor(this.elements.span)))};this.findCategoryNode=function(){if(void 0!=a)return!0===a.properties.isCategory?a:this.parent.findCategoryNode()};this.setSelected=function(a,b){if(void 0!=k){var c=k;k=void 0;c.setSelected(!1);c=c.findCategoryNode();void 0!=c&&c.setSelected(!1)}k=1==a?this:void 0;this.isSelected=a;this.onHover(a,!0);!0===b&&(c=this.findCategoryNode(),void 0!=c&&(c.isSelected=!0,c.onHover(a,
!0)))};this.find=function(a){if(this.text==a)return this;for(var c=0;c<this.subItems.length;c++){var b=this.subItems[c].find(a);if(void 0!=b)return b}};this.contain=function(a){for(var c=0;c<this.subItems.length;c++)if(this.subItems[c]==a)return!0;return!1};this.animateIn=function(){if(0!=this.isOpen)for(var a=0;a<this.subItems.length;a++){var b=this.subItems[a];b.elements.div.css("margin-left",this.inAnim);b.elements.div.animate({marginLeft:"0px"},300+400*Math.random());b.animateIn()}};this.animateOut=
function(){if(0!=this.isOpen)for(var a=0;a<this.subItems.length;a++){var b=this.subItems[a];b.elements.div.animate({marginLeft:this.inAnim+"px"},300+400*Math.random());b.animateOut()}};this.animateOpen=function(){if(0!=this.isOpen)for(var a=0;a<this.subItems.length;a++){var b=this.subItems[a];b.elements.div.css("opacity",0);b.elements.div.css("margin-left",-25);b.elements.div.animate({marginLeft:"0px",opacity:1},150+400*Math.random());b.animateOpen()}};this.show=function(){this.elements.li.show()};
this.hide=function(){this.elements.li.hide()}}var g=new ipc_treeBuilderUtils(d),k=void 0,r=0,p=0;this.root=new l;this.root.isOpen=!0;this.root.isRoot=!0;this.add=function(a,b){b=void 0===b?{}:b;return this.root.add(a,Object.assign({},b))};this.addSeparator=function(a){a=void 0===a?{}:a;return this.root.addSeparator(a)};this.find=function(a){return this.root.find(a)};this.build=function(d,e){for(var f="<ul "+g.getClassIdRow(a,b)+">",c=0;c<this.root.subItems.length;c++)f+=this.root.subItems[c].build();
void 0!=d&&(d.append(f+"</ul>"),this.root.initElements(e))};this.animateIn=function(){this.root.animateIn()};this.animateOut=function(){this.root.animateOut()};this.show=function(){var a=$("#"+g.getID(b));a&&a.show()};this.hide=function(){var a=$("#"+g.getID(b));a&&a.hide()};this.clearSelection=function(){void 0!=k&&k.setSelected(!1)};this.getMaxTextWidth=function(){return p}};
function ipc_websocket_html5_controls(){function W(){browserhelper.forceLog("[ws] Watchdog fail.");null!=d&&(d.onopen=void 0,d.onclose=void 0,d.onmessage=void 0,d.close(),d=null,t=!1,L("Close socket, try reconnect."))}function M(){u=0;N(z()-1)}function O(){if(0!=u){var a=Date.now()-u;u=0;g("Wait "+a+"ms for data.");void 0!=b&&void 0!=b[0]&&4==b[0].readyState&&P(z())}}function Q(){u=Date.now();B(!0,1)}function R(a){browserhelper.forceLog("[ws] Video Error");browserhelper.forceLog(a)}function C(a){null!=
v&&(A=!0,clearTimeout(D),null!=l&&(l.stop(),l=null),b.off("play",M),b.off("waiting",Q),b.off("timeupdate",O),b.off("pause",C),b.off("error",R),b[0].pause(),void 0!=a&&0!=a||b[0].setAttribute("poster",e.posterURL),n.ipc_detachVideoControls(),n=null,null!=d&&d.close(),c=k=v=null,m.length=0)}function X(){g("MediaSource Open");void 0!=k&&(k.duration=Math.pow(2,32));E()}function Y(){b.on("pause",C);g("MediaSource ended")}function Z(){g("MediaSource closed");null!=p&&p()}function aa(a){browserhelper.forceLog("[ws] SourceBuffer error.");
browserhelper.forceLog(a)}function ba(a){if(null!=c&&1!=c.updating&&(.001>b[0].currentTime&&b[0].buffered.length&&(b[0].currentTime=b[0].buffered.start(0)),0<m.length))if(a=m[0],m.shift(),2==a.type)g("Offset set"),c.timestampOffset=-a.timeOffset/1E3;else if(a.frameData&&0<a.frameData.length)try{c.appendBuffer(a.frameData)}catch(f){S(f)}else browserhelper.log("[ws] frameData null or zero! (ue)")}function F(a){G=!1;H=w=0;try{d=new WebSocket(v),d.binaryType="arraybuffer"}catch(f){return browserhelper.forceLog("[ws] Create WebSocket failed with URL: "+
v),null!=p&&p(),!1}d.onopen=function(f){t=!0;I=0;T=4294967295;n.set_WSState(!0);g("Socket connected.");null==k&&(g("attachMediaSource"),A=!1,k=new MediaSource,k.onsourceopen=X,k.onsourceended=Y,k.onsourceclose=Z,b[0].src=window.URL.createObjectURL(k));e.autoplay||1==a?U(!1):n.showPlay()};d.onclose=function(a){d=null;t=!1;null!=l&&l.stop();1E4==a.code?g("Socket close. Connect on next play."):1!=A&&1E3<a.code&&(I++,I>=T&&null!=p?null!=k?k.endOfStream():p():L("Socket closed with code: "+a.code+". Try reconnect."))};
d.onmessage=ca;return!0}function ca(a){if(a&&a.data&&0!=a.data.length){var b=new DataView(a.data,0),c=b.getUint8(0),h={type:c};if(2==c){if(7>a.data.length)return;h.headerVersion=b.getUint8(1);h.hasAudio=1==b.getUint8(2);h.timeOffset=b.getUint32(3,!0)}else if(0==c){if(9>a.data.length)return;h.timeOffset=b.getUint32(1,!0);h.frameCounter=b.getUint32(5,!0);h.frameData=new Uint8Array(a.data.slice(9));-1<x&&x+1!=h.frameCounter&&g("Frame GAP! Prev: "+x+"; Current: "+h.frameCounter);5<h.frameCounter&&(x=
h.frameCounter)}else if(3==c){if(4>a.data.length)return;a=String.fromCharCode.apply(null,new Uint8Array(a.data.slice(1)));g("Received StreamID: "+a);e.streamID!==a&&(g("StreamID changed, wait for reembed. "+a+" <> "+e.streamID),A=!0,null!=d&&d.close(),null!=p&&p(!0));return}m.push(h);E()}}function da(){F(!0)}function L(a){1!=G&&null!=n&&(clearTimeout(D),x=-1,m.length=0,J=-1,n.hidePlay(),D=setTimeout(da,3E3),G=!0,browserhelper.log("[ws] "+a))}function E(){if(0!=m.length&&"open"==k.readyState&&0!=t&&
(null==c||1!=c.updating)){var a=m[0];if(2==a.type){if(J==a.timeOffset)return;J=a.timeOffset;browserhelper.log("[ws] HeaderVersion: "+a.headerVersion);browserhelper.log("[ws] HasAudio:      "+a.hasAudio);browserhelper.log("[ws] TimeOffset:    "+a.timeOffset);var f=a.hasAudio;null!=c?(c.remove(0,4294967295),b[0].currentTime=0,g("SourceBuffer already inited")):(g("Init SourceBuffer"),c=1==f?k.addSourceBuffer('video/mp4; codecs="avc1.4D4028,mp4a.40.2"'):k.addSourceBuffer('video/mp4; codecs="avc1.4D4028"'),
c.mode="segments",c.addEventListener("updateend",ba),c.addEventListener("error",aa));null!=c?0==c.updating&&(m.shift(),c.timestampOffset=-a.timeOffset/1E3,E()):(m.shift(),browserhelper.log("[ws] Cannot create sourcebuffer. Disconnect."),d.close(),b[0].load())}else if(0==a.type){if(null==c){browserhelper.log("[ws] No SourceBuffer, drop.");m.shift();return}f=Date.now();if(1E3<=f-V&&0==u){V=f;g("MinBufSize: "+Math.round(q)+"ms; BufDataSize: "+Math.round(z())+"ms; Rate: "+b[0].playbackRate);f=z();var e=
3E3<=f;if(1.5*q<f&&500<f||e){var h=q;e&&(h=1);0<h&&0<y?(e=f-h,g("To much delay, buffered data size: "+Math.round(f)+"ms, try skip "+Math.round(e)+"ms forward. (minimum buffer size is: "+Math.round(q)+"ms)"),N(e),y=0):y++}else 0==y&&(P(f),q<f&&400<f?B(!1,.05):B(!0,1)),y=0}0==w&&(w=Date.now(),H=1E3*b[0].currentTime);m.shift();if(a.frameData&&0<a.frameData.length)try{c.appendBuffer(a.frameData)}catch(ea){S(ea)}else browserhelper.log("[ws] frameData null or zero! (pf)")}null!=l&&l.signal()}}function S(a){browserhelper.forceLog("[ws] Buffer error: "+
a);K++;50==K&&(K=0,null!=l&&l.error())}function U(a){1==t?null!=d&&1==t&&(null!=l&&l.start(),d.send("TestWebSocketToken")):F(a)}function fa(){U(!0)}function g(a){1==e.webSocketVerboseLog&&browserhelper.forceLog("[ws] "+a)}function P(a){8<=r.length&&r.shift();r.push(a);for(var b=a=0;b<r.length;b++)a+=r[b];q=a/r.length;250>q&&(q=250)}function B(a,c){if(void 0!=b&&void 0!=b[0]){var d=b[0].playbackRate;if(1==a)a=c;else if(a=d+c,1.05<a)return;.001<Math.abs(a-d)&&(b[0].playbackRate=a)}}function N(a){r.length=
0;void 0!=b&&void 0!=b[0]&&0<a&&(g("Skip "+Math.round(a)+"ms"),b[0].currentTime+=a/1E3)}function z(){if(void 0==b||void 0==b[0])return 0;var a=b[0].buffered;return void 0==a||0==a.length?0:1E3*(a.end(a.length-1)-b[0].currentTime)}var v=null,e=null,b=null,n=null,p=null,d=null,k=null,c=null,m=[],t=!1,J=-1,G=!1,D=null,A=!1,x=-1,I=0,T=2,K=0,w=0,H=0,u=0,V=0,y=0,q=0,r=[],l=null;this.attachVideoPlayer=function(a,c,d){null!=v&&this.detachVideoPlayer();e={};$.extend(e,c);b=$("#"+e.videoTag);v=a;p=d;e.onFirstPlay=
fa;is.safari()&&(e.disableVideoFit=!0);l=new basicWatchDog("[ws]",1E3,5E3,W);n=new ipc_html5_controls;n.ipc_attachVideoControls(e);n.hidePlay();b.on("play",M);b.on("waiting",Q);b.on("timeupdate",O);b.on("error",R);return 1==F()?n:null};this.detachVideoPlayer=function(a){C(a)};this.getDelay=function(){if(0==w)var a=0;else a=Date.now(),a=Math.round(a-w-(1E3*b[0].currentTime-H));return a}};
(function(g,k){"function"===typeof define&&define.amd?define(function(){return g.is=k()}):"object"===typeof exports?module.exports=k():g.is=k()})(this,function(){function g(b){return function(){return!b.apply(null,l.call(arguments))}}function k(b){return function(){var c=l.call(arguments),e=c.length;1===e&&a.array(c[0])&&(c=c[0],e=c.length);for(var d=0;d<e;d++)if(!b.call(null,c[d]))return!1;return!0}}function t(b){return function(){var c=l.call(arguments),e=c.length;1===e&&a.array(c[0])&&(c=c[0],
e=c.length);for(var d=0;d<e;d++)if(b.call(null,c[d]))return!0;return!1}}function u(b,c){a[b]=function(a){return c[b].test(a)}}var q=this||global,v=q.is,a={VERSION:"0.8.0",not:{},all:{},any:{}},f=Object.prototype.toString,l=Array.prototype.slice,m=Object.prototype.hasOwnProperty;a.arguments=function(b){return a.not.null(b)&&("[object Arguments]"===f.call(b)||"object"===typeof b&&"callee"in b)};a.array=Array.isArray||function(a){return"[object Array]"===f.call(a)};a.boolean=function(a){return!0===a||
!1===a||"[object Boolean]"===f.call(a)};a.date=function(a){return"[object Date]"===f.call(a)};a.error=function(a){return"[object Error]"===f.call(a)};a.function=function(a){return"[object Function]"===f.call(a)||"function"===typeof a};a.nan=function(a){return a!==a};a.null=function(a){return null===a};a.number=function(b){return a.not.nan(b)&&"[object Number]"===f.call(b)};a.object=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a};a.json=function(a){return"[object Object]"===f.call(a)};
a.regexp=function(a){return"[object RegExp]"===f.call(a)};a.sameType=function(b,c){return a.nan(b)||a.nan(c)?a.nan(b)===a.nan(c):f.call(b)===f.call(c)};a.sameType.api=["not"];a.string=function(a){return"[object String]"===f.call(a)};a.char=function(b){return a.string(b)&&1===b.length};a.undefined=function(a){return void 0===a};a.empty=function(b){if(a.object(b)){var c=Object.getOwnPropertyNames(b).length;return 0===c||1===c&&a.array(b)||2===c&&a.arguments(b)?!0:!1}return""===b};a.existy=function(a){return null!==
a&&void 0!==a};a.truthy=function(b){return a.existy(b)&&!1!==b&&a.not.nan(b)&&""!==b&&0!==b};a.falsy=g(a.truthy);a.space=function(b){return a.char(b)?(b=b.charCodeAt(0),8<b&&14>b||32===b):!1};a.equal=function(b,c){return a.all.number(b,c)?b===c&&1/b===1/c:a.all.string(b,c)||a.all.regexp(b,c)?""+b===""+c:a.all.boolean(b,c)?b===c:!1};a.equal.api=["not"];a.even=function(b){return a.number(b)&&0===b%2};a.odd=function(b){return a.number(b)&&1===b%2};a.positive=function(b){return a.number(b)&&0<b};a.negative=
function(b){return a.number(b)&&0>b};a.above=function(b,c){return a.all.number(b,c)&&b>c};a.above.api=["not"];a.under=function(b,c){return a.all.number(b,c)&&b<c};a.under.api=["not"];a.within=function(b,c,e){return a.all.number(b,c,e)&&b>c&&b<e};a.within.api=["not"];a.decimal=function(b){return a.number(b)&&0!==b%1};a.integer=function(b){return a.number(b)&&0===b%1};a.finite=isFinite||function(b){return Infinity!==b&&-Infinity!==b&&a.not.nan(b)};a.infinite=g(a.finite);var h={url:/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,
email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,
creditCard:/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/,alphaNumeric:/^[A-Za-z0-9]+$/,timeString:/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])$/,dateString:/^(1[0-2]|0?[1-9])\/(3[01]|[12][0-9]|0?[1-9])\/(?:[0-9]{2})?[0-9]{2}$/,usZipCode:/^[0-9]{5}(?:-[0-9]{4})?$/,caPostalCode:/^(?!.*[DFIOQU])[A-VXY][0-9][A-Z]\s?[0-9][A-Z][0-9]$/,ukPostCode:/^[A-Z]{1,2}[0-9RCHNQ][0-9A-Z]?\s?[0-9][ABD-HJLNP-UW-Z]{2}$|^[A-Z]{2}-?[0-9]{4}$/,
nanpPhone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,eppPhone:/^\+[0-9]{1,3}\.[0-9]{4,14}(?:x.+)?$/,socialSecurityNumber:/^(?!000|666)[0-8][0-9]{2}-(?!00)[0-9]{2}-(?!0000)[0-9]{4}$/,affirmative:/^(?:1|t(?:rue)?|y(?:es)?|ok(?:ay)?)$/,hexadecimal:/^[0-9a-fA-F]+$/,hexColor:/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,ipv4:/^(?:(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/,ipv6:/^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,
ip:/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/},
n;for(n in h)h.hasOwnProperty(n)&&u(n,h);a.include=function(a,c){return-1<a.indexOf(c)};a.include.api=["not"];a.upperCase=function(b){return a.string(b)&&b===b.toUpperCase()};a.lowerCase=function(b){return a.string(b)&&b===b.toLowerCase()};a.startWith=function(b,c){return a.string(b)&&0===b.indexOf(c)};a.startWith.api=["not"];a.endWith=function(b,c){return a.string(b)&&-1<b.indexOf(c)&&b.indexOf(c)===b.length-c.length};a.endWith.api=["not"];a.capitalized=function(b){if(a.not.string(b))return!1;b=
b.split(" ");for(var c=[],e=0;e<b.length;e++)c.push(b[e][0]===b[e][0].toUpperCase());return a.all.truthy.apply(null,c)};a.palindrome=function(b){return a.string(b)&&b==b.split("").reverse().join("")};var w="sunday monday tuesday wednesday thursday friday saturday".split(" "),x="january february march april may june july august september october november december".split(" ");a.today=function(b){var c=(new Date).toDateString();return a.date(b)&&b.toDateString()===c};a.yesterday=function(b){var c=new Date;
c=(new Date(c.setDate(c.getDate()-1))).toDateString();return a.date(b)&&b.toDateString()===c};a.tomorrow=function(b){var c=new Date;c=(new Date(c.setDate(c.getDate()+1))).toDateString();return a.date(b)&&b.toDateString()===c};a.past=function(b){var c=new Date;return a.date(b)&&b.getTime()<c.getTime()};a.future=g(a.past);a.day=function(b,c){return a.date(b)&&c.toLowerCase()===w[b.getDay()]};a.day.api=["not"];a.month=function(b,c){return a.date(b)&&c.toLowerCase()===x[b.getMonth()]};a.month.api=["not"];
a.year=function(b,c){return a.date(b)&&a.number(c)&&c===b.getFullYear()};a.year.api=["not"];a.leapYear=function(b){return a.number(b)&&(0===b%4&&0!==b%100||0===b%400)};a.weekend=function(b){return a.date(b)&&(6===b.getDay()||0===b.getDay())};a.weekday=g(a.weekend);a.inDateRange=function(b,c,e){if(a.not.date(b)||a.not.date(c)||a.not.date(e))return!1;b=b.getTime();c=c.getTime();e=e.getTime();return b>c&&b<e};a.inDateRange.api=["not"];a.inLastWeek=function(b){return a.inDateRange(b,new Date((new Date).setDate((new Date).getDate()-
7)),new Date)};a.inLastMonth=function(b){return a.inDateRange(b,new Date((new Date).setMonth((new Date).getMonth()-1)),new Date)};a.inLastYear=function(b){return a.inDateRange(b,new Date((new Date).setFullYear((new Date).getFullYear()-1)),new Date)};a.inNextWeek=function(b){return a.inDateRange(b,new Date,new Date((new Date).setDate((new Date).getDate()+7)))};a.inNextMonth=function(b){return a.inDateRange(b,new Date,new Date((new Date).setMonth((new Date).getMonth()+1)))};a.inNextYear=function(b){return a.inDateRange(b,
new Date,new Date((new Date).setFullYear((new Date).getFullYear()+1)))};a.quarterOfYear=function(b,c){return a.date(b)&&a.number(c)&&c===Math.floor((b.getMonth()+3)/3)};a.quarterOfYear.api=["not"];a.dayLightSavingTime=function(a){var b=new Date(a.getFullYear(),0,1),e=new Date(a.getFullYear(),6,1);b=Math.max(b.getTimezoneOffset(),e.getTimezoneOffset());return a.getTimezoneOffset()<b};if("undefined"!==typeof window){var d="navigator"in window&&"userAgent"in navigator&&navigator.userAgent.toLowerCase()||
"",r="navigator"in window&&"vendor"in navigator&&navigator.vendor.toLowerCase()||"",p="navigator"in window&&"appVersion"in navigator&&navigator.appVersion.toLowerCase()||"";a.chrome=function(){return/chrome|chromium/i.test(d)&&/google inc/.test(r)};a.chrome.api=["not"];a.firefox=function(){return/firefox/i.test(d)};a.firefox.api=["not"];a.edge=function(){return/edge/i.test(d)};a.edge.api=["not"];a.ie=function(a){return a?11<=a?"ActiveXObject"in window:(new RegExp("msie "+a)).test(d):/msie/i.test(d)||
"ActiveXObject"in window};a.ie.api=["not"];a.opera=function(){return/^Opera\//.test(d)||/\x20OPR\//.test(d)};a.opera.api=["not"];a.safari=function(){return/safari/i.test(d)&&/apple computer/i.test(r)};a.safari.api=["not"];a.ios=function(){return a.iphone()||a.ipad()||a.ipod()};a.ios.api=["not"];a.iphone=function(){return/iphone/i.test(d)};a.iphone.api=["not"];a.ipad=function(){return/ipad/i.test(d)};a.ipad.api=["not"];a.ipod=function(){return/ipod/i.test(d)};a.ipod.api=["not"];a.android=function(){return/android/i.test(d)};
a.android.api=["not"];a.androidPhone=function(){return/android/i.test(d)&&/mobile/i.test(d)};a.androidPhone.api=["not"];a.androidTablet=function(){return/android/i.test(d)&&!/mobile/i.test(d)};a.androidTablet.api=["not"];a.blackberry=function(){return/blackberry/i.test(d)||/BB10/i.test(d)};a.blackberry.api=["not"];a.desktop=function(){return a.not.mobile()&&a.not.tablet()};a.desktop.api=["not"];a.linux=function(){return/linux/i.test(p)};a.linux.api=["not"];a.mac=function(){return/mac/i.test(p)};a.mac.api=
["not"];a.windows=function(){return/win/i.test(p)};a.windows.api=["not"];a.windowsPhone=function(){return a.windows()&&/phone/i.test(d)};a.windowsPhone.api=["not"];a.windowsTablet=function(){return a.windows()&&a.not.windowsPhone()&&/touch/i.test(d)};a.windowsTablet.api=["not"];a.mobile=function(){return a.iphone()||a.ipod()||a.androidPhone()||a.blackberry()||a.windowsPhone()};a.mobile.api=["not"];a.tablet=function(){return a.ipad()||a.androidTablet()||a.windowsTablet()};a.tablet.api=["not"];a.online=
function(){return navigator.onLine};a.online.api=["not"];a.offline=g(a.online);a.offline.api=["not"];a.touchDevice=function(){return"ontouchstart"in window||"DocumentTouch"in window&&document instanceof DocumentTouch};a.touchDevice.api=["not"]}a.propertyCount=function(b,c){if(!a.object(b)||!a.number(c))return!1;if(Object.keys)return Object.keys(b).length===c;var e=[],d;for(d in b)m.call(b,d)&&e.push(d);return e.length===c};a.propertyCount.api=["not"];a.propertyDefined=function(b,c){return a.object(b)&&
a.string(c)&&c in b};a.propertyDefined.api=["not"];a.windowObject=function(a){return"object"===typeof a&&"setInterval"in a};a.domNode=function(b){return a.object(b)&&0<b.nodeType};a.inArray=function(b,c){if(a.not.array(c))return!1;for(var e=0;e<c.length;e++)if(c[e]===b)return!0;return!1};a.inArray.api=["not"];a.sorted=function(b){if(a.not.array(b))return!1;for(var c=0;c<b.length;c++)if(b[c]>b[c+1])return!1;return!0};(function(){var b=a,c;for(c in b)if(m.call(b,c)&&a.function(b[c]))for(var e=b[c].api||
["not","all","any"],d=0;d<e.length;d++)"not"===e[d]&&(a.not[c]=g(a[c])),"all"===e[d]&&(a.all[c]=k(a[c])),"any"===e[d]&&(a.any[c]=t(a[c]))})();a.setRegexp=function(a,c){for(var b in h)m.call(h,b)&&c===b&&(h[b]=a)};a.setNamespace=function(){q.is=v;return this};return a});
/*
 https://github.com/zeusdeux/isInViewport/blob/master/license.md MIT
*/
(function(b,f){"object"===typeof exports&&"undefined"!==typeof module?f(require("jquery"),require("window")):"function"===typeof define&&define.amd?define("isInViewport",["jquery","window"],f):f(b.$,b.window)})(this,function(b,f){function h(a,c){var g=a.getBoundingClientRect();a=g.top;var l=g.bottom,k=g.left;g=g.right;c=b.extend({tolerance:0,viewport:f},c);var m=!1,e=c.viewport.jquery?c.viewport:b(c.viewport);e.length||(console.warn("isInViewport: The viewport selector you have provided matches no element on page."),
console.warn("isInViewport: Defaulting to viewport as window"),e=b(f));var n=e.height(),p=e.width(),d=e[0].toString();e[0]!==f&&"[object Window]"!==d&&"[object DOMWindow]"!==d&&(d=e[0].getBoundingClientRect(),a-=d.top,l-=d.top,k-=d.left,g-=d.left,(d=h.scrollBarWidth)||(d=e,e=b("<div></div>").css({width:"100%"}),d.append(e),d=d.width()-e.width(),e.remove()),h.scrollBarWidth=d,p-=h.scrollBarWidth);c.tolerance=~~Math.round(parseFloat(c.tolerance));0>c.tolerance&&(c.tolerance=n+c.tolerance);return 0>=
g||k>=p?m:m=c.tolerance?a<=c.tolerance&&l>=c.tolerance:0<l&&a<=n}function k(a){return a?(a=a.split(","),1===a.length&&isNaN(a[0])&&(a[1]=a[0],a[0]=void 0),{tolerance:a[0]?a[0].trim():void 0,viewport:a[1]?b(a[1].trim()):void 0}):{}}b="default"in b?b["default"]:b;f="default"in f?f["default"]:f;b.extend(b.expr[":"],{"in-viewport":b.expr.createPseudo?b.expr.createPseudo(function(a){return function(b){return h(b,k(a))}}):function(a,b,g){return h(a,k(g[3]))}});b.fn.isInViewport=function(a){return this.filter(function(b,
g){return h(g,a)})};b.fn.run=function(a){var c=this;1===arguments.length&&"function"===typeof a&&(a=[a]);if(!(a instanceof Array))throw new SyntaxError("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions");a.forEach(function(a){"function"!==typeof a?(console.warn("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions"),console.warn("isInViewport: Ignoring non-function values in array and moving on")):[].slice.call(c).forEach(function(c){return a.call(b(c))})});
return this}});
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){b!=Array.prototype&&b!=Object.prototype&&(b[a]=c.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,a,c,f){if(a){c=$jscomp.global;b=b.split(".");for(f=0;f<b.length-1;f++){var e=b[f];e in c||(c[e]={});c=c[e]}b=b[b.length-1];f=c[b];a=a(f);a!=f&&null!=a&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("Math.trunc",function(b){return b?b:function(a){a=Number(a);if(isNaN(a)||Infinity===a||-Infinity===a||0===a)return a;var c=Math.floor(Math.abs(a));return 0>a?-c:c}},"es6","es3");
$jscomp.checkStringArgs=function(b,a,c){if(null==b)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return b+""};
$jscomp.polyfill("String.prototype.startsWith",function(b){return b?b:function(a,c){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=b.length,g=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var Q=0;Q<g&&c<e;)if(b[c++]!=a[Q++])return!1;return Q>=g}},"es6","es3");$jscomp.findInternal=function(b,a,c){b instanceof String&&(b=String(b));for(var f=b.length,e=0;e<f;e++){var g=b[e];if(a.call(c,g,e,b))return{i:e,v:g}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
function htmlEditHelperClass(){var b;this.getClass=function(a){return"ipc-"+a};this.setContainerName=function(a){b=a};this.getID=function(a){return b+"_"+a};this.getElem=function(a){return $("#"+this.getID(a))};this.createDiv=function(a,c,b,e,g){a="<div";void 0!=c&&(a=a+" id="+this.getID(c));a=a+' class="'+this.getClass(b)+'"';void 0!=e&&(a=a+' title="'+e+'"');a+=">";void 0!=g&&(a+=g);return a+"</div>"};this.createStyledDiv=function(a,c,b,e,g){a="<div";void 0!=c&&(a=a+" id="+this.getID(c));a=a+' style="'+
b+'"';void 0!=e&&(a=a+' title="'+e+'"');a+=">";void 0!=g&&(a+=g);return a+"</div>"};this.htmlDiv=function(a,c,b,e,g){b=this.createDiv(a,c,b,e,g);a&&a.html(b);return this.getElem(c)};this.htmlStyledDiv=function(a,b,f,e,g){f=this.createStyledDiv(a,b,f,e,g);a&&a.html(f);return this.getElem(b)};this.appendDiv=function(a,b,f,e,g){f=this.createDiv(a,b,f,e,g);a&&a.append(f);return this.getElem(b)};this.appendStyledDiv=function(a,b,f,e,g){f=this.createStyledDiv(a,b,f,e,g);a&&a.append(f);return this.getElem(b)};
this.openList=function(a,b,f){a="<ul id="+this.getID(a)+" class="+this.getClass(b)+">";void 0!=f&&(a+=f);return a};this.closeList=function(a){return a+"</ul>"};this.addListItem=function(a,b,f,e,g){var c="<li";void 0!=a&&(c=c+" id="+this.getID(a));void 0!=f&&(c=c+' class="'+this.getClass(f)+'"');c=c+">"+e;if(void 0==g||1==g)c+="</li>";return b+c};this.closeListItem=function(a){return a+"</li>"};this.addListSeparator=function(a,b,f){var c="<div";void 0!=a&&(c=c+" id="+this.getID(a));void 0!=f&&(c=c+
' class="'+this.getClass(f)+'"');return b+(c+"></div>")};this.splitList=function(a){if(void 0!=a&&0!=a.length)return a=a.split("\n"),void 0!=a&&0<a.length&&""==a[a.length-1]&&a.pop(),a};this.compareStr=function(a,b){return a.toLowerCase()==b.toLowerCase()}}
function ipc_storageTimesMgr(b){var a=[],c=d3.timeParse("%Y-%m-%d %H:%M:%S"),f=void 0;this.load=function(e){$.get(e,{},function(e){if(e&&(e=b.splitList(e))&&0<e.length)for(var g=0;g<e.length;){var G=e[g++].split("|");if(0!=G.length)switch(G[0]){case "G":f=c(G[1].trim());break;case "T":if(void 0!=f){var C=new Date(f);C.setSeconds(G[1]);var H={};H.time=C;H.segmentLength=G[2];a.push(H)}}}}).fail(function(){})};this.hasData=function(){return a.length&&0<a.length};this.getTime=function(b){b*=a.length;
var c=Math.trunc(b);if(c>a.length-2)return a[a.length-1].time;var e=a[c],f=e.time.getTime(),C=a[c+1].time.getTime()-f;C>2*e.segmentLength&&(C=e.segmentLength);return new Date(f+C*(b-c))}}
function iplayer(){iplayerEx.call(this);this.setOnCreateVideoPlayer(function(b){if(EMULATE_TIMELAPSE_STORAGE==TSE_TIMELAPSE||EMULATE_TIMELAPSE_STORAGE==TSE_TIMELAPSESTORAGE)b.timelapseenabledoncamera=1;if(EMULATE_TIMELAPSE_STORAGE==TSE_STORAGE||EMULATE_TIMELAPSE_STORAGE==TSE_TIMELAPSESTORAGE)b.storageenabled=1;var a=(1==browserhelper.getParam(b,"disabletimelapseplayer",!1)||0==browserhelper.getParam(b,"timelapseenabledoncamera",!1))&&0==browserhelper.getParam(b,"storageenabled",!1);if("B"==b.servicetype||
1==a||1==browserhelper.isSafariMobile()||0==browserhelper.isHTML5Supported())browserhelper.log("Live player created"),browserhelper.log("Service type: "+b.servicetype),browserhelper.log("Timelapse player enabled: "+b.timelapseplayerenabled),browserhelper.log("Timelapse enabled on camera: "+b.timelapseenabledoncamera),browserhelper.log("Unsupported safari on iOS: "+browserhelper.isSafariMobile()),browserhelper.log("HTML5 supported: "+browserhelper.isHTML5Supported());else{a="";if(void 0!=b.rtcsupport&&
1==b.rtcsupport){a="infinite\\";var c=ipcamliveHostManager.getTimelapseURL("timelapses/"+b.alias+"/");1==c.startsWith("http://g")?c=c.replace("http://g","http://t"):1==c.startsWith("https://g")&&(c=c.replace("https://g","https://t"))}else c=b.address+"timelapses/"+b.alias+"/";browserhelper.log("Timelapse player created. Path: "+c);var f=void 0,e=!0;b.hasOwnProperty("displaymode")&&"timelapse"==b.displaymode&&(f=b.hasOwnProperty("initialtimelapse")?b.initialtimelapse:"first",b.hasOwnProperty("hidelivebutton")&&
1==b.hidelivebutton&&(e=!1));return new timeLapseOnLiveVideoPlayer(c,a,f,e)}})}
function timeLapseOnLiveVideoPlayer(b,a,c,f){function e(){var d=1==x?n:l;d=void 0!=d?d.getVideoPlayer()[0]:void 0;return void 0!=d?0==d.paused:!1}function g(d){w=k.htmlStyledDiv($("#"+W),"base","width:100%; height:100%; position:relative; background:#000; "+browserhelper.getOverflowValue(d));w.on("resize",R)}function Q(d){n=new ihtml5video(ua);$.extend(y,d);n.setExtraParams(ha);y.uniqid=va;y.onControlsCreated=wa;void 0!=c&&(X=y.hasOwnProperty("autoplay")&&1==y.autoplay,y.autoplay=!1);ia=k.appendStyledDiv(w,
"live_ipc_ic","width:100%; height:100%; position:absolute; z-index:1");ia.on("mousemove",xa);n.player(ia[0].id,y,!1)}function G(){D=k.appendDiv(w,"base_left_panel","baseLeftPanel");z=k.appendDiv(D,"timelapse_panel","timeLapsePanel");ipcStyleManager.setPanelStyle(z,r.style);if(1==v)z.on("click",void 0,this,ja),z.on("touchmove",ja);else z.on("mousemove",ja);m=k.appendDiv(w,"timelapse_panel_toggler","timeLapsePanelToggler");m.click(K);m.css("left","-32px");m.show();m.delay(500).animate({left:"0px"},
500,"swing");ipcStyleManager.setBackgroundImage(m,r.style.timelapse.openPanel,r.style);0==v&&m.hover(function(){$(this).addClass(k.getClass("timeLapsePanelTogglerHover"))},function(){$(this).removeClass(k.getClass("timeLapsePanelTogglerHover"))});q=k.appendDiv(I,"timePanel","timePanel");ipcStyleManager.setPanelStyle(q,r.style);S=k.appendDiv(q,"timePanelDate","timePanelDate");J=k.appendDiv(q,"timePanelTime","timePanelTime");q.hide();ipcStyleManager.setFontStyle(S,r.style);ipcStyleManager.setFontStyle(J,
r.style);0==v&&w.hover(function(){q.animate({opacity:"1.0"},250)},function(){q.animate({opacity:"0.30"},250);e()&&Y(500);1==A&&0==E&&(Z(),aa(500))})}function C(d){t=void 0;$.get(d,{},function(d){if(d&&(t=k.splitList(d))&&0<t.length){for(;0<t.length;){if(t[0].startsWith("begin")){t.shift();break}d=t[0].split("=");1<d.length&&"version"!=d[0]&&"fps"==d[0]&&(T=parseInt(d[1]));t.shift()}U=t.length/T}}).fail(function(){})}function H(d){return h==d?!1:(h=d)?(h.listNode.open(),h.listNode.setSelected(!0,!0),
!0):!1}function Ha(d){function a(d){d=d.toString();return 2>d.length?"0"+d:d}function b(d,b){d=d(b);b={};b.year=d.getFullYear();b.month=a(d.getMonth()+1);b.day=a(d.getDate());b.hour=a(d.getHours());b.min=a(d.getMinutes());b.sec=a(d.getSeconds());b.dayStr=b.year+"-"+b.month+"-"+b.day;b.hourStr=b.hour+":00h";return b}for(var c=void 0,e=[],f=d3.timeParse("%Y-%m-%d %H:%M:%S"),ka=d.length-1;0<=ka;ka--){var g=d[ka],p={};p.from=b(f,g.fromdate);p.to=b(f,g.todate);p.url=g.url;p.intervalStr=p.from.hour+":"+
p.from.min+" - "+p.to.hour+":"+p.to.min;p.displayName=p.intervalStr;p.next=c;p.prev=void 0;void 0!=c&&(c.prev=p);e.push(p);c=p}return e}function Ia(){var d=r.style,a={isCategory:!0,iconSize:32,fontSize:"14px",textColor:"rgba(255, 255, 255, 1)",padding:"8px 0px 8px 8px"};B=new ipc_GroupListBuilder("timelapseList","ipc-hub-tree",W,d,v,function(d){void 0!=d&&d.isLeaf()?1!=d.isSelected&&(d.sourceType==SourceTypeLive?(void 0!=e&&e.close(),void 0!=c&&c.close(),la(!0),H(void 0),ma&&(n.start(),ma=!1)):d.sourceType==
SourceTypeTimelapse?(void 0!=c&&c.close(),ba(u[d.listIndex],!0,!0)):d.sourceType==SourceTypeStorage&&(void 0!=e&&e.close(),na(F[d.listIndex],!0,!0)),d.setSelected(!0,!0)):void 0!=scrollbar&&scrollbar.update()});var b=void 0,c=void 0,e=void 0;a.icon=d.hub.liveIcon;a.iconSelected=d.hub.liveIconSelected;b=B.add("LIVE",a);b.sourceType=SourceTypeLive;0<F.length&&(a.icon=d.hub.storageIcon,a.iconSelected=d.hub.storageIconSelected,c=B.add("Storage",a));0<u.length&&(a.icon=d.hub.timelapseIcon,a.iconSelected=
d.hub.timelapseIconSelected,e=B.add("Timelapse",a));a={padding:"4px 0px 4px 0px"};for(var f=0;f<F.length;f++){var g=F[f],h=c.find(g.from.dayStr);void 0==h&&(h=c.add(g.from.dayStr,a));var p=h.find(g.from.hourStr);void 0==p&&(p=h.add(g.from.hourStr,a));g=p.add(g.intervalStr,a);g.listIndex=f;g.sourceType=SourceTypeStorage;F[f].listNode=g}a={padding:"4px 0px 4px 28px"};for(f=0;f<u.length;f++)g=e.add(u[f].displayName,a),g.listIndex=f,g.sourceType=SourceTypeTimelapse,u[f].listNode=g;B.build(z,d);b.setSelected(!0);
d=0<F.length?1.5:0<u.length?1.7:1;V=B.getMaxTextWidth()*d;D.css("left",-V+"px");D.css("width",V+"px");d=k.getElem("ipc-hub-tree");scrollbar=new GeminiScrollbar({element:d[0],forceGemini:!0});void 0!=scrollbar&&(scrollbar.embeddWithoutControls=scrollbar.scrollbarAvailable,scrollbar.create(),void 0!=scrollbar&&null!=scrollbar._scrollbarHorizontalElement&&(scrollbar._scrollbarHorizontalElement.style.display="none"))}function K(){var d=!A;E=!0;if(d){var a=V;D.animate({left:"0px"},500,"swing",Ja);z.animate({opacity:r.style.colors.panelsBackgroundOpacity},
500);B.animateIn()}else a=0,D.animate({left:-V+"px"},600,"swing",Ka),z.animate({opacity:"0.0"},600),B.animateOut();z.css("z-index","2");oa();1==v&&(1==d?m.addClass(k.getClass("timeLapsePanelTogglerHover")):m.removeClass(k.getClass("timeLapsePanelTogglerHover")));m.animate({opacity:d?"0.0":"0.75",left:a+"px"},{duration:d?400:750},"linear");A=d;ca();1==A?aa():(e()&&Y(),Z())}function oa(){D&&D.css("height",ya+"px")}function za(){1==da&&(da=!0,Aa(za));if(void 0!=h){var d=l.getVideoPlayer();if(d&&d[0]){var a=
d[0].duration;d=d[0].currentTime;isNaN(a)||0==a||(void 0!=L?0!=L.hasData()&&(a=L.getTime(d/a),S.text(d3.timeFormat("%Y")(a)+"."+d3.timeFormat("%m")(a)+"."+d3.timeFormat("%d")(a)),J.text(d3.timeFormat("%H:%M:%S")(a)),pa(),q.is(":visible")||q.show()):0<=d&&0<a&&0<U&&void 0!=t&&(a-=U,d>=a&&(a=Math.floor((d-a)*T),0<=a&&a<t.length&&(a=d3.timeParse("%Y-%m-%d %H:%M:%S")(t[a].trim()),h.isDaily?(S.text(d3.timeFormat("%Y")(a)+"."+d3.timeFormat("%m")(a)+"."+d3.timeFormat("%d")(a)),J.text(d3.timeFormat("%H:%M")(a))):
(S.text(d3.timeFormat("%Y")(a)+"."+d3.timeFormat("%m")(a)+"."+d3.timeFormat("%d")(a)),J.text(d3.timeFormat("%A")(a))),pa(),q.is(":visible")||q.show()))))}}}function pa(){if(void 0!=h){var a=0,b=0;if(l&&l.getVideoPlayer()&&0==l.getControls().get_isVideoFit()){var c=l.getVideoPlayer()[0].videoWidth,e=l.getVideoPlayer()[0].videoHeight,f=c/e,g=I.width(),k=I.height();g/c<=k/e?b=(k-g/f)/2:a=(g-k*f)/2}q.css("margin-right",25+a+"px");q.css("margin-top",25+b+"px")}}function La(){m&&1!=M&&(M=1,m.fadeTo(250,
0,function(){M=0}))}function qa(a){1!=ra&&(m&&2!=M&&(M=2,m.fadeTo(250,.75,function(){M=0})),void 0!=a&&0==a?ca():e()&&Y())}function la(a){sa&&sa.cancel();var d=k.getElem("live_ipc_ic"),b=k.getElem("timelapse_ipc_ic");x?(d.removeClass(N),b.removeClass(O),1==a?(d.addClass("pt-page-moveToRightEasingSlow"),b.addClass("pt-page-moveFromLeftEasingFast"),N="pt-page-moveToRightEasingSlow",O="pt-page-moveFromLeftEasingFast"):(O=N="",d.hide()),d.css("z-index","1"),b.css("z-index","0"),b.show(),da=!0,Aa(za)):
(da=!1,d.removeClass(N),b.removeClass(O),1==a?(N="pt-page-moveFromLeftEasingFast",O="pt-page-moveToRightEasingSlow",d.addClass("pt-page-moveFromLeftEasingFast"),b.addClass("pt-page-moveToRightEasingSlow")):(O=N="",b.hide()),d.css("z-index","0"),b.css("z-index","1"),d.show(),B.clearSelection());x=!x;1==A&&K();ca();sa=ipcamlivehelper.createTimeout(function(){if(x)l.stop();else{var a=y.hasOwnProperty("autoplay")&&1==y.autoplay;ma=void 0!=n&&n.stop()&&1==a||X;X=!1}},500)}function Ma(){window.orientation!=
Ba&&(Ba=window.orientation,Ca())}function R(){if(m){0<=m.position().left&&m.css("left","0px");var a=w[0].clientHeight/2-32+"px",b=m.position().top;b==w[0].clientHeight?m.css("top",a):250>Math.abs(b-a)?m.animate({top:a},250):m.css("top",a)}pa();oa()}function Ca(){ra=!0;1==A&&K();q.hide();m.hide();setTimeout(function(){ra=!1;R();0!=e()&&1!=v||qa();0==x&&void 0!=q&&q.show()},500)}function xa(){0==v&&(A&&0==E&&aa(500),0==E&&void 0==P&&qa())}function ea(){Ca()}function Da(a){a=1==x?n:l;void 0!=a&&(ya=
a.getControls().get_controlBarTop());oa()}function wa(a){a.overrideFullscreenElement(w);a.setDiscardClickEvent(Na);var d=a.get_video();d.on("play",Ea);if(l&&a==l.getControls())d.on("loadedmetadata",Ea)}function Ea(){1==A&&K();e()&&Y()}function Na(a){if(1==v&&A&&!E)return K(),!0;qa(1==v);return!1}function ja(){1==v?void 0!=P&&aa():Z()}function Fa(a,b){var d={};d.source=a.sourceDir+"video.mp4";d.poster=a.sourceDir+"snapshot.jpg";d.name=a.displayName;d.type=SourceTypeTimelapse;d.autoPlay=void 0!=b?b:
!1;d.stepControl=Ga();return d}function ba(a,b,c,e){void 0!=a&&0!=H(a)&&(x&&la(b),U=T=-1,L=void 0,q.hide(),a.isDaily?J.css("font-size","2em"):J.css("font-size","1.25em"),1==c&&(b=Fa(a,e),l.setSource(b)),C(a.sourceDir+"video.dat"))}function na(a,b,c,e){void 0!=a&&0!=H(a)&&(x&&la(b),U=T=-1,t=void 0,q.hide(),1==c&&(b={},b.source=a.url,b.poster="",b.name=a.displayName,b.type=SourceTypeStorage,b.autoPlay=void 0!=e?e:!1,b.stepControl=Ga(),l.setSource(b),a=b.source.substr(0,b.source.lastIndexOf("."))+".dat",
L=new ipc_storageTimesMgr(k),L.load(a)))}function Ja(){E=!1}function Ka(){E=!1}function Z(){P&&(clearTimeout(P),P=void 0)}function aa(a){if(0!=v||void 0!=a)a=void 0==a?5E3:a,Z(),P=setTimeout(K,a)}function ca(){fa&&(clearTimeout(fa),fa=void 0)}function Y(a){ca();fa=setTimeout(La,void 0==a?3E3:a)}function Oa(){void 0!=h&&(h.listNode.sourceType==SourceTypeStorage?na(h.next,!0,!0,!0):h.listNode.sourceType==SourceTypeTimelapse&&ba(h.next,!0,!0,!0))}function Pa(){return void 0!=h&&void 0!=h.next}function Qa(){void 0!=
h&&(h.listNode.sourceType==SourceTypeStorage?na(h.prev,!0,!0,!0):h.listNode.sourceType==SourceTypeTimelapse&&ba(h.prev,!0,!0,!0))}function Ra(){return void 0!=h&&void 0!=h.prev}function Sa(){return void 0==h?"":h.prev.displayName}function Ta(){return void 0==h?"":h.next.displayName}function Ga(){var a={};a.onPrevClip=Qa;a.onNextClip=Oa;a.isPrevClipAvailable=Ra;a.isNextClipAvailable=Pa;a.getPrevClipName=Sa;a.getNextClipName=Ta;return a}var va=ipcamlivehelper.generateString(8),v=browserhelper.isMobileBrowser(),
x=!0,ma=!1,Ba=void 0,ra=!1,X=!1,k=new htmlEditHelperClass,ua={},sa=void 0,P=void 0,fa=void 0,w=void 0,W=void 0,ia=void 0,I=void 0,n=void 0,y={},l=void 0,r={},ha=void 0,h=void 0,D=void 0,z=void 0,V=125,ya=0,A=!1,m=void 0,E=!1,M=0,B=void 0,q=void 0,S=void 0,J=void 0,T=-1,U=-1,t=void 0,u=[],ta=b,F=[],L=void 0,N="",O="",da=!1,Aa=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,100)}}();this.player=function(b,
e){function d(){h--;if(0==h&&(0<u.length||0<F.length)){a:{if(void 0!=c&&""!=c){if(k.compareStr(c,"first"))var a=0<u.length?0:-1;else{if(k.compareStr(c,"long-lapse")||k.compareStr(c,"longlapse")||k.compareStr(c,"infinite"))c=ipcLocale.longLapse;b:{for(a=0;a<u.length;a++)if(u[a].displayName==c)break b;a=-1}0>a&&(0<u.length?(a=0,browserhelper.log("Initial timelapse not found. Load first one.")):browserhelper.log("Initial timelapse load fail, no timelapses"))}if(0<=a){var b=Fa(u[a]);b.index=a;a=b;break a}}a=
void 0}l=new ihtml5video(ua);$.extend(r,e);l.setExtraParams(ha);r.uniqid=va;r.onControlsCreated=wa;void 0!=a?(r.poster=a.poster,r.source=a.source):(r.poster="",r.source="");I=k.appendDiv(w,"timelapse_ipc_ic","playerContainer");I.css("z-index","0");I.on("mousemove",xa);l.player(I[0].id,r,!0);G();Ia();R();void 0!=n&&n.setOnControlBarUpdateEvent(Da);l.setOnControlBarUpdateEvent(Da);l.setOnFitChangeEvent(R);document.addEventListener("fullscreenchange",ea);document.addEventListener("webkitfullscreenchange",
ea);document.addEventListener("mozfullscreenchange",ea);document.addEventListener("MSFullscreenChange",ea);1==v&&window.addEventListener("orientationchange",Ma);void 0!=a?(l.getControls().setSourceName(a.displayName),ba(a.index,!1,!1),E=!1):void 0!=c&&1==X&&n.start()}}W=b;k.setContainerName(W);g(e);void 0!=c&&void 0!=f&&1!=f||Q(e);var h=1;1==e.timelapseenabledoncamera&&h++;1==e.storageenabled&&h++;if(1==e.storageenabled){b="https://sm.ipcamlive.com/player/getstorageinfo.php?alias="+e.alias;if(EMULATE_TIMELAPSE_STORAGE==
TSE_STORAGE||EMULATE_TIMELAPSE_STORAGE==TSE_TIMELAPSESTORAGE)b="storagelist.dat";$.get(b,{},function(a){F=Ha(a);d()},"json").fail(function(){h--})}if(1==e.timelapseenabledoncamera){if(EMULATE_TIMELAPSE_STORAGE==TSE_TIMELAPSE||EMULATE_TIMELAPSE_STORAGE==TSE_TIMELAPSESTORAGE)ta="";$.get(ta+"timelapselist.dat",{},function(b){var c=ta,e=k.splitList(b);b=[];if(void 0!=e&&0!=e.length){for(var f=!1,g=e.length-1;0<=g;g--){var h=e[g].split("*"),l="d"==h[0];1==l?(h=h[1].trim(),b.push({displayName:h,sourceDir:c+
h+"/",isDaily:l})):f=!0}1==f&&b.unshift({displayName:ipcLocale.longLapse,sourceDir:c+a,isDaily:!1});c=void 0;for(g=0;g<b.length;g++)e=b[g],e.prev=void 0,e.next=void 0,void 0!=c&&(c.prev=b[g],b[g].next=c),c=b[g]}u=b;d()}).fail(function(){h--})}b=dependencyhelper.createVersionedCSSFileName("player/html5player/mainplayer",IPC_MAIN_CCS_VERSION);dependencyhelper.load_css(ipcamliveHostManager.getHostURL(b),d);return!0};this.setEvents=function(a,b){void 0!=n&&n.setEvents(a,b);void 0!=l&&l.setEvents(a,b)};
this.destroyObjects=function(){void 0!=n&&n.destroyObjects()};this.resize=function(){void 0!=n&&n.resize();void 0!=l&&l.resize()};this.setExtraParams=function(a){ha=a};this.getWebSocketDelay=function(){return void 0!=n?n.getWebSocketDelay():0};this.setSnippets=function(a){if(void 0!=n)return n.setSnippets(a)};this.setCheckStreamState=function(a){};$(window).resize(function(){R()})}var ipcamliveplayer=new iplayer;
/*
 *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
*****************************************************************************/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(e,g){return Object.prototype.hasOwnProperty.call(e,g)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,g,n){e!=Array.prototype&&e!=Object.prototype&&(e[g]=n.value)};
$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(e,g,n,t){if(g){n=$jscomp.global;e=e.split(".");for(t=0;t<e.length-1;t++){var p=e[t];p in n||(n[p]={});n=n[p]}e=e[e.length-1];t=n[e];g=g(t);g!=t&&null!=g&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:g})}};
$jscomp.polyfill("Object.assign",function(e){return e?e:function(e,n){for(var g=1;g<arguments.length;g++){var p=arguments[g];if(p)for(var y in p)$jscomp.owns(p,y)&&(e[y]=p[y])}return e}},"es6","es3");
(function(e,g){"object"===typeof exports&&"undefined"!==typeof module?module.exports=g():"function"===typeof define&&define.amd?define(g):(e="undefined"!==typeof globalThis?globalThis:e||self,e.Panzoom=g())})(this,function(){function e(a,c){for(var d=a.length;d--;)if(a[d].pointerId===c.pointerId)return d;return-1}function g(a,c){var d;if(c.touches){var z=d=0;for(c=c.touches;z<c.length;z++){var D=c[z];D.pointerId=d++;g(a,D)}}else d=e(a,c),-1<d&&a.splice(d,1),a.push(c)}function n(a){a=a.slice(0);for(var c=
a.pop(),d;d=a.pop();)c={clientX:(d.clientX-c.clientX)/2+c.clientX,clientY:(d.clientY-c.clientY)/2+c.clientY};return c}function t(a){if(2>a.length)return 0;var c=a[0];a=a[1];return Math.sqrt(Math.pow(Math.abs(a.clientX-c.clientX),2)+Math.pow(Math.abs(a.clientY-c.clientY),2))}function p(a,c,d,e){E[a].split(" ").forEach(function(a){c.addEventListener(a,d,e)})}function y(a,c,d){E[a].split(" ").forEach(function(a){c.removeEventListener(a,d)})}function B(a){if(x[a])return x[a];var c=A?A:A=document.createElement("div").style;
if(a in c)return x[a]=a;for(var d=a[0].toUpperCase()+a.slice(1),e=F.length;e--;){var g=""+F[e]+d;if(g in c)return x[a]=g}}function w(a,c,d){void 0===d&&(d=window.getComputedStyle(a));a="border"===c?"Width":"";return{left:parseFloat(d[B(c+"Left"+a)])||0,right:parseFloat(d[B(c+"Right"+a)])||0,top:parseFloat(d[B(c+"Top"+a)])||0,bottom:parseFloat(d[B(c+"Bottom"+a)])||0}}function C(a,c,d){a.style[B(c)]=d}function P(a){var c=a.parentNode,d=window.getComputedStyle(a),e=window.getComputedStyle(c),g=a.getBoundingClientRect(),
h=c.getBoundingClientRect();return{elem:{style:d,width:g.width,height:g.height,top:g.top,bottom:g.bottom,left:g.left,right:g.right,margin:w(a,"margin",d),border:w(a,"border",d)},parent:{style:e,width:h.width,height:h.height,top:h.top,bottom:h.bottom,left:h.left,right:h.right,padding:w(c,"padding",e),border:w(c,"border",e)}}}function X(a){var c=a.ownerDocument;a=a.parentNode;return c&&a&&9===c.nodeType&&1===a.nodeType&&c.documentElement.contains(a)}function Y(a){return Z.test(a.namespaceURI)&&"svg"!==
a.nodeName.toLowerCase()}function G(a,c){function d(b,c,d){d.silent||(b=new CustomEvent(b,{detail:c}),a.dispatchEvent(b))}function z(b,c,e){var f={x:q,y:r,scale:l,isSVG:H,originalEvent:e};requestAnimationFrame(function(){if("boolean"===typeof c.animate)if(c.animate){var b=B("transform");C(a,"transition",b+" "+c.duration+"ms "+c.easing)}else C(a,"transition","none");c.setTransform(a,f,c)});d(b,f,c);d("panzoomchange",f,c);return f}function D(){if(c.contain){var b=P(a),f=(b.parent.width-b.parent.border.left-
b.parent.border.right)/(b.elem.width/l);b=(b.parent.height-b.parent.border.top-b.parent.border.bottom)/(b.elem.height/l);"inside"===c.contain?c.maxScale=Math.min(f,b):"outside"===c.contain&&(c.minScale=Math.max(f,b))}}function x(b,f,d,e){var m=h(h({},c),e);e={x:q,y:r,opts:m};if(!m.force&&(m.disablePan||m.panOnlyWhenZoomed&&l===m.startScale))return e;b=parseFloat(b);f=parseFloat(f);m.disableXAxis||(e.x=(m.relative?q:0)+b);m.disableYAxis||(e.y=(m.relative?r:0)+f);if(m.contain){b=P(a);var g=b.elem.width/
l,u=b.elem.height/l;var k=g*d;f=u*d;g=(k-g)/2;u=(f-u)/2;"inside"===m.contain?(m=(-b.elem.margin.left-b.parent.padding.left+g)/d,k=(b.parent.width-k-b.parent.padding.left-b.elem.margin.left-b.parent.border.left-b.parent.border.right+g)/d,e.x=Math.max(Math.min(e.x,k),m),m=(-b.elem.margin.top-b.parent.padding.top+u)/d,d=(b.parent.height-f-b.parent.padding.top-b.elem.margin.top-b.parent.border.top-b.parent.border.bottom+u)/d,e.y=Math.max(Math.min(e.y,d),m)):"outside"===m.contain&&(m=(-(k-b.parent.width)-
b.parent.padding.left-b.parent.border.left-b.parent.border.right+g)/d,k=(g-b.parent.padding.left)/d,e.x=Math.max(Math.min(e.x,k),m),m=(-(f-b.parent.height)-b.parent.padding.top-b.parent.border.top-b.parent.border.bottom+u)/d,d=(u-b.parent.padding.top)/d,e.y=Math.max(Math.min(e.y,d),m))}return e}function w(b,a){a=h(h({},c),a);var f={scale:l,opts:a};if(!a.force&&a.disableZoom)return f;f.scale=Math.min(Math.max(b,a.minScale),a.maxScale);return f}function A(b,a,c,d){b=x(b,a,l,c);a=b.opts;q=b.x;r=b.y;
return z("panzoompan",a,d)}function I(b,a,c){b=w(b,a);a=b.opts;if(a.force||!a.disableZoom){b=b.scale;var d=q,f=r;a.focal&&(f=a.focal,d=(f.x/b-f.x/l+q*b)/b,f=(f.y/b-f.y/l+r*b)/b);d=x(d,f,b,{relative:!1,force:!0});q=d.x;r=d.y;l=b;return z("panzoomzoom",a,c)}}function F(b,a){a=h(h(h({},c),{animate:!0}),a);return I(l*Math.exp((b?1:-1)*a.step),a)}function Q(b,c,d,e){var f=P(a),g=f.parent.width-f.parent.padding.left-f.parent.padding.right-f.parent.border.left-f.parent.border.right,k=f.parent.height-f.parent.padding.top-
f.parent.padding.bottom-f.parent.border.top-f.parent.border.bottom,u=c.clientX-f.parent.left-f.parent.padding.left-f.parent.border.left-f.elem.margin.left;c=c.clientY-f.parent.top-f.parent.padding.top-f.parent.border.top-f.elem.margin.top;H||(u-=f.elem.width/l/2,c-=f.elem.height/l/2);f={x:u/g*g*b,y:c/k*k*b};return I(b,h(h({animate:!1},d),{focal:f}),e)}function G(b){a:{var a=c;for(var e=b.target;null!=e;e=e.parentNode){var h=a.excludeClass;if(1===e.nodeType&&-1<(" "+(e.getAttribute("class")||"").trim()+
" ").indexOf(" "+h+" ")||-1<a.exclude.indexOf(e)){a=!0;break a}}a=!1}a||(g(v,b),J=!0,c.handleStartEvent(b),K=q,L=r,d("panzoomstart",{x:q,y:r,scale:l,isSVG:H,originalEvent:b},c),b=n(v),M=b.clientX,N=b.clientY,S=l,O=t(v))}function T(b){if(J&&void 0!==K&&void 0!==L&&void 0!==M&&void 0!==N){g(v,b);var a=n(v);1<v.length?(0===O&&(O=t(v)),b=t(v)-O,b=w(b*c.step/80+S).scale,Q(b,a)):A(K+(a.clientX-M)/l,L+(a.clientY-N)/l,{animate:!1},b)}}function U(b){1===v.length&&d("panzoomend",{x:q,y:r,scale:l,isSVG:H,originalEvent:b},
c);var a=v;if(b.touches)for(;a.length;)a.pop();else b=e(a,b),-1<b&&a.splice(b,1);J&&(J=!1,K=L=M=N=void 0)}function V(){R||(R=!0,p("down",c.canvas?k:a,G),p("move",document,T,{passive:!0}),p("up",document,U,{passive:!0}))}if(!a)throw Error("Panzoom requires an element as an argument");if(1!==a.nodeType)throw Error("Panzoom requires an element with a nodeType of 1");if(!X(a))throw Error("Panzoom should be called on elements that have been attached to the DOM");c=h(h({},W),c);var H=Y(a),k=a.parentNode;
k.style.overflow=c.overflow;k.style.userSelect="none";k.style.touchAction=c.touchAction;(c.canvas?k:a).style.cursor=c.cursor;a.style.userSelect="none";a.style.touchAction=c.touchAction;C(a,"transformOrigin","string"===typeof c.origin?c.origin:H?"0 0":"50% 50%");var q=0,r=0,l=1,J=!1;I(c.startScale,{animate:!1});setTimeout(function(){D();A(c.startX,c.startY,{animate:!1})});var K,L,M,N,S,O,v=[],R=!1;c.noBind||V();return{bind:V,destroy:function(){R=!1;y("down",c.canvas?k:a,G);y("move",document,T);y("up",
document,U)},eventNames:E,getPan:function(){return{x:q,y:r}},getScale:function(){return l},getOptions:function(){var b=c,a={},d;for(d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return a},pan:A,reset:function(a){a=h(h(h({},c),{animate:!0,force:!0}),a);l=w(a.startScale,a).scale;var b=x(a.startX,a.startY,l,a);q=b.x;r=b.y;return z("panzoomreset",a)},resetStyle:function(){k.style.overflow="";k.style.userSelect="";k.style.touchAction="";k.style.cursor="";a.style.cursor="";a.style.userSelect="";a.style.touchAction=
"";C(a,"transformOrigin","")},setOptions:function(b){void 0===b&&(b={});for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);if(b.hasOwnProperty("cursor")||b.hasOwnProperty("canvas"))k.style.cursor=a.style.cursor="",(c.canvas?k:a).style.cursor=c.cursor;b.hasOwnProperty("overflow")&&(k.style.overflow=b.overflow);b.hasOwnProperty("touchAction")&&(k.style.touchAction=b.touchAction,a.style.touchAction=b.touchAction);(b.hasOwnProperty("minScale")||b.hasOwnProperty("maxScale")||b.hasOwnProperty("contain"))&&
D()},setStyle:function(b,c){return C(a,b,c)},zoom:I,zoomIn:function(a){return F(!0,a)},zoomOut:function(a){return F(!1,a)},zoomToPoint:Q,zoomWithWheel:function(a,d){a.preventDefault();d=h(h({},c),d);var b=w(l*Math.exp((0>(0===a.deltaY&&a.deltaX?a.deltaX:a.deltaY)?1:-1)*d.step/3),d).scale;return Q(b,a,d)}}}var h=function(){h=Object.assign||function(a){for(var c,d=1,e=arguments.length;d<e;d++){c=arguments[d];for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(a[g]=c[g])}return a};return h.apply(this,
arguments)};"undefined"!==typeof window&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),"function"!==typeof window.CustomEvent&&(window.CustomEvent=function(a,c){c=c||{bubbles:!1,cancelable:!1,detail:null};var d=document.createEvent("CustomEvent");d.initCustomEvent(a,c.bubbles,c.cancelable,c.detail);return d}));var E={down:"mousedown",move:"mousemove",up:"mouseup mouseleave"};"undefined"!==typeof window&&("function"===typeof window.PointerEvent?
E={down:"pointerdown",move:"pointermove",up:"pointerup pointerleave pointercancel"}:"function"===typeof window.TouchEvent&&(E={down:"touchstart",move:"touchmove",up:"touchend touchcancel"}));var aa="undefined"!==typeof document&&!!document.documentMode,A,F=["webkit","moz","ms"],x={},Z=/^http:[\w\.\/]+svg$/,W={animate:!1,canvas:!1,cursor:"move",disablePan:!1,disableZoom:!1,disableXAxis:!1,disableYAxis:!1,duration:200,easing:"ease-in-out",exclude:[],excludeClass:"panzoom-exclude",handleStartEvent:function(a){a.preventDefault();
a.stopPropagation()},maxScale:4,minScale:.125,overflow:"hidden",panOnlyWhenZoomed:!1,relative:!1,setTransform:function(a,c,d){d=c.isSVG;C(a,"transform","scale("+c.scale+") translate("+c.x+"px, "+c.y+"px)");d&&aa&&(c=window.getComputedStyle(a).getPropertyValue("transform"),a.setAttribute("transform",c))},startX:0,startY:0,startScale:1,step:.3,touchAction:"none"};G.defaultOptions=W;return G});
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,d){b!=Array.prototype&&b!=Object.prototype&&(b[a]=d.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var b=0;return function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+b++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var a=0;return $jscomp.iteratorPrototype(function(){return a<b.length?{done:!1,value:b[a++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.iteratorFromArray=function(b,a){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var d=0,c={next:function(){if(d<b.length){var e=d++;return{value:a(e,b[e]),done:!1}}c.next=function(){return{done:!0,value:void 0}};return c.next()}};c[Symbol.iterator]=function(){return c};return c};
$jscomp.polyfill=function(b,a,d,c){if(a){d=$jscomp.global;b=b.split(".");for(c=0;c<b.length-1;c++){var e=b[c];e in d||(d[e]={});d=d[e]}b=b[b.length-1];c=d[b];a=a(c);a!=c&&null!=a&&$jscomp.defineProperty(d,b,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("Array.prototype.values",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(a,b){return b})}},"es6","es3");
(function(b,a){"function"==typeof define&&define.amd?define([],a):"object"==typeof module&&module.exports?module.exports=a():b.Pinlogin=a()})(window,function(){function b(a,b,c){this.elementId=a.id;this.enabled=!0;this.settings=this.defaults={fields:5,placeholder:"\u2022",autofocus:!0,hideinput:!0,reset:!0,pattern:"^[0-9]*$",copypaste:!1,complete:function(a){},invalid:function(a,c){},keydown:function(a,c,b){},input:function(a,c,b){}};if(c)for(var d in c)this.settings[d]=c[d];d=this._createElement("div",
{id:a.id+"_pinlogin","class":["pinlogin"]});this.values=[];this.timers=[];for(c=0;c<this.settings.fields;c++){var f=this._createInput(this.getFieldId(c),c);this._attachEvents(f,c);d.appendChild(f)}a.appendChild(d);var g=this;for(c=0;c<this.settings.fields;c++)a=$("#"+this.getFieldId(c)),a.focusin(function(){1==g.enabled&&ipcStyleManager.updatePinField($(this),5,b)}),a.focusout(function(){1==g.enabled&&ipcStyleManager.updatePinField($(this),0,"#ddd")});this.reset();this.settings.autofocus&&this.focus(0)}
b.prototype._createElement=function(a,b){a=document.createElement(a);for(var c in b)"class"==c?a.classList.add.apply(a.classList,b[c]):a[c]=b[c];return a};b.prototype._createInput=function(a){return this._createElement("input",{id:a,name:a,type:"email",maxlength:1,inputmode:"numeric","x-inputmode":"numeric",pattern:this.settings.pattern,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:!1,role:"presentation","class":["pinlogin-field"]})};b.prototype._attachEvents=function(a,b){var c=
this;a.addEventListener("focus",function(){this.readOnly||(this.value="")});a.addEventListener("input",function(a){if(c.validateInput(b))if(c.settings.input(a,this,b),c.values[b]=this.value,b<c.settings.fields-1+1){if(c.settings.hideinput){0<b&&(c.getField(b-1).value=c.settings.placeholder);var d=this;c.timers.push(setTimeout(function(){d.value=c.settings.placeholder},750))}b<c.settings.fields-1?(c.getField(b+1).removeAttribute("readonly"),c.focus(b+1)):(c.blur(b),c.timers.push(setTimeout(function(){var a=
c.values.join("");c.settings.complete(a)},1E3)))}else c.settings.hideinput&&(this.value=c.settings.placeholder),a=c.values.join(""),c.settings.reset&&c.reset(),c.settings.complete(a);else a.preventDefault(),a.stopPropagation()});a.addEventListener("keydown",function(a){for(var d=0;d<c.timers.length;d++)clearTimeout(c.timers[d]);c.timers=[];c.settings.keydown(a,this,b);(37==a.keyCode||8==a.keyCode)&&0<b&&(c.resetField(b),c.focus(b-1),a.preventDefault(),a.stopPropagation())});c.settings.copypaste&&
0==b&&a.addEventListener("paste",function(a){a.stopPropagation();a.preventDefault();a=(a.clipboardData||window.clipboardData).getData("Text").trim();if(a.length==c.settings.fields)for(var b=0;b<c.settings.fields;b++){var d=c.getField(b);d.removeAttribute("readonly");d.value=a[b];if(!c.validateInput(b))break;c.focus(b+1)}})};b.prototype.validateInput=function(a){var b=this.getField(a);if(b.value.match(new RegExp(b.pattern)))return b.classList.remove("invalid"),!0;b.value="";b.classList.add("invalid");
this.settings.invalid(b,a);return!1};b.prototype.getFieldId=function(a){return this.elementId+"_pinlogin_"+a};b.prototype.getField=function(a){return document.getElementById(this.getFieldId(a))};b.prototype.focus=function(a){this.enableField(a);this.getField(a).focus()};b.prototype.blur=function(a){this.enableField(a);this.getField(a).blur()};b.prototype.reset=function(){for(var a=0;a<this.timers.length;a++)clearTimeout(this.timers[a]);this.timers=[];this.values=Array(this.settings.fields);for(a=
0;a<this.settings.fields;a++){var b=this.getField(a);b.value="";0<a&&(b.readOnly=!0,b.classList.remove("invalid"))}this.settings.autofocus&&this.focus(0)};b.prototype.resetField=function(a){this.values[a]="";a=this.getField(a);a.value="";a.readOnly=!0;a.classList.remove("invalid")};b.prototype.disable=function(){for(var a=0;a<this.settings.fields;a++)this.disableField(a);this.getField(0).blur();this.enabled=!1};b.prototype.disableField=function(a){this.getField(a).readOnly=!0};b.prototype.enable=
function(){this.enabled=!0;for(var a=0;a<this.settings.fields;a++)this.enableField(a);this.getField(0).focus()};b.prototype.enableField=function(a){this.getField(a).removeAttribute("readonly")};"undefined"!==typeof jQuery&&($.fn.pinlogin=function(a){var d;this.each(function(){d=$.data(this,"pinlogin");d||(d=new b(this,a),$.data(this,"pinlogin",d))});return d});return b});
/*
 Platform.js v1.3.0 <http://mths.be/platform>
 Copyright 2010-2015 John-David Dalton <http://allyoucanleet.com/>
 Available under MIT license <http://mths.be/mit>
*/
(function(){function A(c){c=String(c);return c.charAt(0).toUpperCase()+c.slice(1)}function I(c,n){var m=-1,f=c?c.length:0;if("number"==typeof f&&-1<f&&f<=J)for(;++m<f;)n(c[m],m,c);else B(c,n)}function C(c){c=String(c).replace(/^ +| +$/g,"");return/^(?:webOS|i(?:OS|P))/.test(c)?c:A(c)}function B(c,n){for(var m in c)K.call(c,m)&&n(c[m],m,c)}function u(c){return null==c?A(c):M.call(c).slice(8,-1)}function N(c,n){var m=null!=c?typeof c[n]:"number";return!/^(?:boolean|number|string|undefined)$/.test(m)&&
("object"==m?!!c[n]:!0)}function v(c){return String(c).replace(/([ -])(?!$)/g,"$1?")}function w(c,n){var m=null;I(c,function(f,g){m=n(m,f,g,c)});return m}function y(c){function n(a){return w(a,function(a,b){var d=b.pattern||v(b);!a&&(a=RegExp("\\b"+d+" *\\d+[.\\w_]*","i").exec(c)||RegExp("\\b"+d+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(c))&&((a=String(b.label&&!RegExp(d,"i").test(b.label)?b.label:a).split("/"))[1]&&!/[\d.]+/.test(a[0])&&(a[0]+=" "+a[1]),b=b.label||b,a=C(a[0].replace(RegExp(d,
"i"),b).replace(RegExp("; *(?:"+b+"[_-])?","i")," ").replace(RegExp("("+b+")[-_.]?(\\w)","i"),"$1 $2")));return a})}function m(a){return w(a,function(a,b){return a||(RegExp(b+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(c)||0)[1]||null})}var f=D,g=c&&"object"==typeof c&&"String"!=u(c);g&&(f=c,c=null);var l=f.navigator||{},e=l.userAgent||"";c||(c=e);var t=g||Q==R,z=g?!!l.likeChrome:/\bChrome\b/.test(c)&&!/internal|\n/i.test(M.toString()),A=g?"Object":"ScriptBridgingProxyObject",
L=g?"Object":"Environment",x=g&&f.java?"JavaPackage":u(f.java),I=g?"Object":"RuntimeObject";L=(x=/\bJava/.test(x)&&f.java)&&u(f.environment)==L;var J=x?"a":"\u03b1",K=x?"b":"\u03b2",O=f.document||{},q=f.operamini||f.opera,F=E.test(F=g&&q?q["[[Class]]"]:u(q))?F:q=null,a,G=c;g=[];var H=null,r=c==e;e=r&&q&&"function"==typeof q.version&&q.version();var h=function(a){return w(a,function(a,b){return a||RegExp("\\b"+(b.pattern||v(b))+"\\b","i").exec(c)&&(b.label||b)})}(["Trident",{label:"WebKit",pattern:"AppleWebKit"},
"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),b=function(a){return w(a,function(a,b){return a||RegExp("\\b"+(b.pattern||v(b))+"\\b","i").exec(c)&&(b.label||b)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel",{label:"SRWare Iron",pattern:"Iron"},"K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Nook Browser","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},
"Sleipnir","SlimBrowser","Sunrise","Swiftfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),k=n([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",
pattern:"GT-I9500"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nook","PlayBook","PlayStation 4","PlayStation 3","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),p=function(a){return w(a,function(a,b,d){return a||(b[k]||b[0,/^[a-z]+(?: +[a-z]+\b)*/i.exec(k)]||RegExp("\\b"+v(d)+"(?:\\b|\\w*\\d)","i").exec(c))&&d})}({Apple:{iPad:1,iPhone:1,iPod:1},
Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),d=function(a){return w(a,function(a,b){var d=b.pattern||v(b);if(!a&&(a=RegExp("\\b"+d+"(?:/[\\d.]+|[ \\w.]*)","i").exec(c))){b=
b.label||b;var e={"6.4":"10","6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};d&&b&&/^Win/i.test(a)&&(e=e[0,/[\d.]+$/.exec(a)])&&(a="Windows "+e);a=String(a);d&&b&&(a=a.replace(RegExp(d,"i"),b));a=C(a.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/,
" $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").split(" on ")[0])}return a})}("Windows Phone ,Android,CentOS,Debian,Fedora,FreeBSD,Gentoo,Haiku,Kubuntu,Linux Mint,Red Hat,SuSE,Ubuntu,Xubuntu,Cygwin,Symbian OS,hpwOS,webOS ,webOS,Tablet OS,Linux,Mac OS X,Macintosh,Mac,Windows 98;,Windows ".split(","));h&&(h=[h]);p&&!k&&(k=n([p]));if(a=/\bGoogle TV\b/.exec(k))k=a[0];/\bSimulator\b/i.test(c)&&(k=(k?k+" ":"")+"Simulator");
"Opera Mini"==b&&/\bOPiOS\b/.test(c)&&g.push("running in Turbo/Uncompressed mode");if(/^iP/.test(k))b||(b="Safari"),d="iOS"+((a=/ OS ([\d_]+)/i.exec(c))?" "+a[1].replace(/_/g,"."):"");else if("Konqueror"==b&&!/buntu/i.test(d))d="Kubuntu";else if(p&&"Google"!=p&&(/Chrome/.test(b)&&!/\bMobile Safari\b/i.test(c)||/\bVita\b/.test(k)))b="Android Browser",d=/\bAndroid\b/.test(d)?d:"Android";else if(!b||(a=!/\bMinefield\b|\(Android;/i.test(c)&&/\b(?:Firefox|Safari)\b/.exec(b)))b&&!k&&/[\/,]|^[^(]+?\)/.test(c.slice(c.indexOf(a+
"/")+8))&&(b=null),(a=k||p||d)&&(k||p||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(d))&&(b=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(d)?d:a)+" Browser");(a=/\((Mobile|Tablet).*?Firefox\b/i.exec(c))&&a[1]&&(d="Firefox OS",k||(k=a[1]));e||(e=m(["(?:Cloud9|CriOS|CrMo|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))","Version",v(b),"(?:Firefox|Minefield|NetFront)"]));"iCab"==h&&3<parseFloat(e)?h=["WebKit"]:"Trident"!=h&&(a=/\bOpera\b/.test(b)&&(/\bOPR\b/.test(c)?"Blink":"Presto")||
/\b(?:Midori|Nook|Safari)\b/i.test(c)&&"WebKit"||!h&&/\bMSIE\b/i.test(c)&&("Mac OS"==d?"Tasman":"Trident"))?h=[a]:/\bPlayStation\b(?! Vita\b)/i.test(b)&&"WebKit"==h&&(h=["NetFront"]);"IE"==b&&(a=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(c)||0)[1])?(b+=" Mobile",d="Windows Phone "+(/\+$/.test(a)?a:a+".x"),g.unshift("desktop mode")):/\bWPDesktop\b/i.test(c)?(b="IE Mobile",d="Windows Phone 8+",g.unshift("desktop mode"),e||(e=(/\brv:([\d.]+)/.exec(c)||0)[1])):"IE"!=b&&"Trident"==h&&(a=/\brv:([\d.]+)/.exec(c))?
(/\bWPDesktop\b/i.test(c)||(b&&g.push("identifying as "+b+(e?" "+e:"")),b="IE"),e=a[1]):"Chrome"!=b&&"IE"==b||!(a=/\bEdge\/([\d.]+)/.exec(c))||(b="Microsoft Edge",e=a[1],h=["Trident"]);if(r){if(N(f,"global"))if(x&&(a=x.lang.System,G=a.getProperty("os.arch"),d=d||a.getProperty("os.name")+" "+a.getProperty("os.version")),t&&N(f,"system")&&(a=[f.system])[0]){d||(d=a[0].os||null);try{a[1]=f.require("ringo/engine").version,e=a[1].join("."),b="RingoJS"}catch(S){a[0].global.system==f.system&&(b="Narwhal")}}else"object"==
typeof f.process&&(a=f.process)?(b="Node.js",G=a.arch,d=a.platform,e=/[\d.]+/.exec(a.version)[0]):L&&(b="Rhino");else u(a=f.runtime)==A?(b="Adobe AIR",d=a.flash.system.Capabilities.os):u(a=f.phantom)==I?(b="PhantomJS",e=(a=a.version||null)&&a.major+"."+a.minor+"."+a.patch):"number"==typeof O.documentMode&&(a=/\bTrident\/(\d+)/i.exec(c))&&(e=[e,O.documentMode],(a=+a[1]+4)!=e[1]&&(g.push("IE "+e[1]+" mode"),h&&(h[1]=""),e[1]=a),e="IE"==b?String(e[1].toFixed(1)):e[0]);d=d&&C(d)}e&&(a=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(e)||
/(?:alpha|beta)(?: ?\d)?/i.exec(c+";"+(r&&l.appMinorVersion))||/\bMinefield\b/i.test(c)&&"a")&&(H=/b/i.test(a)?"beta":"alpha",e=e.replace(RegExp(a+"\\+?$"),"")+("beta"==H?K:J)+(/\d+\+?/.exec(a)||""));"Fennec"==b||"Firefox"==b&&/\b(?:Android|Firefox OS)\b/.test(d)?b="Firefox Mobile":"Maxthon"==b&&e?e=e.replace(/\.[\d.]+/,".x"):"Silk"==b?(/\bMobi/i.test(c)||(d="Android",g.unshift("desktop mode")),/Accelerated *= *true/i.test(c)&&g.unshift("accelerated")):/\bXbox\b/i.test(k)?(d=null,"Xbox 360"==k&&/\bIEMobile\b/.test(c)&&
g.unshift("mobile mode")):!/^(?:Chrome|IE|Opera)$/.test(b)&&(!b||k||/Browser|Mobi/.test(b))||"Windows CE"!=d&&!/Mobi/i.test(c)?"IE"==b&&r&&null===f.external?g.unshift("platform preview"):(/\bBlackBerry\b/.test(k)||/\bBB10\b/.test(c))&&(a=(RegExp(k.replace(/ +/g," *")+"/([.\\d]+)","i").exec(c)||0)[1]||e)?(a=[a,/BB10/.test(c)],d=(a[1]?(k=null,p="BlackBerry"):"Device Software")+" "+a[0],e=null):this!=B&&"Wii"!=k&&(r&&q||/Opera/.test(b)&&/\b(?:MSIE|Firefox)\b/i.test(c)||"Firefox"==b&&/\bOS X (?:\d+\.){2,}/.test(d)||
"IE"==b&&(d&&!/^Win/.test(d)&&5.5<e||/\bWindows XP\b/.test(d)&&8<e||8==e&&!/\bTrident\b/.test(c)))&&!E.test(a=y.call(B,c.replace(E,"")+";"))&&a.name&&(a="ing as "+a.name+((a=a.version)?" "+a:""),E.test(b)?(/\bIE\b/.test(a)&&"Mac OS"==d&&(d=null),a="identify"+a):(a="mask"+a,b=F?C(F.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(a)&&(d=null),r||(e=null)),h=["Presto"],g.push(a)):b+=" Mobile";if(a=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(c)||0)[1]){a=[parseFloat(a.replace(/\.(\d)$/,".0$1")),a];
if("Safari"==b&&"+"==a[1].slice(-1))b="WebKit Nightly",H="alpha",e=a[1].slice(0,-1);else if(e==a[1]||e==(a[2]=(/\bSafari\/([\d.]+\+?)/i.exec(c)||0)[1]))e=null;a[1]=(/\bChrome\/([\d.]+)/i.exec(c)||0)[1];537.36==a[0]&&537.36==a[2]&&28<=parseFloat(a[1])&&"IE"!=b&&"Microsoft Edge"!=b&&(h=["Blink"]);r&&(z||a[1])?(h&&(h[1]="like Chrome"),a=a[1]||(a=a[0],530>a?1:532>a?2:532.05>a?3:533>a?4:534.03>a?5:534.07>a?6:534.1>a?7:534.13>a?8:534.16>a?9:534.24>a?10:534.3>a?11:535.01>a?12:535.02>a?"13+":535.07>a?15:
535.11>a?16:535.19>a?17:536.05>a?18:536.1>a?19:537.01>a?20:537.11>a?"21+":537.13>a?23:537.18>a?24:537.24>a?25:537.36>a?26:"Blink"!=h?"27":"28")):(h&&(h[1]="like Safari"),a=(a=a[0],400>a?1:500>a?2:526>a?3:533>a?4:534>a?"4+":535>a?5:537>a?6:538>a?7:601>a?8:"8"));h&&(h[1]+=" "+(a+="number"==typeof a?".x":/[.+]/.test(a)?"":"+"));"Safari"==b&&(!e||45<parseInt(e))&&(e=a)}"Opera"==b&&(a=/\bzbov|zvav$/.exec(d))?(b+=" ",g.unshift("desktop mode"),"zvav"==a?(b+="Mini",e=null):b+="Mobile",d=d.replace(RegExp(" *"+
a+"$"),"")):"Safari"==b&&/\bChrome\b/.exec(h&&h[1])&&(g.unshift("desktop mode"),b="Chrome Mobile",e=null,/\bOS X\b/.test(d)?(p="Apple",d="iOS 4.3+"):d=null);e&&0==e.indexOf(a=/[\d.]+$/.exec(d))&&-1<c.indexOf("/"+a+"-")&&(d=String(d.replace(a,"")).replace(/^ +| +$/g,""));h&&!/\b(?:Avant|Nook)\b/.test(b)&&(/Browser|Lunascape|Maxthon/.test(b)||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(b)&&h[1])&&(a=h[h.length-1])&&g.push(a);g.length&&(g=["("+g.join("; ")+")"]);p&&k&&
0>k.indexOf(p)&&g.push("on "+p);k&&g.push((/^on /.test(g[g.length-1])?"":"on ")+k);if(d){var P=(a=/ ([\d.+]+)$/.exec(d))&&"/"==d.charAt(d.length-a[0].length-1);d={architecture:32,family:a&&!P?d.replace(a[0],""):d,version:a?a[1]:null,toString:function(){var a=this.version;return this.family+(a&&!P?" "+a:"")+(64==this.architecture?" 64-bit":"")}}}(a=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(G))&&!/\bi686\b/i.test(G)&&(d&&(d.architecture=64,d.family=d.family.replace(RegExp(" *"+a),"")),b&&(/\bWOW64\b/i.test(c)||
r&&/\w(?:86|32)$/.test(l.cpuClass||l.platform)&&!/\bWin64; x64\b/i.test(c))&&g.unshift("32-bit"));c||(c=null);f={};f.description=c;f.layout=h&&h[0];f.manufacturer=p;f.name=b;f.prerelease=H;f.product=k;f.ua=c;f.version=b&&e;f.os=d||{architecture:null,family:null,version:null,toString:function(){return"null"}};f.parse=y;f.toString=function(){return this.description||""};f.version&&g.unshift(e);f.name&&g.unshift(b);d&&b&&(d!=String(d).split(" ")[0]||d!=b.split(" ")[0]&&!k)&&g.push(k?"("+d+")":"on "+
d);g.length&&(f.description=g.join(" "));return f}var t={"function":!0,object:!0},D=t[typeof window]&&window||this,R=D,z=t[typeof exports]&&exports;t=t[typeof module]&&module&&!module.nodeType&&module;var l=z&&t&&"object"==typeof global&&global;!l||l.global!==l&&l.window!==l&&l.self!==l||(D=l);var J=Math.pow(2,53)-1,E=/\bOpera/,Q=this;l=Object.prototype;var K=l.hasOwnProperty,M=l.toString;"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return y()}):z&&t?B(y(),
function(c,l){z[l]=c}):D.platform=y()}).call(this);
/*
 MIT
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,f){a!=Array.prototype&&a!=Object.prototype&&(a[c]=f.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var f=0,e={next:function(){if(f<a.length){var d=f++;return{value:c(d,a[d]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};
$jscomp.polyfill=function(a,c,f,e){if(c){f=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var d=a[e];d in f||(f[d]={});f=f[d]}a=a[a.length-1];e=f[a];c=c(e);c!=e&&null!=c&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
(function(){function a(){var b=document.createElement("div");b.style.position="absolute";b.style.top="-9999px";b.style.width="100px";b.style.height="100px";b.style.overflow="scroll";b.style.msOverflowStyle="scrollbar";document.body.appendChild(b);var a=b.offsetWidth-b.clientWidth;document.body.removeChild(b);return a}function c(b,a){if(b.classList)return a.forEach(function(a){b.classList.add(a)});b.className+=" "+a.join(" ")}function f(b,a){if(b.classList)return a.forEach(function(a){b.classList.remove(a)});
b.className=b.className.replace(new RegExp("(^|\\b)"+a.join("|")+"(\\b|$)","gi")," ")}function e(){var b=navigator.userAgent.toLowerCase();return-1!==b.indexOf("msie")||-1!==b.indexOf("trident")||-1!==b.indexOf(" edge/")}function d(b){this.element=null;this.autoshow=!1;this.createElements=!0;this.forceGemini=!1;this.onResize=null;this.minThumbSize=20;this.onScroll=null;this.embeddWithoutControls=!1;Object.keys(b||{}).forEach(function(a){this[a]=b[a]},this);g=a();h=0===g&&!1===this.forceGemini;this.scrollbarAvailable=
0===g;this._cache={events:{}};this._cursorDown=this._created=!1;this._prevPageY=this._prevPageX=0;this._document=null;this._viewElement=this.element;this._scrollbarHorizontalElement=this._scrollbarHorizontalElement=this._thumbVerticalElement=this._scrollbarVerticalElement=null}var g,h;d.prototype.create=function(){if(h){c(this.element,["gm-prevented"]);if(this.onResize){if(!0===this.createElements){for(this._viewElement=document.createElement("div");0<this.element.childNodes.length;)this._viewElement.appendChild(this.element.childNodes[0]);
this.element.appendChild(this._viewElement)}else this._viewElement=this.element.querySelector(".gm-scroll-view");c(this.element,["gm-scrollbar-container"]);c(this._viewElement,["gm-scroll-view"]);this._createResizeTrigger()}return this}if(!0===this._created)return console.warn("calling on a already-created object"),this;this.autoshow&&c(this.element,["gm-autoshow"]);this._document=document;if(!0===this.createElements){this._viewElement=document.createElement("div");0==this.embeddWithoutControls&&
(this._scrollbarVerticalElement=document.createElement("div"),this._thumbVerticalElement=document.createElement("div"),this._scrollbarHorizontalElement=document.createElement("div"),this._thumbHorizontalElement=document.createElement("div"));for(;0<this.element.childNodes.length;)this._viewElement.appendChild(this.element.childNodes[0]);0==this.embeddWithoutControls&&(this._scrollbarVerticalElement.appendChild(this._thumbVerticalElement),this._scrollbarHorizontalElement.appendChild(this._thumbHorizontalElement),
this.element.appendChild(this._scrollbarVerticalElement),this.element.appendChild(this._scrollbarHorizontalElement));this.element.appendChild(this._viewElement)}else this._viewElement=this.element.querySelector(".gm-scroll-view"),this._scrollbarVerticalElement=this.element.querySelector(".gm-scrollbar.-vertical"),this._thumbVerticalElement=this._scrollbarVerticalElement.querySelector(".thumb"),this._scrollbarHorizontalElement=this.element.querySelector(".gm-scrollbar.-horizontal"),this._thumbHorizontalElement=
this._scrollbarHorizontalElement.querySelector(".thumb");c(this.element,["gm-scrollbar-container"]);c(this._viewElement,["gm-scroll-view"]);0==this.embeddWithoutControls&&(c(this._scrollbarVerticalElement,"gm-scrollbar -vertical".split(/\s/)),c(this._scrollbarHorizontalElement,"gm-scrollbar -horizontal".split(/\s/)),c(this._thumbVerticalElement,["thumb"]),c(this._thumbHorizontalElement,["thumb"]),this._scrollbarVerticalElement.style.display="",this._scrollbarHorizontalElement.style.display="");this._createResizeTrigger();
this._created=!0;return this._bindEvents().update()};d.prototype._createResizeTrigger=function(){var b=document.createElement("object");c(b,["gm-resize-trigger"]);b.type="text/html";b.setAttribute("tabindex","-1");var a=this._resizeHandler.bind(this);b.onload=function(){b.contentDocument.defaultView.addEventListener("resize",a)};e()||(b.data="about:blank");this.element.appendChild(b);e()&&(b.data="about:blank");this._resizeTriggerElement=b};d.prototype.update=function(){if(h)return this;if(!1===this._created)return console.warn("calling on a not-yet-created object"),
this;this._viewElement.style.width=(this.element.offsetWidth+g).toString()+"px";this._viewElement.style.height=(this.element.offsetHeight+g).toString()+"px";0==this.embeddWithoutControls&&(this._naturalThumbSizeX=this._scrollbarHorizontalElement.clientWidth/this._viewElement.scrollWidth*this._scrollbarHorizontalElement.clientWidth,this._naturalThumbSizeY=this._scrollbarVerticalElement.clientHeight/this._viewElement.scrollHeight*this._scrollbarVerticalElement.clientHeight,this._scrollTopMax=this._viewElement.scrollHeight-
this._viewElement.clientHeight,this._scrollLeftMax=this._viewElement.scrollWidth-this._viewElement.clientWidth,this._thumbVerticalElement.style.height=this._naturalThumbSizeY<this.minThumbSize?this.minThumbSize+"px":this._scrollTopMax?this._naturalThumbSizeY+"px":"0px",this._thumbHorizontalElement.style.width=this._naturalThumbSizeX<this.minThumbSize?this.minThumbSize+"px":this._scrollLeftMax?this._naturalThumbSizeX+"px":"0px",this._thumbSizeY=this._thumbVerticalElement.clientHeight,this._thumbSizeX=
this._thumbHorizontalElement.clientWidth,this._trackTopMax=this._scrollbarVerticalElement.clientHeight-this._thumbSizeY,this._trackLeftMax=this._scrollbarHorizontalElement.clientWidth-this._thumbSizeX);this._scrollHandler();return this};d.prototype.destroy=function(){this._resizeTriggerElement&&(this.element.removeChild(this._resizeTriggerElement),this._resizeTriggerElement=null);if(h)return this;if(!1===this._created)return console.warn("calling on a not-yet-created object"),this;this._unbinEvents();
f(this.element,["gm-scrollbar-container","gm-autoshow"]);if(!0===this.createElements){0==this.embeddWithoutControls&&(this.element.removeChild(this._scrollbarVerticalElement),this.element.removeChild(this._scrollbarHorizontalElement));for(;0<this._viewElement.childNodes.length;)this.element.appendChild(this._viewElement.childNodes[0]);this.element.removeChild(this._viewElement)}else this._viewElement.style.width="",this._viewElement.style.height="",0==this.embeddWithoutControls&&(this._scrollbarVerticalElement.style.display=
"none",this._scrollbarHorizontalElement.style.display="none");this._created=!1;return this._document=null};d.prototype.getViewElement=function(){return this._viewElement};d.prototype._bindEvents=function(){this._cache.events.scrollHandler=this._scrollHandler.bind(this);this._cache.events.clickVerticalTrackHandler=this._clickVerticalTrackHandler.bind(this);this._cache.events.clickHorizontalTrackHandler=this._clickHorizontalTrackHandler.bind(this);this._cache.events.clickVerticalThumbHandler=this._clickVerticalThumbHandler.bind(this);
this._cache.events.clickHorizontalThumbHandler=this._clickHorizontalThumbHandler.bind(this);this._cache.events.mouseUpDocumentHandler=this._mouseUpDocumentHandler.bind(this);this._cache.events.mouseMoveDocumentHandler=this._mouseMoveDocumentHandler.bind(this);this._viewElement.addEventListener("scroll",this._cache.events.scrollHandler);0==this.embeddWithoutControls&&(this._scrollbarVerticalElement.addEventListener("mousedown",this._cache.events.clickVerticalTrackHandler),this._scrollbarHorizontalElement.addEventListener("mousedown",
this._cache.events.clickHorizontalTrackHandler),this._thumbVerticalElement.addEventListener("mousedown",this._cache.events.clickVerticalThumbHandler),this._thumbHorizontalElement.addEventListener("mousedown",this._cache.events.clickHorizontalThumbHandler));this._document.addEventListener("mouseup",this._cache.events.mouseUpDocumentHandler);return this};d.prototype._unbinEvents=function(){this._viewElement.removeEventListener("scroll",this._cache.events.scrollHandler);0==this.embeddWithoutControls&&
(this._scrollbarVerticalElement.removeEventListener("mousedown",this._cache.events.clickVerticalTrackHandler),this._scrollbarHorizontalElement.removeEventListener("mousedown",this._cache.events.clickHorizontalTrackHandler),this._thumbVerticalElement.removeEventListener("mousedown",this._cache.events.clickVerticalThumbHandler),this._thumbHorizontalElement.removeEventListener("mousedown",this._cache.events.clickHorizontalThumbHandler));this._document.removeEventListener("mouseup",this._cache.events.mouseUpDocumentHandler);
this._document.removeEventListener("mousemove",this._cache.events.mouseMoveDocumentHandler);return this};d.prototype._scrollHandler=function(){var a=this._viewElement.scrollLeft*this._trackLeftMax/this._scrollLeftMax||0,c=this._viewElement.scrollTop*this._trackTopMax/this._scrollTopMax||0;0==this.embeddWithoutControls&&(this._thumbHorizontalElement.style.msTransform="translateX("+a+"px)",this._thumbHorizontalElement.style.webkitTransform="translate3d("+a+"px, 0, 0)",this._thumbHorizontalElement.style.transform=
"translate3d("+a+"px, 0, 0)",this._thumbVerticalElement.style.msTransform="translateY("+c+"px)",this._thumbVerticalElement.style.webkitTransform="translate3d(0, "+c+"px, 0)",this._thumbVerticalElement.style.transform="translate3d(0, "+c+"px, 0)");if(this.onScroll)this.onScroll()};d.prototype._resizeHandler=function(){this.update();if(this.onResize)this.onResize()};d.prototype._clickVerticalTrackHandler=function(a){1!=this.embeddWithoutControls&&(this._viewElement.scrollTop=100*(a.offsetY-.5*this._naturalThumbSizeY)/
this._scrollbarVerticalElement.clientHeight*this._viewElement.scrollHeight/100)};d.prototype._clickHorizontalTrackHandler=function(a){1!=this.embeddWithoutControls&&(this._viewElement.scrollLeft=100*(a.offsetX-.5*this._naturalThumbSizeX)/this._scrollbarHorizontalElement.clientWidth*this._viewElement.scrollWidth/100)};d.prototype._clickVerticalThumbHandler=function(a){this._startDrag(a);this._prevPageY=this._thumbSizeY-a.offsetY};d.prototype._clickHorizontalThumbHandler=function(a){this._startDrag(a);
this._prevPageX=this._thumbSizeX-a.offsetX};d.prototype._startDrag=function(a){a.stopImmediatePropagation();this._cursorDown=!0;c(document.body,["gm-scrollbar-disable-selection"]);this._document.addEventListener("mousemove",this._cache.events.mouseMoveDocumentHandler);this._document.onselectstart=function(){return!1}};d.prototype._mouseUpDocumentHandler=function(){this._cursorDown=!1;this._prevPageX=this._prevPageY=0;f(document.body,["gm-scrollbar-disable-selection"]);this._document.removeEventListener("mousemove",
this._cache.events.mouseMoveDocumentHandler);this._document.onselectstart=null};d.prototype._mouseMoveDocumentHandler=function(a){if(!1!==this._cursorDown&&1!=this.embeddWithoutControls)if(this._prevPageY){a=a.clientY-this._scrollbarVerticalElement.getBoundingClientRect().top;var b=this._thumbSizeY-this._prevPageY;this._viewElement.scrollTop=this._scrollTopMax*(a-b)/this._trackTopMax}else this._prevPageX&&(a=a.clientX-this._scrollbarHorizontalElement.getBoundingClientRect().left,b=this._thumbSizeX-
this._prevPageX,this._viewElement.scrollLeft=this._scrollLeftMax*(a-b)/this._trackLeftMax)};"object"===typeof exports?module.exports=d:window.GeminiScrollbar=d})();
(function(k,e){"object"===typeof exports&&"undefined"!==typeof module?e(exports,require("d3-time")):"function"===typeof define&&define.amd?define(["exports","d3-time"],e):e(k.d3=k.d3||{},k.d3)})(this,function(k,e){function T(a){if(0<=a.y&&100>a.y){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);b.setFullYear(a.y);return b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function u(a){if(0<=a.y&&100>a.y){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));b.setUTCFullYear(a.y);return b}return new Date(Date.UTC(a.y,
a.m,a.d,a.H,a.M,a.S,a.L))}function q(a){return{y:a,m:0,d:1,H:0,M:0,S:0,L:0}}function v(a){function b(a,b){return function(c){var d=[],g=-1,m=0,U=a.length,f,e;for(c instanceof Date||(c=new Date(+c));++g<U;)if(37===a.charCodeAt(g)){d.push(a.slice(m,g));null!=(m=J[f=a.charAt(++g)])?f=a.charAt(++g):m="e"===f?" ":"0";if(e=b[f])f=e(c,m);d.push(f);m=g+1}d.push(a.slice(m,g));return d.join("")}}function c(a,b){return function(c){var d=q(1900);if(f(d,a,c+="",0)!=c.length)return null;if("Q"in d)return new Date(d.Q);
"p"in d&&(d.H=d.H%12+12*d.p);if("V"in d){if(1>d.V||53<d.V)return null;"w"in d||(d.w=1);if("Z"in d){c=u(q(d.y));var g=c.getUTCDay();c=4<g||0===g?e.utcMonday.ceil(c):e.utcMonday(c);c=e.utcDay.offset(c,7*(d.V-1));d.y=c.getUTCFullYear();d.m=c.getUTCMonth();d.d=c.getUTCDate()+(d.w+6)%7}else c=b(q(d.y)),g=c.getDay(),c=4<g||0===g?e.timeMonday.ceil(c):e.timeMonday(c),c=e.timeDay.offset(c,7*(d.V-1)),d.y=c.getFullYear(),d.m=c.getMonth(),d.d=c.getDate()+(d.w+6)%7}else if("W"in d||"U"in d)"w"in d||(d.w="u"in
d?d.u%7:"W"in d?1:0),g="Z"in d?u(q(d.y)).getUTCDay():b(q(d.y)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+7*d.W-(g+5)%7:d.w+7*d.U-(g+6)%7;return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,u(d)):b(d)}}function f(a,b,c,d){for(var g=0,m=b.length,f=c.length,e;g<m;){if(d>=f)return-1;e=b.charCodeAt(g++);if(37===e){if(e=b.charAt(g++),e=V[e in J?b.charAt(g++):e],!e||0>(d=e(a,c,d)))return-1}else if(e!=c.charCodeAt(d++))return-1}return d}var h=a.dateTime,k=a.date,l=a.time,w=a.periods,x=a.days,y=a.shortDays,z=a.months,A=
a.shortMonths,v=r(w),B=t(w),C=r(x),D=t(x),E=r(y),F=t(y),G=r(z),H=t(z),I=r(A),W=t(A),n={a:function(a){return y[a.getDay()]},A:function(a){return x[a.getDay()]},b:function(a){return A[a.getMonth()]},B:function(a){return z[a.getMonth()]},c:null,d:K,e:K,f:X,H:Y,I:Z,j:aa,L:L,m:ba,M:ca,p:function(a){return w[+(12<=a.getHours())]},Q:M,s:N,S:da,u:ea,U:fa,V:ha,w:ia,W:ja,x:null,X:null,y:ka,Y:la,Z:ma,"%":O},p={a:function(a){return y[a.getUTCDay()]},A:function(a){return x[a.getUTCDay()]},b:function(a){return A[a.getUTCMonth()]},
B:function(a){return z[a.getUTCMonth()]},c:null,d:P,e:P,f:na,H:oa,I:pa,j:qa,L:Q,m:ra,M:sa,p:function(a){return w[+(12<=a.getUTCHours())]},Q:M,s:N,S:ta,u:ua,U:va,V:wa,w:xa,W:ya,x:null,X:null,y:za,Y:Aa,Z:Ba,"%":O},V={a:function(a,b,c){return(b=E.exec(b.slice(c)))?(a.w=F[b[0].toLowerCase()],c+b[0].length):-1},A:function(a,b,c){return(b=C.exec(b.slice(c)))?(a.w=D[b[0].toLowerCase()],c+b[0].length):-1},b:function(a,b,c){return(b=I.exec(b.slice(c)))?(a.m=W[b[0].toLowerCase()],c+b[0].length):-1},B:function(a,
b,c){return(b=G.exec(b.slice(c)))?(a.m=H[b[0].toLowerCase()],c+b[0].length):-1},c:function(a,b,c){return f(a,h,b,c)},d:R,e:R,f:Ca,H:S,I:S,j:Da,L:Ea,m:Fa,M:Ga,p:function(a,b,c){return(b=v.exec(b.slice(c)))?(a.p=B[b[0].toLowerCase()],c+b[0].length):-1},Q:Ha,s:Ia,S:Ja,u:Ka,U:La,V:Ma,w:Na,W:Oa,x:function(a,b,c){return f(a,k,b,c)},X:function(a,b,c){return f(a,l,b,c)},y:Pa,Y:Qa,Z:Ra,"%":Sa};n.x=b(k,n);n.X=b(l,n);n.c=b(h,n);p.x=b(k,p);p.X=b(l,p);p.c=b(h,p);return{format:function(a){var c=b(a+="",n);c.toString=
function(){return a};return c},parse:function(a){var b=c(a+="",T);b.toString=function(){return a};return b},utcFormat:function(a){var c=b(a+="",p);c.toString=function(){return a};return c},utcParse:function(a){var b=c(a,u);b.toString=function(){return a};return b}}}function f(a,b,c){var e=0>a?"-":"";a=(e?-a:a)+"";var f=a.length;return e+(f<c?Array(c-f+1).join(b)+a:a)}function C(a){return a.replace(D,"\\$&")}function r(a){return new RegExp("^(?:"+a.map(C).join("|")+")","i")}function t(a){for(var b=
{},c=-1,e=a.length;++c<e;)b[a[c].toLowerCase()]=c;return b}function Na(a,b,c){return(b=h.exec(b.slice(c,c+1)))?(a.w=+b[0],c+b[0].length):-1}function Ka(a,b,c){return(b=h.exec(b.slice(c,c+1)))?(a.u=+b[0],c+b[0].length):-1}function La(a,b,c){return(b=h.exec(b.slice(c,c+2)))?(a.U=+b[0],c+b[0].length):-1}function Ma(a,b,c){return(b=h.exec(b.slice(c,c+2)))?(a.V=+b[0],c+b[0].length):-1}function Oa(a,b,c){return(b=h.exec(b.slice(c,c+2)))?(a.W=+b[0],c+b[0].length):-1}function Qa(a,b,c){return(b=h.exec(b.slice(c,
c+4)))?(a.y=+b[0],c+b[0].length):-1}function Pa(a,b,c){return(b=h.exec(b.slice(c,c+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),c+b[0].length):-1}function Ra(a,b,c){return(b=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(b.slice(c,c+6)))?(a.Z=b[1]?0:-(b[2]+(b[3]||"00")),c+b[0].length):-1}function Fa(a,b,c){return(b=h.exec(b.slice(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1}function R(a,b,c){return(b=h.exec(b.slice(c,c+2)))?(a.d=+b[0],c+b[0].length):-1}function Da(a,b,c){return(b=h.exec(b.slice(c,c+3)))?(a.m=0,a.d=+b[0],c+
b[0].length):-1}function S(a,b,c){return(b=h.exec(b.slice(c,c+2)))?(a.H=+b[0],c+b[0].length):-1}function Ga(a,b,c){return(b=h.exec(b.slice(c,c+2)))?(a.M=+b[0],c+b[0].length):-1}function Ja(a,b,c){return(b=h.exec(b.slice(c,c+2)))?(a.S=+b[0],c+b[0].length):-1}function Ea(a,b,c){return(b=h.exec(b.slice(c,c+3)))?(a.L=+b[0],c+b[0].length):-1}function Ca(a,b,c){return(b=h.exec(b.slice(c,c+6)))?(a.L=Math.floor(b[0]/1E3),c+b[0].length):-1}function Sa(a,b,c){return(a=E.exec(b.slice(c,c+1)))?c+a[0].length:
-1}function Ha(a,b,c){return(b=h.exec(b.slice(c)))?(a.Q=+b[0],c+b[0].length):-1}function Ia(a,b,c){return(b=h.exec(b.slice(c)))?(a.Q=1E3*+b[0],c+b[0].length):-1}function K(a,b){return f(a.getDate(),b,2)}function Y(a,b){return f(a.getHours(),b,2)}function Z(a,b){return f(a.getHours()%12||12,b,2)}function aa(a,b){return f(1+e.timeDay.count(e.timeYear(a),a),b,3)}function L(a,b){return f(a.getMilliseconds(),b,3)}function X(a,b){return L(a,b)+"000"}function ba(a,b){return f(a.getMonth()+1,b,2)}function ca(a,
b){return f(a.getMinutes(),b,2)}function da(a,b){return f(a.getSeconds(),b,2)}function ea(a){a=a.getDay();return 0===a?7:a}function fa(a,b){return f(e.timeSunday.count(e.timeYear(a),a),b,2)}function ha(a,b){var c=a.getDay();a=4<=c||0===c?e.timeThursday(a):e.timeThursday.ceil(a);return f(e.timeThursday.count(e.timeYear(a),a)+(4===e.timeYear(a).getDay()),b,2)}function ia(a){return a.getDay()}function ja(a,b){return f(e.timeMonday.count(e.timeYear(a),a),b,2)}function ka(a,b){return f(a.getFullYear()%
100,b,2)}function la(a,b){return f(a.getFullYear()%1E4,b,4)}function ma(a){a=a.getTimezoneOffset();return(0<a?"-":(a*=-1,"+"))+f(a/60|0,"0",2)+f(a%60,"0",2)}function P(a,b){return f(a.getUTCDate(),b,2)}function oa(a,b){return f(a.getUTCHours(),b,2)}function pa(a,b){return f(a.getUTCHours()%12||12,b,2)}function qa(a,b){return f(1+e.utcDay.count(e.utcYear(a),a),b,3)}function Q(a,b){return f(a.getUTCMilliseconds(),b,3)}function na(a,b){return Q(a,b)+"000"}function ra(a,b){return f(a.getUTCMonth()+1,
b,2)}function sa(a,b){return f(a.getUTCMinutes(),b,2)}function ta(a,b){return f(a.getUTCSeconds(),b,2)}function ua(a){a=a.getUTCDay();return 0===a?7:a}function va(a,b){return f(e.utcSunday.count(e.utcYear(a),a),b,2)}function wa(a,b){var c=a.getUTCDay();a=4<=c||0===c?e.utcThursday(a):e.utcThursday.ceil(a);return f(e.utcThursday.count(e.utcYear(a),a)+(4===e.utcYear(a).getUTCDay()),b,2)}function xa(a){return a.getUTCDay()}function ya(a,b){return f(e.utcMonday.count(e.utcYear(a),a),b,2)}function za(a,
b){return f(a.getUTCFullYear()%100,b,2)}function Aa(a,b){return f(a.getUTCFullYear()%1E4,b,4)}function Ba(){return"+0000"}function O(){return"%"}function M(a){return+a}function N(a){return Math.floor(+a/1E3)}function B(a){l=v(a);k.timeFormat=l.format;k.timeParse=l.parse;k.utcFormat=l.utcFormat;k.utcParse=l.utcParse;return l}function F(a){return a.toISOString()}function G(a){a=new Date(a);return isNaN(a)?null:a}var J={"-":"",_:" ",0:"0"},h=/^\s*\d+/,E=/^%/,D=/[\\^$*+?|[\]().{}]/g,l;B({dateTime:"%x, %X",
date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var H=Date.prototype.toISOString?F:k.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),I=+new Date("2000-01-01T00:00:00.000Z")?G:k.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");
k.timeFormatDefaultLocale=B;k.timeFormatLocale=v;k.isoFormat=H;k.isoParse=I;Object.defineProperty(k,"__esModule",{value:!0})});
(function(k,h){"function"===typeof define&&define.amd?define([],h):"object"===typeof exports?module.exports=h():k.textFit=h()})("object"===typeof global?global:this,function(){function k(f,c){return-1<(" "+f.className+" ").indexOf(" "+c+" ")}var h={alignVert:!1,alignHoriz:!1,multiLine:!1,detectMultiLine:!0,minFontSize:6,maxFontSize:80,reProcess:!0,widthOnly:!1,alignVertWithFlexbox:!1};return function(f,c){c||(c={});var p={};for(a in h)c.hasOwnProperty(a)?p[a]=c[a]:p[a]=h[a];"function"===typeof f.toArray&&
(f=f.toArray());c=Object.prototype.toString.call(f);"[object Array]"!==c&&"[object NodeList]"!==c&&"[object HTMLCollection]"!==c&&(f=[f]);for(c=0;c<f.length;c++){var a=f[c];var d=p;if(("object"===typeof HTMLElement?a instanceof HTMLElement:a&&"object"===typeof a&&null!==a&&1===a.nodeType&&"string"===typeof a.nodeName)&&(d.reProcess||!a.getAttribute("textFitted"))){d.reProcess||a.setAttribute("textFitted",1);var g=a.innerHTML;var e=a;var b=window.getComputedStyle(e,null);e=e.clientWidth-parseInt(b.getPropertyValue("padding-left"),
10)-parseInt(b.getPropertyValue("padding-right"),10);b=a;var l=window.getComputedStyle(b,null);l=b.clientHeight-parseInt(l.getPropertyValue("padding-top"),10)-parseInt(l.getPropertyValue("padding-bottom"),10);if(!e||!d.widthOnly&&!l){if(d.widthOnly)throw Error("Set a static width on the target element "+a.outerHTML+" before using textFit!");throw Error("Set a static height and width on the target element "+a.outerHTML+" before using textFit!");}-1===g.indexOf("textFitted")?(b=document.createElement("span"),
b.className="textFitted",b.style.display="inline-block",b.innerHTML=g,a.innerHTML="",a.appendChild(b)):(b=a.querySelector("span.textFitted"),k(b,"textFitAlignVert")&&(b.className=b.className.replace("textFitAlignVert",""),b.style.height="",a.className.replace("textFitAlignVertFlex","")));d.alignHoriz&&(a.style["text-align"]="center",b.style["text-align"]="center");g=d.multiLine;d.detectMultiLine&&!g&&b.scrollHeight>=2*parseInt(window.getComputedStyle(b)["font-size"],10)&&(g=!0);g||(a.style["white-space"]=
"nowrap");var m=d.minFontSize;g=d.maxFontSize;for(var q=m;m<=g;){var n=g+m>>1;b.style.fontSize=n+"px";b.scrollWidth<=e&&(d.widthOnly||b.scrollHeight<=l)?(q=n,m=n+1):g=n-1}b.style.fontSize!=q+"px"&&(b.style.fontSize=q+"px");d.alignVert&&(document.getElementById("textFitStyleSheet")||(e=document.createElement("style"),e.type="text/css",e.id="textFitStyleSheet",e.innerHTML=".textFitAlignVert{position: absolute;top: 0; right: 0; bottom: 0; left: 0;margin: auto;display: flex;justify-content: center;flex-direction: column;}.textFitAlignVertFlex{display: flex;}.textFitAlignVertFlex .textFitAlignVert{position: static;}",
document.body.appendChild(e)),e=b.scrollHeight,"static"===window.getComputedStyle(a).position&&(a.style.position="relative"),k(b,"textFitAlignVert")||(b.className+=" textFitAlignVert"),b.style.height=e+"px",d.alignVertWithFlexbox&&!k(a,"textFitAlignVertFlex")&&(a.className+=" textFitAlignVertFlex"))}}}});
